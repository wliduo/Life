!function(i){function n(t){if(r[t])return r[t].exports;var e=r[t]={i:t,l:!1,exports:{}};return i[t].call(e.exports,e,e.exports,n),e.l=!0,e.exports}var r={};n.m=i,n.c=r,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:i})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/",n(n.s=6)}([function(e,t){(function(t){e.exports=t}).call(t,{})},function(t,e,i){"use strict";var n,r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(t){"object"===("undefined"==typeof window?"undefined":r(window))&&(n=window)}t.exports=n},function(t,e,i){"use strict";t.exports=function(){$(document).ready(function(){function e(){var t=$(".header-inner").height()+CONFIG.sidebar.offset;$("#sidebar").height()<$("#content").height()&&i.affix({offset:{top:t-2*CONFIG.sidebar.offset,bottom:540}})}var i=$(".sidebar-inner");e(),window.matchMedia("(min-width: 991px)").addListener(function(t){t.matches&&($(window).off(".affix"),i.removeData("bs.affix").removeClass("affix affix-top affix-bottom"),e())})})}},function(t,e,i){"use strict";t.exports=function(){$(document).ready(function(){!function(){function e(){$(i+" "+t).removeClass(t.substring(1))}var i=".post-toc",n=$(i),t=".active-current";n.on("activate.bs.scrollspy",function(){var t=$(i+" .active").last();e(),t.addClass("active-current"),n.scrollTop(t.offset().top-n.offset().top+n.scrollTop()-n.height()/2)}).on("clear.bs.scrollspy",e),$("body").scrollspy({target:i})}()}),$(document).ready(function(){var n=$("html"),r=$.isFunction(n.velocity);$(".sidebar-nav li").on("click",function(){var t=$(this);if(!t.hasClass("sidebar-nav-active")){var e=$(".sidebar-panel-active"),i=$("."+t.data("target"));r?e.velocity("transition.slideUpOut",200,function(){i.velocity("stop").velocity("transition.slideDownIn",200).addClass("sidebar-panel-active")}):e.animate({opacity:0},200,function(){e.hide(),i.stop().css({opacity:0,display:"block"}).animate({opacity:1},200,function(){e.removeClass("sidebar-panel-active"),i.addClass("sidebar-panel-active")})}),t.siblings().removeClass("sidebar-nav-active"),t.addClass("sidebar-nav-active")}}),$(".post-toc a").on("click",function(t){t.preventDefault();var e=NexT.utils.escapeSelector(this.getAttribute("href")),i=$(e).offset().top;r?n.velocity("stop").velocity("scroll",{offset:i+"px",mobileHA:!1}):$("html, body").stop().animate({scrollTop:i},500)});var t=$(".post-toc-content"),e="post"===CONFIG.sidebar.display||"always"===CONFIG.sidebar.display,i=0<t.length&&0<t.html().trim().length;e&&i&&(CONFIG.motion.enable?NexT.motion.middleWares.sidebar=function(){NexT.utils.displaySidebar()}:NexT.utils.displaySidebar())})}},function(t,e,i){"use strict";var h=void 0;window.CONFIG.leancloud.enable&&(h=i(17)).initialize(window.CONFIG.leancloud.appID,window.CONFIG.leancloud.appKey),t.exports=function(){window.CONFIG.leancloud.enable&&$(function(){var t,e,a,l,r,i,o,s,n,u=h.Object.extend("Counter");1==$(".leancloud_visitors").length?(r=u,i=$(".leancloud_visitors"),o=i.attr("id").trim(),s=i.attr("data-flag-title").trim(),(n=new h.Query(r)).equalTo("url",o),n.find().then(function(t){if(0<t.length){var e=t[0];e.save(null,{fetchWhenSave:!0}),e.increment("time"),e.save().then(function(t){$(document.getElementById(o)).find(".leancloud-visitors-count").text(t.get("time"))}).then(function(t,e){console.log("Failed to save Visitor num, with error message: "+e.message)})}else{var i=new r,n=new h.ACL;n.setPublicReadAccess(!0),n.setPublicWriteAccess(!0),i.setACL(n),i.set("title",s),i.set("url",o),i.set("time",1),i.save().then(function(t){$(document.getElementById(o)).find(".leancloud-visitors-count").text(t.get("time"))}).then(function(t,e){console.log("Failed to create")})}}).then(function(t){console.log("Error:"+t.code+" "+t.message)})):1<$(".post-title-link").length&&(t=u,e=new h.Query(t),a=[],(l=$(".leancloud_visitors")).each(function(){a.push($(this).attr("id").trim())}),e.containedIn("url",a),e.find().then(function(t){if(0!==t.length){for(var e=0;e<t.length;e++){var i=t[e],n=i.get("url"),r=i.get("time"),o=document.getElementById(n);$(o).find(".leancloud-visitors-count").text(r)}for(e=0;e<a.length;e++){n=a[e],o=document.getElementById(n);var s=$(o).find(".leancloud-visitors-count");""==s.text()&&s.text(0)}}else l.find(".leancloud-visitors-count").text(0)}).then(function(t,e){console.log("Error: "+e.code+" "+e.message)}))})}},function(t,e,i){"use strict";i(20),t.exports=function(){$(".post-share").length&&$(".post-share").share({disabled:["tencent","douban","linkedin","diandian","facebook","google"],wechatQrcodeTitle:"微信扫一扫",wechatQrcodeHelper:"<p>微信扫一扫，右上角分享</p>",source:CONFIG.site.title})}},function(t,e,i){"use strict";window.FastClick=i(7),i(8),i(9)(window.$),window.notie=i(10),i(11),i(12),i(13),i(2)(),i(14),i(3)(),i(15),i(16),i(4)(),i(5)(),i(21),i(23),i(24),i(25),i(27),i(29),i(30),i(31),i(34),i(35)},function(e,i,n){"use strict";var o,c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};!function(){function s(r,t){var e;if(t=t||{},this.trackingClick=!1,this.trackingClickStart=0,this.targetElement=null,this.touchStartX=0,this.touchStartY=0,this.lastTouchIdentifier=0,this.touchBoundary=t.touchBoundary||10,this.layer=r,this.tapDelay=t.tapDelay||200,this.tapTimeout=t.tapTimeout||700,!s.notNeeded(r)){for(var i=["onMouse","onClick","onTouchStart","onTouchMove","onTouchEnd","onTouchCancel"],n=0,o=i.length;n<o;n++)this[i[n]]=function(t,e){return function(){return t.apply(e,arguments)}}(this[i[n]],this);a&&(r.addEventListener("mouseover",this.onMouse,!0),r.addEventListener("mousedown",this.onMouse,!0),r.addEventListener("mouseup",this.onMouse,!0)),r.addEventListener("click",this.onClick,!0),r.addEventListener("touchstart",this.onTouchStart,!1),r.addEventListener("touchmove",this.onTouchMove,!1),r.addEventListener("touchend",this.onTouchEnd,!1),r.addEventListener("touchcancel",this.onTouchCancel,!1),Event.prototype.stopImmediatePropagation||(r.removeEventListener=function(t,e,i){var n=Node.prototype.removeEventListener;"click"===t?n.call(r,t,e.hijacked||e,i):n.call(r,t,e,i)},r.addEventListener=function(t,e,i){var n=Node.prototype.addEventListener;"click"===t?n.call(r,t,e.hijacked||(e.hijacked=function(t){t.propagationStopped||e(t)}),i):n.call(r,t,e,i)}),"function"==typeof r.onclick&&(e=r.onclick,r.addEventListener("click",function(t){e(t)},!1),r.onclick=null)}}var t=0<=navigator.userAgent.indexOf("Windows Phone"),a=0<navigator.userAgent.indexOf("Android")&&!t,l=/iP(ad|hone|od)/.test(navigator.userAgent)&&!t,u=l&&/OS 4_\d(_\d)?/.test(navigator.userAgent),h=l&&/OS [6-7]_\d/.test(navigator.userAgent),r=0<navigator.userAgent.indexOf("BB10");s.prototype.needsClick=function(t){switch(t.nodeName.toLowerCase()){case"button":case"select":case"textarea":if(t.disabled)return!0;break;case"input":if(l&&"file"===t.type||t.disabled)return!0;break;case"label":case"iframe":case"video":return!0}return/\bneedsclick\b/.test(t.className)},s.prototype.needsFocus=function(t){switch(t.nodeName.toLowerCase()){case"textarea":return!0;case"select":return!a;case"input":switch(t.type){case"button":case"checkbox":case"file":case"image":case"radio":case"submit":return!1}return!t.disabled&&!t.readOnly;default:return/\bneedsfocus\b/.test(t.className)}},s.prototype.sendClick=function(t,e){var i,n;document.activeElement&&document.activeElement!==t&&document.activeElement.blur(),n=e.changedTouches[0],(i=document.createEvent("MouseEvents")).initMouseEvent(this.determineEventType(t),!0,!0,window,1,n.screenX,n.screenY,n.clientX,n.clientY,!1,!1,!1,!1,0,null),i.forwardedTouchEvent=!0,t.dispatchEvent(i)},s.prototype.determineEventType=function(t){return a&&"select"===t.tagName.toLowerCase()?"mousedown":"click"},s.prototype.focus=function(t){var e;l&&t.setSelectionRange&&0!==t.type.indexOf("date")&&"time"!==t.type&&"month"!==t.type?(e=t.value.length,t.setSelectionRange(e,e)):t.focus()},s.prototype.updateScrollParent=function(t){var e,i;if(!(e=t.fastClickScrollParent)||!e.contains(t)){i=t;do{if(i.scrollHeight>i.offsetHeight){e=i,t.fastClickScrollParent=i;break}i=i.parentElement}while(i)}e&&(e.fastClickLastScrollTop=e.scrollTop)},s.prototype.getTargetElementFromEventTarget=function(t){return t.nodeType===Node.TEXT_NODE?t.parentNode:t},s.prototype.onTouchStart=function(t){var e,i,n;if(1<t.targetTouches.length)return!0;if(e=this.getTargetElementFromEventTarget(t.target),i=t.targetTouches[0],l){if((n=window.getSelection()).rangeCount&&!n.isCollapsed)return!0;if(!u){if(i.identifier&&i.identifier===this.lastTouchIdentifier)return t.preventDefault(),!1;this.lastTouchIdentifier=i.identifier,this.updateScrollParent(e)}}return this.trackingClick=!0,this.trackingClickStart=t.timeStamp,this.targetElement=e,this.touchStartX=i.pageX,this.touchStartY=i.pageY,t.timeStamp-this.lastClickTime<this.tapDelay&&t.preventDefault(),!0},s.prototype.touchHasMoved=function(t){var e=t.changedTouches[0],i=this.touchBoundary;return Math.abs(e.pageX-this.touchStartX)>i||Math.abs(e.pageY-this.touchStartY)>i},s.prototype.onTouchMove=function(t){return!this.trackingClick||((this.targetElement!==this.getTargetElementFromEventTarget(t.target)||this.touchHasMoved(t))&&(this.trackingClick=!1,this.targetElement=null),!0)},s.prototype.findControl=function(t){return void 0!==t.control?t.control:t.htmlFor?document.getElementById(t.htmlFor):t.querySelector("button, input:not([type=hidden]), keygen, meter, output, progress, select, textarea")},s.prototype.onTouchEnd=function(t){var e,i,n,r,o,s=this.targetElement;if(!this.trackingClick)return!0;if(t.timeStamp-this.lastClickTime<this.tapDelay)return this.cancelNextClick=!0;if(t.timeStamp-this.trackingClickStart>this.tapTimeout)return!0;if(this.cancelNextClick=!1,this.lastClickTime=t.timeStamp,i=this.trackingClickStart,this.trackingClick=!1,this.trackingClickStart=0,h&&(o=t.changedTouches[0],(s=document.elementFromPoint(o.pageX-window.pageXOffset,o.pageY-window.pageYOffset)||s).fastClickScrollParent=this.targetElement.fastClickScrollParent),"label"===(n=s.tagName.toLowerCase())){if(e=this.findControl(s)){if(this.focus(s),a)return!1;s=e}}else if(this.needsFocus(s))return 100<t.timeStamp-i||l&&window.top!==window&&"input"===n?this.targetElement=null:(this.focus(s),this.sendClick(s,t),l&&"select"===n||(this.targetElement=null,t.preventDefault())),!1;return!(!l||u||!(r=s.fastClickScrollParent)||r.fastClickLastScrollTop===r.scrollTop)||(this.needsClick(s)||(t.preventDefault(),this.sendClick(s,t)),!1)},s.prototype.onTouchCancel=function(){this.trackingClick=!1,this.targetElement=null},s.prototype.onMouse=function(t){return!(this.targetElement&&!t.forwardedTouchEvent&&t.cancelable&&(!this.needsClick(this.targetElement)||this.cancelNextClick)&&(t.stopImmediatePropagation?t.stopImmediatePropagation():t.propagationStopped=!0,t.stopPropagation(),t.preventDefault(),1))},s.prototype.onClick=function(t){var e;return this.trackingClick?(this.targetElement=null,!(this.trackingClick=!1)):"submit"===t.target.type&&0===t.detail||((e=this.onMouse(t))||(this.targetElement=null),e)},s.prototype.destroy=function(){var t=this.layer;a&&(t.removeEventListener("mouseover",this.onMouse,!0),t.removeEventListener("mousedown",this.onMouse,!0),t.removeEventListener("mouseup",this.onMouse,!0)),t.removeEventListener("click",this.onClick,!0),t.removeEventListener("touchstart",this.onTouchStart,!1),t.removeEventListener("touchmove",this.onTouchMove,!1),t.removeEventListener("touchend",this.onTouchEnd,!1),t.removeEventListener("touchcancel",this.onTouchCancel,!1)},s.notNeeded=function(t){var e,i,n;if(void 0===window.ontouchstart)return!0;if(i=+(/Chrome\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1]){if(!a)return!0;if(e=document.querySelector("meta[name=viewport]")){if(-1!==e.content.indexOf("user-scalable=no"))return!0;if(31<i&&document.documentElement.scrollWidth<=window.outerWidth)return!0}}if(r&&10<=(n=navigator.userAgent.match(/Version\/([0-9]*)\.([0-9]*)/))[1]&&3<=n[2]&&(e=document.querySelector("meta[name=viewport]"))){if(-1!==e.content.indexOf("user-scalable=no"))return!0;if(document.documentElement.scrollWidth<=window.outerWidth)return!0}return"none"===t.style.msTouchAction||"manipulation"===t.style.touchAction||!!(27<=+(/Firefox\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1]&&(e=document.querySelector("meta[name=viewport]"))&&(-1!==e.content.indexOf("user-scalable=no")||document.documentElement.scrollWidth<=window.outerWidth))||"none"===t.style.touchAction||"manipulation"===t.style.touchAction},s.attach=function(t,e){return new s(t,e)},"object"===c(n(0))&&n(0)?void 0!==(o=function(){return s}.call(i,n,i,e))&&(e.exports=o):void 0!==e&&e.exports?(e.exports=s.attach,e.exports.FastClick=s):window.FastClick=s}()},function(a,l,t){"use strict";(function(t){var e,i,n,r,o,s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};r=void 0!==t?t:(void 0).window||(void 0).global,o=function(t){function i(t,e){this.settings=function i(){var n={},r=!1,t=0,e=arguments.length;for("[object Boolean]"===Object.prototype.toString.call(arguments[0])&&(r=arguments[0],t++);t<e;t++){!function(t){for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&(r&&"[object Object]"===Object.prototype.toString.call(t[e])?n[e]=i(!0,n[e],t[e]):n[e]=t[e])}(arguments[t])}return n}(n,e||{}),this.images=t||document.querySelectorAll(this.settings.selector),this.observer=null,this.init()}var n={src:"data-src",srcset:"data-srcset",selector:".lazyload"};if(i.prototype={init:function(){if(t.IntersectionObserver){var n=this;this.observer=new IntersectionObserver(function(t){t.forEach(function(t){if(0<t.intersectionRatio){n.observer.unobserve(t.target);var e=t.target.getAttribute(n.settings.src),i=t.target.getAttribute(n.settings.srcset);"img"===t.target.tagName.toLowerCase()?(e&&(t.target.src=e),i&&(t.target.srcset=i)):t.target.style.backgroundImage="url("+e+")"}})},{root:null,rootMargin:"0px",threshold:[0]}),this.images.forEach(function(t){n.observer.observe(t)})}else this.loadImages()},loadAndDestroy:function(){this.settings&&(this.loadImages(),this.destroy())},loadImages:function(){if(this.settings){var n=this;this.images.forEach(function(t){var e=t.getAttribute(n.settings.src),i=t.getAttribute(n.settings.srcset);"img"===t.tagName.toLowerCase()?(e&&(t.src=e),i&&(t.srcset=i)):t.style.backgroundImage="url("+e+")"})}},destroy:function(){this.settings&&(this.observer.disconnect(),this.settings=null)}},t.lazyload=function(t,e){return new i(t,e)},t.jQuery){var e=t.jQuery;e.fn.lazyload=function(t){return(t=t||{}).attribute=t.attribute||"data-src",new i(e.makeArray(this),t),this}}return i},"object"===s(l)?a.exports=o(r):(i=[],void 0!==(n="function"==typeof(e=o(r))?e.apply(l,i):e)&&(a.exports=n))}).call(l,t(1))},function(t,e,i){"use strict";t.exports=function(R){var r=R("html"),i=R(window),u=R(document),D=R.fancybox=function(){D.open.apply(this,arguments)},s=navigator.userAgent.match(/msie/i),o=null,a=void 0!==document.createTouch,f=function(t){return t&&t.hasOwnProperty&&t instanceof R},p=function(t){return t&&"string"===R.type(t)},k=function(t){return p(t)&&0<t.indexOf("%")},N=function(t,e){var i=parseInt(t,10)||0;return e&&k(t)&&(i=D.getViewport()[e]/100*i),Math.ceil(i)},F=function(t,e){return N(t,e)+"px"};R.extend(D,{version:"2.1.5",defaults:{padding:15,margin:20,width:800,height:600,minWidth:100,minHeight:100,maxWidth:9999,maxHeight:9999,pixelRatio:1,autoSize:!0,autoHeight:!1,autoWidth:!1,autoResize:!0,autoCenter:!a,fitToView:!0,aspectRatio:!1,topRatio:.5,leftRatio:.5,scrolling:"auto",wrapCSS:"",arrows:!0,closeBtn:!0,closeClick:!1,nextClick:!1,mouseWheel:!0,autoPlay:!1,playSpeed:3e3,preload:3,modal:!1,loop:!0,ajax:{dataType:"html",headers:{"X-fancyBox":!0}},iframe:{scrolling:"auto",preload:!0},swf:{wmode:"transparent",allowfullscreen:"true",allowscriptaccess:"always"},keys:{next:{13:"left",34:"up",39:"left",40:"up"},prev:{8:"right",33:"down",37:"right",38:"down"},close:[27],play:[32],toggle:[70]},direction:{next:"left",prev:"right"},scrollOutside:!0,index:0,type:null,href:null,content:null,title:null,tpl:{wrap:'<div class="fancybox-wrap" tabIndex="-1"><div class="fancybox-skin"><div class="fancybox-outer"><div class="fancybox-inner"></div></div></div></div>',image:'<img class="fancybox-image" src="{href}" alt="" />',iframe:'<iframe id="fancybox-frame{rnd}" name="fancybox-frame{rnd}" class="fancybox-iframe" frameborder="0" vspace="0" hspace="0" webkitAllowFullScreen mozallowfullscreen allowFullScreen'+(s?' allowtransparency="true"':"")+"></iframe>",error:'<p class="fancybox-error">The requested content cannot be loaded.<br/>Please try again later.</p>',closeBtn:'<a title="Close" class="fancybox-item fancybox-close" href="javascript:;"></a>',next:'<a title="Next" class="fancybox-nav fancybox-next" href="javascript:;"><span></span></a>',prev:'<a title="Previous" class="fancybox-nav fancybox-prev" href="javascript:;"><span></span></a>',loading:'<div id="fancybox-loading"><div></div></div>'},openEffect:"fade",openSpeed:250,openEasing:"swing",openOpacity:!0,openMethod:"zoomIn",closeEffect:"fade",closeSpeed:250,closeEasing:"swing",closeOpacity:!0,closeMethod:"zoomOut",nextEffect:"elastic",nextSpeed:250,nextEasing:"swing",nextMethod:"changeIn",prevEffect:"elastic",prevSpeed:250,prevEasing:"swing",prevMethod:"changeOut",helpers:{overlay:!0,title:!0},onCancel:R.noop,beforeLoad:R.noop,afterLoad:R.noop,beforeShow:R.noop,afterShow:R.noop,beforeChange:R.noop,beforeClose:R.noop,afterClose:R.noop},group:{},opts:{},previous:null,coming:null,current:null,isActive:!1,isOpen:!1,isOpened:!1,wrap:null,skin:null,outer:null,inner:null,player:{timer:null,isActive:!1},ajaxLoad:null,imgPreload:null,transitions:{},helpers:{},open:function(h,c){if(h&&(R.isPlainObject(c)||(c={}),!1!==D.close(!0)))return R.isArray(h)||(h=f(h)?R(h).get():[h]),R.each(h,function(t,e){var i,n,r,o,s,a,l,u={};"object"===R.type(e)&&(e.nodeType&&(e=R(e)),f(e)?(u={href:e.data("fancybox-href")||e.attr("href"),title:R("<div/>").text(e.data("fancybox-title")||e.attr("title")||"").html(),isDom:!0,element:e},R.metadata&&R.extend(!0,u,e.metadata())):u=e),i=c.href||u.href||(p(e)?e:null),n=void 0!==c.title?c.title:u.title||"",!(o=(r=c.content||u.content)?"html":c.type||u.type)&&u.isDom&&((o=e.data("fancybox-type"))||(o=(s=e.prop("class").match(/fancybox\.(\w+)/))?s[1]:null)),p(i)&&(o||(D.isImage(i)?o="image":D.isSWF(i)?o="swf":"#"===i.charAt(0)?o="inline":p(e)&&(o="html",r=e)),"ajax"===o&&(i=(a=i.split(/\s+/,2)).shift(),l=a.shift())),r||("inline"===o?i?r=R(p(i)?i.replace(/.*(?=#[^\s]+$)/,""):i):u.isDom&&(r=e):"html"===o?r=i:o||i||!u.isDom||(o="inline",r=e)),R.extend(u,{href:i,type:o,content:r,title:n,selector:l}),h[t]=u}),D.opts=R.extend(!0,{},D.defaults,c),void 0!==c.keys&&(D.opts.keys=!!c.keys&&R.extend({},D.defaults.keys,c.keys)),D.group=h,D._start(D.opts.index)},cancel:function(){var t=D.coming;t&&!1===D.trigger("onCancel")||(D.hideLoading(),t&&(D.ajaxLoad&&D.ajaxLoad.abort(),D.ajaxLoad=null,D.imgPreload&&(D.imgPreload.onload=D.imgPreload.onerror=null),t.wrap&&t.wrap.stop(!0,!0).trigger("onReset").remove(),D.coming=null,D.current||D._afterZoomOut(t)))},close:function(t){D.cancel(),!1!==D.trigger("beforeClose")&&(D.unbindEvents(),D.isActive&&(D.isOpen&&!0!==t?(D.isOpen=D.isOpened=!1,D.isClosing=!0,R(".fancybox-item, .fancybox-nav").remove(),D.wrap.stop(!0,!0).removeClass("fancybox-opened"),D.transitions[D.current.closeMethod]()):(R(".fancybox-wrap").stop(!0).trigger("onReset").remove(),D._afterZoomOut())))},play:function(t){var e=function(){clearTimeout(D.player.timer)},i=function(){e(),D.current&&D.player.isActive&&(D.player.timer=setTimeout(D.next,D.current.playSpeed))},n=function(){e(),u.unbind(".player"),D.player.isActive=!1,D.trigger("onPlayEnd")};!0===t||!D.player.isActive&&!1!==t?D.current&&(D.current.loop||D.current.index<D.group.length-1)&&(D.player.isActive=!0,u.bind({"onCancel.player beforeClose.player":n,"onUpdate.player":i,"beforeLoad.player":e}),i(),D.trigger("onPlayStart")):n()},next:function(t){var e=D.current;e&&(p(t)||(t=e.direction.next),D.jumpto(e.index+1,t,"next"))},prev:function(t){var e=D.current;e&&(p(t)||(t=e.direction.prev),D.jumpto(e.index-1,t,"prev"))},jumpto:function(t,e,i){var n=D.current;n&&(t=N(t),D.direction=e||n.direction[t>=n.index?"next":"prev"],D.router=i||"jumpto",n.loop&&(t<0&&(t=n.group.length+t%n.group.length),t%=n.group.length),void 0!==n.group[t]&&(D.cancel(),D._start(t)))},reposition:function(t,e){var i,n=D.current,r=n?n.wrap:null;r&&(i=D._getPosition(e),t&&"scroll"===t.type?(delete i.position,r.stop(!0,!0).animate(i,200)):(r.css(i),n.pos=R.extend({},n.dim,i)))},update:function(e){var i=e&&e.originalEvent&&e.originalEvent.type,n=!i||"orientationchange"===i;n&&(clearTimeout(o),o=null),D.isOpen&&!o&&(o=setTimeout(function(){var t=D.current;t&&!D.isClosing&&(D.wrap.removeClass("fancybox-tmp"),(n||"load"===i||"resize"===i&&t.autoResize)&&D._setDimension(),"scroll"===i&&t.canShrink||D.reposition(e),D.trigger("onUpdate"),o=null)},n&&!a?0:300))},toggle:function(t){D.isOpen&&(D.current.fitToView="boolean"===R.type(t)?t:!D.current.fitToView,a&&(D.wrap.removeAttr("style").addClass("fancybox-tmp"),D.trigger("onUpdate")),D.update())},hideLoading:function(){u.unbind(".loading"),R("#fancybox-loading").remove()},showLoading:function(){var t,e;D.hideLoading(),t=R(D.opts.tpl.loading).click(D.cancel).appendTo("body"),u.bind("keydown.loading",function(t){27===(t.which||t.keyCode)&&(t.preventDefault(),D.cancel())}),D.defaults.fixed||(e=D.getViewport(),t.css({position:"absolute",top:.5*e.h+e.y,left:.5*e.w+e.x})),D.trigger("onLoading")},getViewport:function(){var t=D.current&&D.current.locked||!1,e={x:i.scrollLeft(),y:i.scrollTop()};return t&&t.length?(e.w=t[0].clientWidth,e.h=t[0].clientHeight):(e.w=a&&window.innerWidth?window.innerWidth:i.width(),e.h=a&&window.innerHeight?window.innerHeight:i.height()),e},unbindEvents:function(){D.wrap&&f(D.wrap)&&D.wrap.unbind(".fb"),u.unbind(".fb"),i.unbind(".fb")},bindEvents:function(){var e,l=D.current;l&&(i.bind("orientationchange.fb"+(a?"":" resize.fb")+(l.autoCenter&&!l.locked?" scroll.fb":""),D.update),(e=l.keys)&&u.bind("keydown.fb",function(i){var n=i.which||i.keyCode,t=i.target||i.srcElement;if(27===n&&D.coming)return!1;i.ctrlKey||i.altKey||i.shiftKey||i.metaKey||t&&(t.type||R(t).is("[contenteditable]"))||R.each(e,function(t,e){return 1<l.group.length&&void 0!==e[n]?(D[t](e[n]),i.preventDefault(),!1):-1<R.inArray(n,e)?(D[t](),i.preventDefault(),!1):void 0})}),R.fn.mousewheel&&l.mouseWheel&&D.wrap.bind("mousewheel.fb",function(t,e,i,n){for(var r=t.target||null,o=R(r),s=!1;o.length&&!(s||o.is(".fancybox-skin")||o.is(".fancybox-wrap"));)s=(a=o[0])&&!(a.style.overflow&&"hidden"===a.style.overflow)&&(a.clientWidth&&a.scrollWidth>a.clientWidth||a.clientHeight&&a.scrollHeight>a.clientHeight),o=R(o).parent();var a;0===e||s||1<D.group.length&&!l.canShrink&&(0<n||0<i?D.prev(0<n?"down":"left"):(n<0||i<0)&&D.next(n<0?"up":"right"),t.preventDefault())}))},trigger:function(i,t){var e,n=t||D.coming||D.current;if(n){if(R.isFunction(n[i])&&(e=n[i].apply(n,Array.prototype.slice.call(arguments,1))),!1===e)return!1;n.helpers&&R.each(n.helpers,function(t,e){e&&D.helpers[t]&&R.isFunction(D.helpers[t][i])&&D.helpers[t][i](R.extend(!0,{},D.helpers[t].defaults,e),n)})}u.trigger(i)},isImage:function(t){return p(t)&&t.match(/(^data:image\/.*,)|(\.(jp(e|g|eg)|gif|png|bmp|webp|svg)((\?|#).*)?$)/i)},isSWF:function(t){return p(t)&&t.match(/\.(swf)((\?|#).*)?$/i)},_start:function(t){var e,i,n,r,o,s={};if(t=N(t),!(e=D.group[t]||null))return!1;if(r=(s=R.extend(!0,{},D.opts,e)).margin,o=s.padding,"number"===R.type(r)&&(s.margin=[r,r,r,r]),"number"===R.type(o)&&(s.padding=[o,o,o,o]),s.modal&&R.extend(!0,s,{closeBtn:!1,closeClick:!1,nextClick:!1,arrows:!1,mouseWheel:!1,keys:null,helpers:{overlay:{closeClick:!1}}}),s.autoSize&&(s.autoWidth=s.autoHeight=!0),"auto"===s.width&&(s.autoWidth=!0),"auto"===s.height&&(s.autoHeight=!0),s.group=D.group,s.index=t,D.coming=s,!1!==D.trigger("beforeLoad")){if(n=s.type,i=s.href,!n)return D.coming=null,!(!D.current||!D.router||"jumpto"===D.router)&&(D.current.index=t,D[D.router](D.direction));if(D.isActive=!0,"image"!==n&&"swf"!==n||(s.autoHeight=s.autoWidth=!1,s.scrolling="visible"),"image"===n&&(s.aspectRatio=!0),"iframe"===n&&a&&(s.scrolling="scroll"),s.wrap=R(s.tpl.wrap).addClass("fancybox-"+(a?"mobile":"desktop")+" fancybox-type-"+n+" fancybox-tmp "+s.wrapCSS).appendTo(s.parent||"body"),R.extend(s,{skin:R(".fancybox-skin",s.wrap),outer:R(".fancybox-outer",s.wrap),inner:R(".fancybox-inner",s.wrap)}),R.each(["Top","Right","Bottom","Left"],function(t,e){s.skin.css("padding"+e,F(s.padding[t]))}),D.trigger("onReady"),"inline"===n||"html"===n){if(!s.content||!s.content.length)return D._error("content")}else if(!i)return D._error("href");"image"===n?D._loadImage():"ajax"===n?D._loadAjax():"iframe"===n?D._loadIframe():D._afterLoad()}else D.coming=null},_error:function(t){R.extend(D.coming,{type:"html",autoWidth:!0,autoHeight:!0,minWidth:0,minHeight:0,scrolling:"no",hasError:t,content:D.coming.tpl.error}),D._afterLoad()},_loadImage:function(){var t=D.imgPreload=new Image;t.onload=function(){this.onload=this.onerror=null,D.coming.width=this.width/D.opts.pixelRatio,D.coming.height=this.height/D.opts.pixelRatio,D._afterLoad()},t.onerror=function(){this.onload=this.onerror=null,D._error("image")},t.src=D.coming.href,!0!==t.complete&&D.showLoading()},_loadAjax:function(){var i=D.coming;D.showLoading(),D.ajaxLoad=R.ajax(R.extend({},i.ajax,{url:i.href,error:function(t,e){D.coming&&"abort"!==e?D._error("ajax",t):D.hideLoading()},success:function(t,e){"success"===e&&(i.content=t,D._afterLoad())}}))},_loadIframe:function(){var t=D.coming,e=R(t.tpl.iframe.replace(/\{rnd\}/g,(new Date).getTime())).attr("scrolling",a?"auto":t.iframe.scrolling).attr("src",t.href);R(t.wrap).bind("onReset",function(){try{R(this).find("iframe").hide().attr("src","//about:blank").end().empty()}catch(t){}}),t.iframe.preload&&(D.showLoading(),e.one("load",function(){R(this).data("ready",1),a||R(this).bind("load.fb",D.update),R(this).parents(".fancybox-wrap").width("100%").removeClass("fancybox-tmp").show(),D._afterLoad()})),t.content=e.appendTo(t.inner),t.iframe.preload||D._afterLoad()},_preloadImages:function(){var t,e,i=D.group,n=D.current,r=i.length,o=n.preload?Math.min(n.preload,r-1):0;for(e=1;e<=o;e+=1)"image"===(t=i[(n.index+e)%r]).type&&t.href&&((new Image).src=t.href)},_afterLoad:function(){var t,i,e,n,r,o,s=D.coming,a=D.current,l="fancybox-placeholder";if(D.hideLoading(),s&&!1!==D.isActive){if(!1===D.trigger("afterLoad",s,a))return s.wrap.stop(!0).trigger("onReset").remove(),void(D.coming=null);switch(a&&(D.trigger("beforeChange",a),a.wrap.stop(!0).removeClass("fancybox-opened").find(".fancybox-item, .fancybox-nav").remove()),D.unbindEvents(),i=(t=s).content,e=s.type,n=s.scrolling,R.extend(D,{wrap:t.wrap,skin:t.skin,outer:t.outer,inner:t.inner,current:t,previous:a}),r=t.href,e){case"inline":case"ajax":case"html":t.selector?i=R("<div>").html(i).find(t.selector):f(i)&&(i.data(l)||i.data(l,R('<div class="'+l+'"></div>').insertAfter(i).hide()),i=i.show().detach(),t.wrap.bind("onReset",function(){R(this).find(i).length&&i.hide().replaceAll(i.data(l)).data(l,!1)}));break;case"image":i=t.tpl.image.replace(/\{href\}/g,r);break;case"swf":i='<object id="fancybox-swf" classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="100%" height="100%"><param name="movie" value="'+r+'"></param>',o="",R.each(t.swf,function(t,e){i+='<param name="'+t+'" value="'+e+'"></param>',o+=" "+t+'="'+e+'"'}),i+='<embed src="'+r+'" type="application/x-shockwave-flash" width="100%" height="100%"'+o+"></embed></object>"}f(i)&&i.parent().is(t.inner)||t.inner.append(i),D.trigger("beforeShow"),t.inner.css("overflow","yes"===n?"scroll":"no"===n?"hidden":n),D._setDimension(),D.reposition(),D.isOpen=!1,D.coming=null,D.bindEvents(),D.isOpened?a.prevMethod&&D.transitions[a.prevMethod]():R(".fancybox-wrap").not(t.wrap).stop(!0).trigger("onReset").remove(),D.transitions[D.isOpened?t.nextMethod:t.openMethod](),D._preloadImages()}},_setDimension:function(){var t,e,i,n,r,o,s,a,l,u,h,c,f,p,_,d,m,g=D.getViewport(),v=0,y=D.wrap,$=D.skin,w=D.inner,b=D.current,T=b.width,x=b.height,S=b.minWidth,P=b.minHeight,O=b.maxWidth,E=b.maxHeight,A=b.scrolling,C=b.scrollOutside?b.scrollbarWidth:0,L=b.margin,I=N(L[1]+L[3]),M=N(L[0]+L[2]);if(y.add($).add(w).width("auto").height("auto").removeClass("fancybox-tmp"),i=I+(t=N($.outerWidth(!0)-$.width())),n=M+(e=N($.outerHeight(!0)-$.height())),r=k(T)?(g.w-i)*N(T)/100:T,o=k(x)?(g.h-n)*N(x)/100:x,"iframe"===b.type){if(p=b.content,b.autoHeight&&1===p.data("ready"))try{p[0].contentWindow.document.location&&(w.width(r).height(9999),_=p.contents().find("body"),C&&_.css("overflow-x","hidden"),o=_.outerHeight(!0))}catch(t){}}else(b.autoWidth||b.autoHeight)&&(w.addClass("fancybox-tmp"),b.autoWidth||w.width(r),b.autoHeight||w.height(o),b.autoWidth&&(r=w.width()),b.autoHeight&&(o=w.height()),w.removeClass("fancybox-tmp"));if(T=N(r),x=N(o),l=r/o,S=N(k(S)?N(S,"w")-i:S),O=N(k(O)?N(O,"w")-i:O),P=N(k(P)?N(P,"h")-n:P),s=O,a=E=N(k(E)?N(E,"h")-n:E),b.fitToView&&(O=Math.min(g.w-i,O),E=Math.min(g.h-n,E)),c=g.w-I,f=g.h-M,b.aspectRatio?(O<T&&(x=N((T=O)/l)),E<x&&(T=N((x=E)*l)),T<S&&(x=N((T=S)/l)),x<P&&(T=N((x=P)*l))):(T=Math.max(S,Math.min(T,O)),b.autoHeight&&"iframe"!==b.type&&(w.width(T),x=w.height()),x=Math.max(P,Math.min(x,E))),b.fitToView)if(w.width(T).height(x),y.width(T+t),u=y.width(),h=y.height(),b.aspectRatio)for(;(c<u||f<h)&&S<T&&P<x&&!(19<v++);)x=Math.max(P,Math.min(E,x-10)),(T=N(x*l))<S&&(x=N((T=S)/l)),O<T&&(x=N((T=O)/l)),w.width(T).height(x),y.width(T+t),u=y.width(),h=y.height();else T=Math.max(S,Math.min(T,T-(u-c))),x=Math.max(P,Math.min(x,x-(h-f)));C&&"auto"===A&&x<o&&T+t+C<c&&(T+=C),w.width(T).height(x),y.width(T+t),u=y.width(),h=y.height(),d=(c<u||f<h)&&S<T&&P<x,m=b.aspectRatio?T<s&&x<a&&T<r&&x<o:(T<s||x<a)&&(T<r||x<o),R.extend(b,{dim:{width:F(u),height:F(h)},origWidth:r,origHeight:o,canShrink:d,canExpand:m,wPadding:t,hPadding:e,wrapSpace:h-$.outerHeight(!0),skinSpace:$.height()-x}),!p&&b.autoHeight&&P<x&&x<E&&!m&&w.height("auto")},_getPosition:function(t){var e=D.current,i=D.getViewport(),n=e.margin,r=D.wrap.width()+n[1]+n[3],o=D.wrap.height()+n[0]+n[2],s={position:"absolute",top:n[0],left:n[3]};return e.autoCenter&&e.fixed&&!t&&o<=i.h&&r<=i.w?s.position="fixed":e.locked||(s.top+=i.y,s.left+=i.x),s.top=F(Math.max(s.top,s.top+(i.h-o)*e.topRatio)),s.left=F(Math.max(s.left,s.left+(i.w-r)*e.leftRatio)),s},_afterZoomIn:function(){var e=D.current;e&&(D.isOpen=D.isOpened=!0,D.wrap.css("overflow","visible").addClass("fancybox-opened").hide().show(0),D.update(),(e.closeClick||e.nextClick&&1<D.group.length)&&D.inner.css("cursor","pointer").bind("click.fb",function(t){R(t.target).is("a")||R(t.target).parent().is("a")||(t.preventDefault(),D[e.closeClick?"close":"next"]())}),e.closeBtn&&R(e.tpl.closeBtn).appendTo(D.skin).bind("click.fb",function(t){t.preventDefault(),D.close()}),e.arrows&&1<D.group.length&&((e.loop||0<e.index)&&R(e.tpl.prev).appendTo(D.outer).bind("click.fb",D.prev),(e.loop||e.index<D.group.length-1)&&R(e.tpl.next).appendTo(D.outer).bind("click.fb",D.next)),D.trigger("afterShow"),e.loop||e.index!==e.group.length-1?D.opts.autoPlay&&!D.player.isActive&&(D.opts.autoPlay=!1,D.play(!0)):D.play(!1))},_afterZoomOut:function(t){t=t||D.current,R(".fancybox-wrap").trigger("onReset").remove(),R.extend(D,{group:{},opts:{},router:!1,current:null,isActive:!1,isOpened:!1,isOpen:!1,isClosing:!1,wrap:null,skin:null,outer:null,inner:null}),D.trigger("afterClose",t)}}),D.transitions={getOrigPosition:function(){var t=D.current,e=t.element,i=t.orig,n={},r=50,o=50,s=t.hPadding,a=t.wPadding,l=D.getViewport();return!i&&t.isDom&&e.is(":visible")&&((i=e.find("img:first")).length||(i=e)),f(i)?(n=i.offset(),i.is("img")&&(r=i.outerWidth(),o=i.outerHeight())):(n.top=l.y+(l.h-o)*t.topRatio,n.left=l.x+(l.w-r)*t.leftRatio),("fixed"===D.wrap.css("position")||t.locked)&&(n.top-=l.y,n.left-=l.x),{top:F(n.top-s*t.topRatio),left:F(n.left-a*t.leftRatio),width:F(r+a),height:F(o+s)}},step:function(t,e){var i,n,r=e.prop,o=D.current,s=o.wrapSpace,a=o.skinSpace;"width"!==r&&"height"!==r||(i=e.end===e.start?1:(t-e.start)/(e.end-e.start),D.isClosing&&(i=1-i),n=t-("width"===r?o.wPadding:o.hPadding),D.skin[r](N("width"===r?n:n-s*i)),D.inner[r](N("width"===r?n:n-s*i-a*i)))},zoomIn:function(){var t=D.current,e=t.pos,i=t.openEffect,n="elastic"===i,r=R.extend({opacity:1},e);delete r.position,n?(e=this.getOrigPosition(),t.openOpacity&&(e.opacity=.1)):"fade"===i&&(e.opacity=.1),D.wrap.css(e).animate(r,{duration:"none"===i?0:t.openSpeed,easing:t.openEasing,step:n?this.step:null,complete:D._afterZoomIn})},zoomOut:function(){var t=D.current,e=t.closeEffect,i="elastic"===e,n={opacity:.1};i&&(n=this.getOrigPosition(),t.closeOpacity&&(n.opacity=.1)),D.wrap.animate(n,{duration:"none"===e?0:t.closeSpeed,easing:t.closeEasing,step:i?this.step:null,complete:D._afterZoomOut})},changeIn:function(){var t,e=D.current,i=e.nextEffect,n=e.pos,r={opacity:1},o=D.direction;n.opacity=.1,"elastic"===i&&(r[t="down"===o||"up"===o?"top":"left"]="down"===o||"right"===o?(n[t]=F(N(n[t])-200),"+=200px"):(n[t]=F(N(n[t])+200),"-=200px")),"none"===i?D._afterZoomIn():D.wrap.css(n).animate(r,{duration:e.nextSpeed,easing:e.nextEasing,complete:D._afterZoomIn})},changeOut:function(){var t=D.previous,e=t.prevEffect,i={opacity:.1},n=D.direction;"elastic"===e&&(i["down"===n||"up"===n?"top":"left"]=("up"===n||"left"===n?"-":"+")+"=200px"),t.wrap.animate(i,{duration:"none"===e?0:t.prevSpeed,easing:t.prevEasing,complete:function(){R(this).trigger("onReset").remove()}})}},D.helpers.overlay={defaults:{closeClick:!0,speedOut:200,showEarly:!0,css:{},locked:!a,fixed:!0},overlay:null,fixed:!1,el:R("html"),create:function(t){var e;t=R.extend({},this.defaults,t),this.overlay&&this.close(),e=D.coming?D.coming.parent:t.parent,this.overlay=R('<div class="fancybox-overlay"></div>').appendTo(e&&e.length?e:"body"),this.fixed=!1,t.fixed&&D.defaults.fixed&&(this.overlay.addClass("fancybox-overlay-fixed"),this.fixed=!0)},open:function(t){var e=this;t=R.extend({},this.defaults,t),this.overlay?this.overlay.unbind(".overlay").width("auto").height("auto"):this.create(t),this.fixed||(i.bind("resize.overlay",R.proxy(this.update,this)),this.update()),t.closeClick&&this.overlay.bind("click.overlay",function(t){if(R(t.target).hasClass("fancybox-overlay"))return D.isActive?D.close():e.close(),!1}),this.overlay.css(t.css).show()},close:function(){i.unbind("resize.overlay"),this.el.hasClass("fancybox-lock")&&(R(".fancybox-margin").removeClass("fancybox-margin"),this.el.removeClass("fancybox-lock"),i.scrollTop(this.scrollV).scrollLeft(this.scrollH)),R(".fancybox-overlay").remove().hide(),R.extend(this,{overlay:null,fixed:!1})},update:function(){var t,e="100%";this.overlay.width(e).height("100%"),s?(t=Math.max(document.documentElement.offsetWidth,document.body.offsetWidth),u.width()>t&&(e=u.width())):u.width()>i.width()&&(e=u.width()),this.overlay.width(e).height(u.height())},onReady:function(t,e){var i=this.overlay;R(".fancybox-overlay").stop(!0,!0),i||this.create(t),t.locked&&this.fixed&&e.fixed&&(e.locked=this.overlay.append(e.wrap),e.fixed=!1),!0===t.showEarly&&this.beforeShow.apply(this,arguments)},beforeShow:function(t,e){e.locked&&!this.el.hasClass("fancybox-lock")&&(!1!==this.fixPosition&&R("*").filter(function(){return"fixed"===R(this).css("position")&&!R(this).hasClass("fancybox-overlay")&&!R(this).hasClass("fancybox-wrap")}).addClass("fancybox-margin"),this.el.addClass("fancybox-margin"),this.scrollV=i.scrollTop(),this.scrollH=i.scrollLeft(),this.el.addClass("fancybox-lock"),i.scrollTop(this.scrollV).scrollLeft(this.scrollH)),this.open(t)},onUpdate:function(){this.fixed||this.update()},afterClose:function(t){this.overlay&&!D.coming&&this.overlay.fadeOut(t.speedOut,R.proxy(this.close,this))}},D.helpers.title={defaults:{type:"float",position:"bottom"},beforeShow:function(t){var e,i,n=D.current,r=n.title,o=t.type;if(R.isFunction(r)&&(r=r.call(n.element,n)),p(r)&&""!==R.trim(r)){switch(e=R('<div class="fancybox-title fancybox-title-'+o+'-wrap">'+r+"</div>"),o){case"inside":i=D.skin;break;case"outside":i=D.wrap;break;case"over":i=D.inner;break;default:i=D.skin,e.appendTo("body"),s&&e.width(e.width()),e.wrapInner('<span class="child"></span>'),D.current.margin[2]+=Math.abs(N(e.css("margin-bottom")))}e["top"===t.position?"prependTo":"appendTo"](i)}}},R.fn.fancybox=function(o){var s,a=R(this),l=this.selector||"",t=function(t){var e,i,n=R(this).blur(),r=s;t.ctrlKey||t.altKey||t.shiftKey||t.metaKey||n.is(".fancybox-wrap")||(e=o.groupAttr||"data-fancybox-group",(i=n.attr(e))||(e="rel",i=n.get(0)[e]),i&&""!==i&&"nofollow"!==i&&(r=(n=(n=l.length?R(l):a).filter("["+e+'="'+i+'"]')).index(this)),o.index=r,!1!==D.open(n,o)&&t.preventDefault())};return s=(o=o||{}).index||0,l&&!1!==o.live?u.undelegate(l,"click.fb-start").delegate(l+":not('.fancybox-item, .fancybox-nav')","click.fb-start",t):a.unbind("click.fb-start").bind("click.fb-start",t),this.filter("[data-fancybox-start=1]").trigger("click"),this},u.ready(function(){var t,e,i,n;void 0===R.scrollbarWidth&&(R.scrollbarWidth=function(){var t=R('<div style="width:50px;height:50px;overflow:auto"><div/></div>').appendTo("body"),e=t.children(),i=e.innerWidth()-e.height(99).innerWidth();return t.remove(),i}),void 0===R.support.fixedPosition&&(R.support.fixedPosition=(n=20===(i=R('<div style="position:fixed;top:20px;"></div>').appendTo("body"))[0].offsetTop||15===i[0].offsetTop,i.remove(),n)),R.extend(D.defaults,{scrollbarWidth:R.scrollbarWidth(),fixed:R.support.fixedPosition,parent:R("body")}),t=R(window).width(),r.addClass("fancybox-lock-test"),e=R(window).width(),r.removeClass("fancybox-lock-test"),R("<style type='text/css'>.fancybox-margin{margin-right:"+(e-t)+"px;}</style>").appendTo("head")})}},function(t,e,i){"use strict";"function"==typeof Symbol&&Symbol.iterator,t.exports=function(i){function n(t){if(r[t])return r[t].exports;var e=r[t]={exports:{},id:t,loaded:!1};return i[t].call(e.exports,e,e.exports,n),e.loaded=!0,e.exports}var r={};return n.m=i,n.c=r,n.p="",n(0)}([function(t,e,i){t.exports=i(2)},function(t,e){t.exports=function(){var s=[];return s.toString=function(){for(var t=[],e=0;e<this.length;e++){var i=this[e];i[2]?t.push("@media "+i[2]+"{"+i[1]+"}"):t.push(i[1])}return t.join("")},s.i=function(t,e){"string"==typeof t&&(t=[[null,t,""]]);for(var i={},n=0;n<this.length;n++){var r=this[n][0];"number"==typeof r&&(i[r]=!0)}for(n=0;n<t.length;n++){var o=t[n];"number"==typeof o[0]&&i[o[0]]||(e&&!o[2]?o[2]=e:e&&(o[2]="("+o[2]+") and ("+e+")"),s.push(o))}},s}},function(t,e,i){function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function n(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(t,e,i){return e&&n(t.prototype,e),i&&n(t,i),t}}(),o=n((n(i(5)),i(6))),s=n(i(8)),a=n(i(9)),l={info:n(i(7)).default,success:s.default,warning:a.default,error:o.default},u=document.querySelector.bind(document),c=(document.querySelectorAll.bind(document),function(){function i(t,e){(function(t,e){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")})(this),this.text=t,this.opts=e,this.events={},this.notify()}return r(i,[{key:"init",value:function(){var t=u(".noties-"+this.opts.position);t?this.noties=t:(this.noties=document.createElement("div"),this.noties.className="noties noties-"+this.opts.position,u("body").appendChild(this.noties))}},{key:"notify",value:function(){var t=this;this.init(),this.notie=document.createElement("div"),this.notie.style.width=this.opts.width+"px",this.notie.className="notie notie-"+this.opts.type+(this.opts.autoHide?"":" notie-auto-hide-disabled"),this.notie.innerHTML='\n    <div class="notie-body">\n      <span class="notie-svg">'+l[this.opts.type]+'</span>\n      <span class="notie-text">'+this.text+"</span>\n    </div>\n    ";var e=this.noties.firstChild;this.noties.insertBefore(this.notie,e),setTimeout(function(){t.notie.classList.add("notie-shown")},100),this.opts.autoHide&&this.startTimeout(),this.registerEvents()}},{key:"registerEvents",value:function(){var t,e,i=this;this.opts.autoHide?(this.events.mouseover=function(){clearTimeout(i.timeout),i.timeout=null},this.events.mouseleave=function(){return i.startTimeout()},this.notie.addEventListener("mouseover",this.events.mouseover,!1),this.notie.addEventListener("mouseleave",this.events.mouseleave,!1)):(this.notie.addEventListener("click",function(){return i.removeNotie()}),t=this.notie.querySelectorAll("[notie-prevent]"),e=function(t){t.addEventListener("click",function(t){return t.stopPropagation()},!1)},Array.prototype.forEach.call(t,e))}},{key:"startTimeout",value:function(){var t=this,e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this.opts.timeout;this.timeout=setTimeout(function(){t.removeNotie()},e)}},{key:"removeNotie",value:function(){var t=this,e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this.notie;e.classList.remove("notie-shown"),setTimeout(function(){t.noties.removeChild(e),e=null},200)}}]),i}());e.default=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},i=e.position,n=void 0===i?"top-right":i,r=e.type,o=void 0===r?"info":r,s=e.autoHide,a=void 0===s||s,l=e.timeout,u=void 0===l?3e3:l,h=e.width;return new c(t,{type:o,position:n,autoHide:a,timeout:u,width:void 0===h?240:h})},t.exports=e.default},function(t,e,i){(t.exports=i(1)()).push([t.id,".noties {\n  position: fixed;\n  max-width: 80%;\n  z-index: 9999\n}\n\n.noties:empty {\n  display: none\n}\n\n.noties-top-right {\n  right: 0;\n  top: 20px\n}\n\n.noties-top-right .notie {\n  -ms-transform: translateX(100%);\n      transform: translateX(100%)\n}\n\n.noties-top-right .notie.notie-shown {\n  -ms-transform: translateX(-20px);\n      transform: translateX(-20px)\n}\n\n.noties-top-left {\n  left: 0;\n  top: 20px\n}\n\n.noties-top-left .notie {\n  -ms-transform: translateX(-100%);\n      transform: translateX(-100%)\n}\n\n.noties-top-left .notie.notie-shown {\n  -ms-transform: translateX(20px);\n      transform: translateX(20px)\n}\n\n.noties-bottom-right {\n  right: 0;\n  bottom: 20px\n}\n\n.noties-bottom-right .notie {\n  -ms-transform: translateX(100%);\n      transform: translateX(100%)\n}\n\n.noties-bottom-right .notie.notie-shown {\n  -ms-transform: translateX(-20px);\n      transform: translateX(-20px)\n}\n\n.noties-bottom-left {\n  left: 0;\n  bottom: 20px\n}\n\n.noties-bottom-left .notie {\n  -ms-transform: translateX(-100%);\n      transform: translateX(-100%)\n}\n\n.noties-bottom-left .notie.notie-shown {\n  -ms-transform: translateX(20px);\n      transform: translateX(20px)\n}\n\n.noties-top-center {\n  left: 50%;\n  -ms-transform: translateX(-50%);\n      transform: translateX(-50%);\n  top: 0\n}\n\n.noties-top-center .notie {\n  -ms-transform: translateY(-100%);\n      transform: translateY(-100%)\n}\n\n.noties-top-center .notie.notie-shown {\n  -ms-transform: translateY(20px);\n      transform: translateY(20px)\n}\n\n.noties-bottom-center {\n  left: 50%;\n  -ms-transform: translateX(-50%);\n      transform: translateX(-50%);\n  bottom: 0\n}\n\n.noties-bottom-center .notie {\n  -ms-transform: translateY(100%);\n      transform: translateY(100%)\n}\n\n.noties-bottom-center .notie.notie-shown {\n  -ms-transform: translateY(-20px);\n      transform: translateY(-20px)\n}\n\n.notie {\n  background-color: #ddd;\n  opacity: 0;\n  transition: transform .3s, opacity .3s;\n  border: 1px solid #ddd;\n  font: 14px/1.4 Helvetica, serif;\n  word-wrap: break-word\n}\n\n.notie:not(:last-child) {\n  margin-bottom: 10px\n}\n\n.notie.notie-auto-hide-disabled {\n  cursor: pointer\n}\n\n.notie.notie-shown {\n  opacity: 1\n}\n\n.notie .notie-body {\n  padding: 10px 12px\n}\n\n.notie .notie-svg {\n  height: 23px;\n  display: block;\n  float: left\n}\n\n.notie .notie-text {\n  display: block;\n  padding-left: 30px;\n  padding-top: 2px\n}\n\n.notie svg {\n  height: 23px;\n  width: 23px\n}\n\n.notie.notie-info {\n  background-color: #C6E4F4;\n  border-color: #A9D3EB;\n  color: #477DAC;\n\n  a {\n    color: #477DAC\n  }\n}\n\n.notie.notie-error {\n  background-color: #EAC1BD;\n  border-color: #D7A9A6;\n  color: #AB2925;\n\n  a {\n    color: #AB2925\n  }\n}\n\n.notie.notie-success {\n  background-color: #D9F1CF;\n  border-color: #C8E1BF;\n  color: #748C6C;\n\n  a {\n    color: #748C6C\n  }\n}\n\n.notie.notie-warning {\n  background-color: #F7F2CF;\n  border-color: #E8E2B2;\n  color: #9C7D45;\n\n  a {\n    color: #9C7D45\n  }\n}\n",""])},function(t,e,i){function l(t,e){for(var i=0;i<t.length;i++){var n=t[i],r=_[n.id];if(r){r.refs++;for(var o=0;o<r.parts.length;o++)r.parts[o](n.parts[o]);for(;o<n.parts.length;o++)r.parts.push(a(n.parts[o],e))}else{var s=[];for(o=0;o<n.parts.length;o++)s.push(a(n.parts[o],e));_[n.id]={id:n.id,refs:1,parts:s}}}}function u(t){for(var e=[],i={},n=0;n<t.length;n++){var r=t[n],o=r[0],s={css:r[1],media:r[2],sourceMap:r[3]};i[o]?i[o].parts.push(s):e.push(i[o]={id:o,parts:[s]})}return e}function h(t,e){var i=o(),n=s[s.length-1];if("top"===t.insertAt)n?n.nextSibling?i.insertBefore(e,n.nextSibling):i.appendChild(e):i.insertBefore(e,i.firstChild),s.push(e);else{if("bottom"!==t.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");i.appendChild(e)}}function c(t){t.parentNode.removeChild(t);var e=s.indexOf(t);0<=e&&s.splice(e,1)}function f(t){var e=document.createElement("style");return e.type="text/css",h(t,e),e}function a(e,t){var i,n,r,o,s;if(t.singleton){var a=m++;i=d||(d=f(t)),n=p.bind(null,i,a,!1),r=p.bind(null,i,a,!0)}else r=e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(o=t,(s=document.createElement("link")).rel="stylesheet",h(o,s),n=function(t,e){var i=e.css,n=e.sourceMap;n&&(i+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(n))))+" */");var r=new Blob([i],{type:"text/css"}),o=t.href;t.href=URL.createObjectURL(r),o&&URL.revokeObjectURL(o)}.bind(null,i=s),function(){c(i),i.href&&URL.revokeObjectURL(i.href)}):(i=f(t),n=function(t,e){var i=e.css,n=e.media;if(n&&t.setAttribute("media",n),t.styleSheet)t.styleSheet.cssText=i;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(i))}}.bind(null,i),function(){c(i)});return n(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;n(e=t)}else r()}}function p(t,e,i,n){var r=i?"":n.css;if(t.styleSheet)t.styleSheet.cssText=v(e,r);else{var o=document.createTextNode(r),s=t.childNodes;s[e]&&t.removeChild(s[e]),s.length?t.insertBefore(o,s[e]):t.appendChild(o)}}var _={},n=function(t){var e;return function(){return void 0===e&&(e=t.apply(this,arguments)),e}},r=n(function(){return/msie [6-9]\b/.test(window.navigator.userAgent.toLowerCase())}),o=n(function(){return document.head||document.getElementsByTagName("head")[0]}),d=null,m=0,s=[];t.exports=function(t,s){void 0===(s=s||{}).singleton&&(s.singleton=r()),void 0===s.insertAt&&(s.insertAt="bottom");var a=u(t);return l(a,s),function(t){for(var e=[],i=0;i<a.length;i++){var n=a[i];(r=_[n.id]).refs--,e.push(r)}for(t&&l(u(t),s),i=0;i<e.length;i++){var r;if(0===(r=e[i]).refs){for(var o=0;o<r.parts.length;o++)r.parts[o]();delete _[r.id]}}}};var g,v=(g=[],function(t,e){return g[t]=e,g.filter(Boolean).join("\n")})},function(t,e,i){var n=i(3);"string"==typeof n&&(n=[[t.id,n,""]]),i(4)(n,{}),n.locals&&(t.exports=n.locals)},function(t,e){t.exports='<svg fill="#AB2925" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0V0z" fill="none"></path><path d="M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"></path></svg>'},function(t,e){t.exports='<svg fill="#477DAC" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"></path><path d="M11 17h2v-6h-2v6zm1-15C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zM11 9h2V7h-2v2z"></path></svg>'},function(t,e){t.exports='<svg fill="#748C6C" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"></path><path d="M9 16.2L4.8 12l-1.4 1.4L9 19 21 7l-1.4-1.4L9 16.2z"></path></svg>'},function(t,e){t.exports='<svg fill="#9C7D45" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"></path><path d="M1 21h22L12 2 1 21zm12-3h-2v-2h2v2zm0-4h-2v-4h2v4z"></path></svg>'}])},function(t,e,i){"use strict";NexT.utils=NexT.$u={wrapImageWithFancyBox:function(){$(".content img").not("[hidden]").not(".no-fancybox").not(".group-picture img, .post-gallery img").not("#QR img").not(".post-share img").each(function(){var t=$(this),e=t.attr("title"),i=t.parent("a");if(i.size()<1){var n=t.attr("data-original")?this.getAttribute("data-original"):this.getAttribute("src");i=t.wrap('<a href="'+n+'"></a>').parent("a")}i.addClass("fancybox fancybox.image"),i.attr("rel","group"),e&&(i.append('<p class="image-caption">'+e+"</p>"),i.attr("title",e))}),$(".fancybox").fancybox({helpers:{overlay:{locked:!1}}})},lazyLoadPostsImages:function(){$("#posts").find("img").lazyload({effect:"fadeIn",threshold:0})},registerTabsTag:function(){var e=".tabs ul.nav-tabs ";$(function(){$(window).bind("hashchange",function(){var t=location.hash;""!==t&&($(e+'li:has(a[href="'+t+'"])').addClass("active").siblings().removeClass("active"),$(t).addClass("active").siblings().removeClass("active"))}).trigger("hashchange")}),$(e+".tab").on("click",function(t){if(t.preventDefault(),!$(this).hasClass("active")){$(this).addClass("active").siblings().removeClass("active");var e=$(this).find("a").attr("href");$(e).addClass("active").siblings().removeClass("active"),""!==location.hash&&history.pushState("",document.title,window.location.pathname+window.location.search)}})},registerESCKeyEvent:function(){$(document).on("keyup",function(t){27===t.which&&$(".search-popup").is(":visible")&&($(".search-popup").hide(),$(".search-popup-overlay").remove(),$("body").css("overflow",""))})},embeddedVideoTransformer:function(){function o(t){return{width:t.width(),height:t.height()}}function s(t,e){return e/t*100}var t=$("iframe"),a=new RegExp(["www.youtube.com","player.vimeo.com","player.youku.com","music.163.com","www.tudou.com"].join("|"));t.each(function(){var t,e=$(this),i=o(e);if(0<this.src.search(a)){var n=s(i.width,i.height);e.width("100%").height("100%").css({position:"absolute",top:"0",left:"0"});var r=document.createElement("div");r.className="fluid-vids",r.style.position="relative",r.style.marginBottom="20px",r.style.width="100%",r.style.paddingTop=n+"%",""===r.style.paddingTop&&(r.style.paddingTop="50%"),this.parentNode.insertBefore(r,this),r.appendChild(this),0<this.src.search("music.163.com")&&((t=o(e)).width>i.width||t.height<i.height)&&(r.style.paddingTop=s(t.width,i.height)+"%")}})},addActiveClassToMenuItem:function(){var t=window.location.pathname;t="/"===t?t:t.substring(0,t.length-1),$('.menu-item a[href^="'+t+'"]:first').parent().addClass("menu-item-active")},hasMobileUA:function(){return/iPad|iPhone|Android|Opera Mini|BlackBerry|webOS|UCWEB|Blazer|PSP|IEMobile|Symbian/g.test(window.navigator.userAgent)},isTablet:function(){return window.screen.width<992&&767<window.screen.width&&this.hasMobileUA()},isMobile:function(){return window.screen.width<767&&this.hasMobileUA()},isDesktop:function(){return!this.isTablet()&&!this.isMobile()},escapeSelector:function(t){return t.replace(/[!"$%&'()*+,.\/:;<=>?@[\\\]^`{|}~]/g,"\\$&")},displaySidebar:function(){!this.isDesktop()||this.isPisces()||this.isGemini()||$(".sidebar-toggle").trigger("click")},isMist:function(){return"Mist"===CONFIG.scheme},isPisces:function(){return"Pisces"===CONFIG.scheme},isGemini:function(){return"Gemini"===CONFIG.scheme},getScrollbarWidth:function(){var t=$("<div />").addClass("scrollbar-measure").prependTo("body"),e=t[0],i=e.offsetWidth-e.clientWidth;return t.remove(),i},getContentVisibilityHeight:function(){var t=$("#content").height(),e=$(window).height();return e<t?t-e:$(document).height()-e},getSidebarb2tHeight:function(){return CONFIG.sidebar.b2t?$(".back-to-top").height():0},getSidebarSchemePadding:function(){var t="block"==$(".sidebar-nav").css("display")?$(".sidebar-nav").outerHeight(!0):0,e=$(".sidebar-inner"),i=e.innerWidth()-e.width();return this.isPisces()||this.isGemini()?2*i+t+2*CONFIG.sidebar.offset+this.getSidebarb2tHeight():2*i+t/2}},$(document).ready(function(){function i(t){t=t||"auto",$(".site-overview, .post-toc").css("max-height",t)}!function(){var t;$(window).on("resize",function(){t&&clearTimeout(t),t=setTimeout(function(){i(document.body.clientHeight-NexT.utils.getSidebarSchemePadding())},0)});var e=NexT.utils.getScrollbarWidth();$(".sidebar-panel").height()>document.body.clientHeight-NexT.utils.getSidebarSchemePadding()&&$(".site-overview").css("width","calc(100% + "+e+"px)"),$(".post-toc").css("width","calc(100% + "+e+"px)"),i(document.body.clientHeight-NexT.utils.getSidebarSchemePadding())}()})},function(t,e,i){"use strict";$(document).ready(function(){function t(t){this.el=$(t.el),this.status=$.extend({},{init:{width:"100%",opacity:1,left:0,rotateZ:0,top:0}},t.status)}NexT.motion={};var e={lines:[],push:function(t){this.lines.push(t)},init:function(){this.lines.forEach(function(t){t.init()})},arrow:function(){this.lines.forEach(function(t){t.arrow()})},close:function(){this.lines.forEach(function(t){t.close()})}};t.prototype.init=function(){this.transform("init")},t.prototype.arrow=function(){this.transform("arrow")},t.prototype.close=function(){this.transform("close")},t.prototype.transform=function(t){this.el.velocity("stop").velocity(this.status[t])};var n,r,i=new t({el:".sidebar-toggle-line-first",status:{arrow:{width:"50%",rotateZ:"-45deg",top:"2px"},close:{width:"100%",rotateZ:"-45deg",top:"5px"}}}),o=new t({el:".sidebar-toggle-line-middle",status:{arrow:{width:"90%"},close:{opacity:0}}}),s=new t({el:".sidebar-toggle-line-last",status:{arrow:{width:"50%",rotateZ:"45deg",top:"-2px"},close:{width:"100%",rotateZ:"45deg",top:"-5px"}}});e.push(i),e.push(o),e.push(s),{toggleEl:$(".sidebar-toggle"),dimmerEl:$("#sidebar-dimmer"),sidebarEl:$(".sidebar"),isSidebarVisible:!1,init:function(){this.toggleEl.on("click",this.clickHandler.bind(this)),this.dimmerEl.on("click",this.clickHandler.bind(this)),this.toggleEl.on("mouseenter",this.mouseEnterHandler.bind(this)),this.toggleEl.on("mouseleave",this.mouseLeaveHandler.bind(this)),this.sidebarEl.on("touchstart",this.touchstartHandler.bind(this)),this.sidebarEl.on("touchend",this.touchendHandler.bind(this)),this.sidebarEl.on("touchmove",function(t){t.preventDefault()}),$(document).on("sidebar.isShowing",function(){NexT.utils.isDesktop()&&$("body").velocity("stop").velocity({paddingRight:"320px"},200)}).on("sidebar.isHiding",function(){})},clickHandler:function(){this.isSidebarVisible?this.hideSidebar():this.showSidebar(),this.isSidebarVisible=!this.isSidebarVisible},mouseEnterHandler:function(){this.isSidebarVisible||e.arrow()},mouseLeaveHandler:function(){this.isSidebarVisible||e.init()},touchstartHandler:function(t){n=t.originalEvent.touches[0].clientX,r=t.originalEvent.touches[0].clientY},touchendHandler:function(t){var e=t.originalEvent.changedTouches[0].clientX,i=t.originalEvent.changedTouches[0].clientY;30<e-n&&Math.abs(i-r)<20&&this.clickHandler()},showSidebar:function(){var t=this;e.close(),this.sidebarEl.velocity("stop").velocity({width:"320px"},{display:"block",duration:200,begin:function(){$(".sidebar .motion-element").velocity("transition.slideRightIn",{stagger:50,drag:!0,complete:function(){t.sidebarEl.trigger("sidebar.motion.complete")}})},complete:function(){t.sidebarEl.addClass("sidebar-active"),t.sidebarEl.trigger("sidebar.didShow")}}),this.sidebarEl.trigger("sidebar.isShowing")},hideSidebar:function(){NexT.utils.isDesktop()&&$("body").velocity("stop").velocity({paddingRight:0}),this.sidebarEl.find(".motion-element").velocity("stop").css("display","none"),this.sidebarEl.velocity("stop").velocity({width:0},{display:"none"}),e.init(),this.sidebarEl.removeClass("sidebar-active"),this.sidebarEl.trigger("sidebar.isHiding"),$(".post-toc-wrap")&&("block"===$(".site-overview-wrap").css("display")?$(".post-toc-wrap").removeClass("motion-element"):$(".post-toc-wrap").addClass("motion-element"))}}.init(),NexT.motion.integrator={queue:[],cursor:-1,add:function(t){return this.queue.push(t),this},next:function(){this.cursor++;var t=this.queue[this.cursor];$.isFunction(t)&&t(NexT.motion.integrator)},bootstrap:function(){this.next()}},NexT.motion.middleWares={logo:function(t){function e(t,e){return{e:$(t),p:{translateX:e},o:{duration:500,sequenceQueue:!1}}}function i(t){return(t=Array.isArray(t)?t:[t]).every(function(t){return $.isFunction(t.size)&&0<t.size()})}var n=[],r=$(".brand"),o=$(".site-title"),s=$(".site-subtitle"),a=$(".logo-line-before i"),l=$(".logo-line-after i");0<r.size()&&n.push({e:r,p:{opacity:1},o:{duration:200}}),NexT.utils.isMist()&&i([a,l])&&n.push(e(a,"100%"),e(l,"-100%")),i(o)&&n.push({e:o,p:{opacity:1,top:180},o:{duration:200}}),i(s)&&n.push({e:s,p:{opacity:1,top:100},o:{duration:200}}),CONFIG.motion.async&&t.next(),0<n.length?(n[n.length-1].o.complete=function(){t.next()},$.Velocity.RunSequence(n)):t.next()},menu:function(t){CONFIG.motion.async&&t.next(),$(".menu-item").velocity("transition.slideDownIn",{display:null,duration:200,complete:function(){t.next()}})},postList:function(t){var e,i=$(".post-block, .pagination, .comments"),n=CONFIG.motion.transition.post_block,r=$(".post-header"),o=CONFIG.motion.transition.post_header,s=$(".post-body"),a=CONFIG.motion.transition.post_body,l=$(".collection-title, .archive-year"),u=CONFIG.motion.transition.coll_header,h=$(".sidebar-inner"),c=CONFIG.motion.transition.sidebar;0<i.size()?((e=window.postMotionOptions||{stagger:100,drag:!0}).complete=function(){CONFIG.motion.transition.sidebar&&(NexT.utils.isPisces()||NexT.utils.isGemini())&&h.css({transform:"initial"}),t.next()},CONFIG.motion.transition.post_block&&i.velocity("transition."+n,e),CONFIG.motion.transition.post_header&&r.velocity("transition."+o,e),CONFIG.motion.transition.post_body&&s.velocity("transition."+a,e),CONFIG.motion.transition.coll_header&&l.velocity("transition."+u,e),CONFIG.motion.transition.sidebar&&(NexT.utils.isPisces()||NexT.utils.isGemini())&&h.velocity("transition."+c,e)):t.next(),CONFIG.motion.async&&t.next()},sidebar:function(t){"always"===CONFIG.sidebar.display&&NexT.utils.displaySidebar(),t.next()}}})},function(t,e,i){"use strict";var h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};!function(l){function i(n){return this.each(function(){var t=l(this),e=t.data("bs.affix"),i="object"==(void 0===n?"undefined":h(n))&&n;e||t.data("bs.affix",e=new u(this,i)),"string"==typeof n&&e[n]()})}var u=function t(e,i){this.options=l.extend({},t.DEFAULTS,i),this.$target=l(this.options.target).on("scroll.bs.affix.data-api",l.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",l.proxy(this.checkPositionWithEventLoop,this)),this.$element=l(e),this.affixed=null,this.unpin=null,this.pinnedOffset=null,this.checkPosition()};u.VERSION="3.3.5",u.RESET="affix affix-top affix-bottom",u.DEFAULTS={offset:0,target:window},u.prototype.getState=function(t,e,i,n){var r=this.$target.scrollTop(),o=this.$element.offset(),s=this.$target.height();if(null!=i&&"top"==this.affixed)return r<i&&"top";if("bottom"==this.affixed)return null!=i?!(r+this.unpin<=o.top)&&"bottom":!(r+s<=t-n)&&"bottom";var a=null==this.affixed,l=a?r:o.top;return null!=i&&r<=i?"top":null!=n&&t-n<=l+(a?s:e)&&"bottom"},u.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(u.RESET).addClass("affix");var t=this.$target.scrollTop(),e=this.$element.offset();return this.pinnedOffset=e.top-t},u.prototype.checkPositionWithEventLoop=function(){setTimeout(l.proxy(this.checkPosition,this),1)},u.prototype.checkPosition=function(){if(this.$element.is(":visible")){var t=this.$element.height(),e=this.options.offset,i=e.top,n=e.bottom,r=Math.max(l(document).height(),l(document.body).height());"object"!=(void 0===e?"undefined":h(e))&&(n=i=e),"function"==typeof i&&(i=e.top(this.$element)),"function"==typeof n&&(n=e.bottom(this.$element));var o=this.getState(r,t,i,n);if(this.affixed!=o){null!=this.unpin&&this.$element.css("top","");var s="affix"+(o?"-"+o:""),a=l.Event(s+".bs.affix");if(this.$element.trigger(a),a.isDefaultPrevented())return;this.affixed=o,this.unpin="bottom"==o?this.getPinnedOffset():null,this.$element.removeClass(u.RESET).addClass(s).trigger(s.replace("affix","affixed")+".bs.affix")}"bottom"==o&&this.$element.offset({top:r-t-n})}};var t=l.fn.affix;l.fn.affix=i,l.fn.affix.Constructor=u,l.fn.affix.noConflict=function(){return l.fn.affix=t,this},l(window).on("load",function(){l('[data-spy="affix"]').each(function(){var t=l(this),e=t.data();e.offset=e.offset||{},null!=e.offsetBottom&&(e.offset.bottom=e.offsetBottom),null!=e.offsetTop&&(e.offset.top=e.offsetTop),i.call(t,e)})})}(jQuery)},function(t,e,i){"use strict";var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};!function(a){function r(t,e){this.$body=a(document.body),this.$scrollElement=a(a(t).is(document.body)?window:t),this.options=a.extend({},r.DEFAULTS,e),this.selector=(this.options.target||"")+" .nav li > a",this.offsets=[],this.targets=[],this.activeTarget=null,this.scrollHeight=0,this.$scrollElement.on("scroll.bs.scrollspy",a.proxy(this.process,this)),this.refresh(),this.process()}function e(n){return this.each(function(){var t=a(this),e=t.data("bs.scrollspy"),i="object"==(void 0===n?"undefined":o(n))&&n;e||t.data("bs.scrollspy",e=new r(this,i)),"string"==typeof n&&e[n]()})}r.VERSION="3.3.2",r.DEFAULTS={offset:10},r.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)},r.prototype.refresh=function(){var t=this,n="offset",r=0;this.offsets=[],this.targets=[],this.scrollHeight=this.getScrollHeight(),a.isWindow(this.$scrollElement[0])||(n="position",r=this.$scrollElement.scrollTop()),this.$body.find(this.selector).map(function(){var t=a(this),e=t.data("target")||t.attr("href"),i=/^#./.test(e)&&a(NexT.utils.escapeSelector(e));return i&&i.length&&i.is(":visible")&&[[i[n]().top+r,e]]||null}).sort(function(t,e){return t[0]-e[0]}).each(function(){t.offsets.push(this[0]),t.targets.push(this[1])})},r.prototype.process=function(){var t,e=this.$scrollElement.scrollTop()+this.options.offset,i=this.getScrollHeight(),n=this.options.offset+i-this.$scrollElement.height(),r=this.offsets,o=this.targets,s=this.activeTarget;if(this.scrollHeight!=i&&this.refresh(),n<=e)return s!=(t=o[o.length-1])&&this.activate(t);if(s&&e<r[0])return a(this.selector).trigger("clear.bs.scrollspy"),this.activeTarget=null,this.clear();for(t=r.length;t--;)s!=o[t]&&e>=r[t]&&(!r[t+1]||e<=r[t+1])&&this.activate(o[t])},r.prototype.activate=function(t){this.activeTarget=t,this.clear();var e=this.selector+'[data-target="'+t+'"],'+this.selector+'[href="'+t+'"]',i=a(e).parents("li").addClass("active");i.parent(".dropdown-menu").length&&(i=i.closest("li.dropdown").addClass("active")),i.trigger("activate.bs.scrollspy")},r.prototype.clear=function(){a(this.selector).parentsUntil(this.options.target,".active").removeClass("active")};var t=a.fn.scrollspy;a.fn.scrollspy=e,a.fn.scrollspy.Constructor=r,a.fn.scrollspy.noConflict=function(){return a.fn.scrollspy=t,this},a(window).on("load.bs.scrollspy.data-api",function(){a('[data-spy="scroll"]').each(function(){var t=a(this);e.call(t,t.data())})})}(jQuery)},function(t,e,i){"use strict";$(document).ready(function(){$(document).trigger("bootstrap:before"),NexT.utils.isMobile()&&window.FastClick.attach(document.body),NexT.utils.lazyLoadPostsImages(),NexT.utils.registerESCKeyEvent(),$(".site-nav-toggle button").on("click",function(){var t=$(".site-nav"),e=t.hasClass("site-nav-on"),i=e?"slideUp":"slideDown",n=e?"removeClass":"addClass";t.stop()[i]("fast",function(){t[n]("site-nav-on")})}),CONFIG.fancybox&&NexT.utils.wrapImageWithFancyBox(),CONFIG.tabs&&NexT.utils.registerTabsTag(),NexT.utils.embeddedVideoTransformer(),NexT.motion.integrator.add(NexT.motion.middleWares.logo).add(NexT.motion.middleWares.menu).add(NexT.motion.middleWares.postList).add(NexT.motion.middleWares.sidebar),$(document).trigger("motion:before"),CONFIG.motion.enable&&NexT.motion.integrator.bootstrap(),$(document).trigger("bootstrap:after")})},function(t,e,i){"use strict";if(document.getElementById("evanyou")){var r,n=function(){for(l.clearRect(0,0,h,c),r=[{x:0,y:.7*c+f},{x:0,y:.7*c-f}];r[1].x<h+f;)o(r[0],r[1])},o=function(t,e){l.beginPath(),l.moveTo(t.x,t.y),l.lineTo(e.x,e.y);var i=e.x+(2*g()-.25)*f,n=s(e.y);l.lineTo(i,n),l.closePath(),_-=d/-50,l.fillStyle="#"+(127*m(_)+128<<16|127*m(_+d/3)+128<<8|127*m(_+d/3*2)+128).toString(16),l.fill(),r[0]=r[1],r[1]={x:i,y:n}},s=function t(e){var i=e+(2*g()-1.1)*f;return c<i||i<0?t(e):i},a=document.getElementById("evanyou"),l=a.getContext("2d"),u=window.devicePixelRatio||1,h=window.innerWidth,c=window.innerHeight,f=90,p=Math,_=0,d=2*p.PI,m=p.cos,g=p.random;a.width=h*u,a.height=c*u,l.scale(u,u),l.globalAlpha=.6,document.onclick=n,(document.ontouchstart=n)()}},function(t,o,e){"use strict";(function(G,t){var e,i,n,r,q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};r=function(){return function(i){function n(t){if(r[t])return r[t].exports;var e=r[t]={i:t,l:!1,exports:{}};return i[t].call(e.exports,e,e.exports,n),e.l=!0,e.exports}var r={};return n.m=i,n.c=r,n.i=function(t){return t},n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:i})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=35)}([function(j,G,t){var z;(function(){function t(a){return function(t,e,i,n){e=y(e,n,4);var r=!P(t)&&v.keys(t),o=(r||t).length,s=0<a?0:o-1;return arguments.length<3&&(i=t[r?r[s]:s],s+=a),function(t,e,i,n,r,o){for(;0<=r&&r<o;r+=a){var s=n?n[r]:r;i=e(i,t[s],s,t)}return i}(t,e,i,r,s,o)}}function e(o){return function(t,e,i){e=$(e,i);for(var n=S(t),r=0<o?0:n-1;0<=r&&r<n;r+=o)if(e(t[r],r,t))return r;return-1}}function i(o,s,a){return function(t,e,i){var n=0,r=S(t);if("number"==typeof i)0<o?n=0<=i?i:Math.max(i+r,n):r=0<=i?Math.min(i+1,r):i+r+1;else if(a&&i&&r)return t[i=a(t,e)]===e?i:-1;if(e!=e)return 0<=(i=s(h.call(t,n,r),v.isNaN))?i+n:-1;for(i=0<o?n:r-1;0<=i&&i<r;i+=o)if(t[i]===e)return i;return-1}}function n(t,e){var i=L.length,n=t.constructor,r=v.isFunction(n)&&n.prototype||a,o="constructor";for(v.has(t,o)&&!v.contains(e,o)&&e.push(o);i--;)(o=L[i])in t&&t[o]!==r[o]&&!v.contains(e,o)&&e.push(o)}var r=this,o=r._,s=Array.prototype,a=Object.prototype,l=Function.prototype,u=s.push,h=s.slice,f=a.toString,c=a.hasOwnProperty,p=Array.isArray,_=Object.keys,d=l.bind,m=Object.create,g=function(){},v=function t(e){return e instanceof t?e:this instanceof t?void(this._wrapped=e):new t(e)};void 0!==j&&j.exports&&(G=j.exports=v),(G._=v).VERSION="1.8.3";var y=function(r,o,t){if(void 0===o)return r;switch(null==t?3:t){case 1:return function(t){return r.call(o,t)};case 2:return function(t,e){return r.call(o,t,e)};case 3:return function(t,e,i){return r.call(o,t,e,i)};case 4:return function(t,e,i,n){return r.call(o,t,e,i,n)}}return function(){return r.apply(o,arguments)}},$=function(t,e,i){return null==t?v.identity:v.isFunction(t)?y(t,e,i):v.isObject(t)?v.matcher(t):v.property(t)};v.iteratee=function(t,e){return $(t,e,1/0)};var w=function(l,u){return function(t){var e=arguments.length;if(e<2||null==t)return t;for(var i=1;i<e;i++)for(var n=arguments[i],r=l(n),o=r.length,s=0;s<o;s++){var a=r[s];u&&void 0!==t[a]||(t[a]=n[a])}return t}},b=function(t){if(!v.isObject(t))return{};if(m)return m(t);g.prototype=t;var e=new g;return g.prototype=null,e},T=function(e){return function(t){return null==t?void 0:t[e]}},x=Math.pow(2,53)-1,S=T("length"),P=function(t){var e=S(t);return"number"==typeof e&&0<=e&&e<=x};v.each=v.forEach=function(t,e,i){var n,r;if(e=y(e,i),P(t))for(n=0,r=t.length;n<r;n++)e(t[n],n,t);else{var o=v.keys(t);for(n=0,r=o.length;n<r;n++)e(t[o[n]],o[n],t)}return t},v.map=v.collect=function(t,e,i){e=$(e,i);for(var n=!P(t)&&v.keys(t),r=(n||t).length,o=Array(r),s=0;s<r;s++){var a=n?n[s]:s;o[s]=e(t[a],a,t)}return o},v.reduce=v.foldl=v.inject=t(1),v.reduceRight=v.foldr=t(-1),v.find=v.detect=function(t,e,i){var n;if(void 0!==(n=P(t)?v.findIndex(t,e,i):v.findKey(t,e,i))&&-1!==n)return t[n]},v.filter=v.select=function(t,n,e){var r=[];return n=$(n,e),v.each(t,function(t,e,i){n(t,e,i)&&r.push(t)}),r},v.reject=function(t,e,i){return v.filter(t,v.negate($(e)),i)},v.every=v.all=function(t,e,i){e=$(e,i);for(var n=!P(t)&&v.keys(t),r=(n||t).length,o=0;o<r;o++){var s=n?n[o]:o;if(!e(t[s],s,t))return!1}return!0},v.some=v.any=function(t,e,i){e=$(e,i);for(var n=!P(t)&&v.keys(t),r=(n||t).length,o=0;o<r;o++){var s=n?n[o]:o;if(e(t[s],s,t))return!0}return!1},v.contains=v.includes=v.include=function(t,e,i,n){return P(t)||(t=v.values(t)),("number"!=typeof i||n)&&(i=0),0<=v.indexOf(t,e,i)},v.invoke=function(t,i){var n=h.call(arguments,2),r=v.isFunction(i);return v.map(t,function(t){var e=r?i:t[i];return null==e?e:e.apply(t,n)})},v.pluck=function(t,e){return v.map(t,v.property(e))},v.where=function(t,e){return v.filter(t,v.matcher(e))},v.findWhere=function(t,e){return v.find(t,v.matcher(e))},v.max=function(t,n,e){var i,r,o=-1/0,s=-1/0;if(null==n&&null!=t)for(var a=0,l=(t=P(t)?t:v.values(t)).length;a<l;a++)(i=t[a])>o&&(o=i);else n=$(n,e),v.each(t,function(t,e,i){((r=n(t,e,i))>s||r===-1/0&&o===-1/0)&&(o=t,s=r)});return o},v.min=function(t,n,e){var i,r,o=1/0,s=1/0;if(null==n&&null!=t)for(var a=0,l=(t=P(t)?t:v.values(t)).length;a<l;a++)(i=t[a])<o&&(o=i);else n=$(n,e),v.each(t,function(t,e,i){((r=n(t,e,i))<s||r===1/0&&o===1/0)&&(o=t,s=r)});return o},v.shuffle=function(t){for(var e,i=P(t)?t:v.values(t),n=i.length,r=Array(n),o=0;o<n;o++)(e=v.random(0,o))!==o&&(r[o]=r[e]),r[e]=i[o];return r},v.sample=function(t,e,i){return null==e||i?(P(t)||(t=v.values(t)),t[v.random(t.length-1)]):v.shuffle(t).slice(0,Math.max(0,e))},v.sortBy=function(t,n,e){return n=$(n,e),v.pluck(v.map(t,function(t,e,i){return{value:t,index:e,criteria:n(t,e,i)}}).sort(function(t,e){var i=t.criteria,n=e.criteria;if(i!==n){if(n<i||void 0===i)return 1;if(i<n||void 0===n)return-1}return t.index-e.index}),"value")};var O=function(s){return function(n,r,t){var o={};return r=$(r,t),v.each(n,function(t,e){var i=r(t,e,n);s(o,t,i)}),o}};v.groupBy=O(function(t,e,i){v.has(t,i)?t[i].push(e):t[i]=[e]}),v.indexBy=O(function(t,e,i){t[i]=e}),v.countBy=O(function(t,e,i){v.has(t,i)?t[i]++:t[i]=1}),v.toArray=function(t){return t?v.isArray(t)?h.call(t):P(t)?v.map(t,v.identity):v.values(t):[]},v.size=function(t){return null==t?0:P(t)?t.length:v.keys(t).length},v.partition=function(t,n,e){n=$(n,e);var r=[],o=[];return v.each(t,function(t,e,i){(n(t,e,i)?r:o).push(t)}),[r,o]},v.first=v.head=v.take=function(t,e,i){if(null!=t)return null==e||i?t[0]:v.initial(t,t.length-e)},v.initial=function(t,e,i){return h.call(t,0,Math.max(0,t.length-(null==e||i?1:e)))},v.last=function(t,e,i){if(null!=t)return null==e||i?t[t.length-1]:v.rest(t,Math.max(0,t.length-e))},v.rest=v.tail=v.drop=function(t,e,i){return h.call(t,null==e||i?1:e)},v.compact=function(t){return v.filter(t,v.identity)};var E=function t(e,i,n,r){for(var o=[],s=0,a=r||0,l=S(e);a<l;a++){var u=e[a];if(P(u)&&(v.isArray(u)||v.isArguments(u))){i||(u=t(u,i,n));var h=0,c=u.length;for(o.length+=c;h<c;)o[s++]=u[h++]}else n||(o[s++]=u)}return o};v.flatten=function(t,e){return E(t,e,!1)},v.without=function(t){return v.difference(t,h.call(arguments,1))},v.uniq=v.unique=function(t,e,i,n){v.isBoolean(e)||(n=i,i=e,e=!1),null!=i&&(i=$(i,n));for(var r=[],o=[],s=0,a=S(t);s<a;s++){var l=t[s],u=i?i(l,s,t):l;e?(s&&o===u||r.push(l),o=u):i?v.contains(o,u)||(o.push(u),r.push(l)):v.contains(r,l)||r.push(l)}return r},v.union=function(){return v.uniq(E(arguments,!0,!0))},v.intersection=function(t){for(var e=[],i=arguments.length,n=0,r=S(t);n<r;n++){var o=t[n];if(!v.contains(e,o)){for(var s=1;s<i&&v.contains(arguments[s],o);s++);s===i&&e.push(o)}}return e},v.difference=function(t){var e=E(arguments,!0,!0,1);return v.filter(t,function(t){return!v.contains(e,t)})},v.zip=function(){return v.unzip(arguments)},v.unzip=function(t){for(var e=t&&v.max(t,S).length||0,i=Array(e),n=0;n<e;n++)i[n]=v.pluck(t,n);return i},v.object=function(t,e){for(var i={},n=0,r=S(t);n<r;n++)e?i[t[n]]=e[n]:i[t[n][0]]=t[n][1];return i},v.findIndex=e(1),v.findLastIndex=e(-1),v.sortedIndex=function(t,e,i,n){for(var r=(i=$(i,n,1))(e),o=0,s=S(t);o<s;){var a=Math.floor((o+s)/2);i(t[a])<r?o=a+1:s=a}return o},v.indexOf=i(1,v.findIndex,v.sortedIndex),v.lastIndexOf=i(-1,v.findLastIndex),v.range=function(t,e,i){null==e&&(e=t||0,t=0),i=i||1;for(var n=Math.max(Math.ceil((e-t)/i),0),r=Array(n),o=0;o<n;o++,t+=i)r[o]=t;return r};var A=function(t,e,i,n,r){if(!(n instanceof e))return t.apply(i,r);var o=b(t.prototype),s=t.apply(o,r);return v.isObject(s)?s:o};v.bind=function(e,i){if(d&&e.bind===d)return d.apply(e,h.call(arguments,1));if(!v.isFunction(e))throw new TypeError("Bind must be called on a function");var n=h.call(arguments,2);return function t(){return A(e,t,i,this,n.concat(h.call(arguments)))}},v.partial=function(o){var s=h.call(arguments,1);return function t(){for(var e=0,i=s.length,n=Array(i),r=0;r<i;r++)n[r]=s[r]===v?arguments[e++]:s[r];for(;e<arguments.length;)n.push(arguments[e++]);return A(o,t,this,this,n)}},v.bindAll=function(t){var e,i,n=arguments.length;if(n<=1)throw new Error("bindAll must be passed function names");for(e=1;e<n;e++)t[i=arguments[e]]=v.bind(t[i],t);return t},v.memoize=function(r,o){var t=function t(e){var i=t.cache,n=""+(o?o.apply(this,arguments):e);return v.has(i,n)||(i[n]=r.apply(this,arguments)),i[n]};return t.cache={},t},v.delay=function(t,e){var i=h.call(arguments,2);return setTimeout(function(){return t.apply(null,i)},e)},v.defer=v.partial(v.delay,v,1),v.throttle=function(i,n,r){var o,s,a,l=null,u=0;r||(r={});var h=function(){u=!1===r.leading?0:v.now(),l=null,a=i.apply(o,s),l||(o=s=null)};return function(){var t=v.now();u||!1!==r.leading||(u=t);var e=n-(t-u);return o=this,s=arguments,e<=0||n<e?(l&&(clearTimeout(l),l=null),u=t,a=i.apply(o,s),l||(o=s=null)):l||!1===r.trailing||(l=setTimeout(h,e)),a}},v.debounce=function(i,n,r){var o,s,a,l,u,e=function t(){var e=v.now()-l;e<n&&0<=e?o=setTimeout(t,n-e):(o=null,r||(u=i.apply(a,s),o||(a=s=null)))};return function(){a=this,s=arguments,l=v.now();var t=r&&!o;return o||(o=setTimeout(e,n)),t&&(u=i.apply(a,s),a=s=null),u}},v.wrap=function(t,e){return v.partial(e,t)},v.negate=function(t){return function(){return!t.apply(this,arguments)}},v.compose=function(){var i=arguments,n=i.length-1;return function(){for(var t=n,e=i[n].apply(this,arguments);t--;)e=i[t].call(this,e);return e}},v.after=function(t,e){return function(){if(--t<1)return e.apply(this,arguments)}},v.before=function(t,e){var i;return function(){return 0<--t&&(i=e.apply(this,arguments)),t<=1&&(e=null),i}},v.once=v.partial(v.before,2);var C=!{toString:null}.propertyIsEnumerable("toString"),L=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];v.keys=function(t){if(!v.isObject(t))return[];if(_)return _(t);var e=[];for(var i in t)v.has(t,i)&&e.push(i);return C&&n(t,e),e},v.allKeys=function(t){if(!v.isObject(t))return[];var e=[];for(var i in t)e.push(i);return C&&n(t,e),e},v.values=function(t){for(var e=v.keys(t),i=e.length,n=Array(i),r=0;r<i;r++)n[r]=t[e[r]];return n},v.mapObject=function(t,e,i){e=$(e,i);for(var n,r=v.keys(t),o=r.length,s={},a=0;a<o;a++)s[n=r[a]]=e(t[n],n,t);return s},v.pairs=function(t){for(var e=v.keys(t),i=e.length,n=Array(i),r=0;r<i;r++)n[r]=[e[r],t[e[r]]];return n},v.invert=function(t){for(var e={},i=v.keys(t),n=0,r=i.length;n<r;n++)e[t[i[n]]]=i[n];return e},v.functions=v.methods=function(t){var e=[];for(var i in t)v.isFunction(t[i])&&e.push(i);return e.sort()},v.extend=w(v.allKeys),v.extendOwn=v.assign=w(v.keys),v.findKey=function(t,e,i){e=$(e,i);for(var n,r=v.keys(t),o=0,s=r.length;o<s;o++)if(e(t[n=r[o]],n,t))return n},v.pick=function(t,e,i){var n,r,o={},s=t;if(null==s)return o;v.isFunction(e)?(r=v.allKeys(s),n=y(e,i)):(r=E(arguments,!1,!1,1),n=function(t,e,i){return e in i},s=Object(s));for(var a=0,l=r.length;a<l;a++){var u=r[a],h=s[u];n(h,u,s)&&(o[u]=h)}return o},v.omit=function(t,e,i){if(v.isFunction(e))e=v.negate(e);else{var n=v.map(E(arguments,!1,!1,1),String);e=function(t,e){return!v.contains(n,e)}}return v.pick(t,e,i)},v.defaults=w(v.allKeys,!0),v.create=function(t,e){var i=b(t);return e&&v.extendOwn(i,e),i},v.clone=function(t){return v.isObject(t)?v.isArray(t)?t.slice():v.extend({},t):t},v.tap=function(t,e){return e(t),t},v.isMatch=function(t,e){var i=v.keys(e),n=i.length;if(null==t)return!n;for(var r=Object(t),o=0;o<n;o++){var s=i[o];if(e[s]!==r[s]||!(s in r))return!1}return!0},v.isEqual=function(t,e){return function t(e,i,n,r){if(e===i)return 0!==e||1/e==1/i;if(null==e||null==i)return e===i;e instanceof v&&(e=e._wrapped),i instanceof v&&(i=i._wrapped);var o=f.call(e);if(o!==f.call(i))return!1;switch(o){case"[object RegExp]":case"[object String]":return""+e==""+i;case"[object Number]":return+e!=+e?+i!=+i:0==+e?1/+e==1/i:+e==+i;case"[object Date]":case"[object Boolean]":return+e==+i}var s="[object Array]"===o;if(!s){if("object"!=(void 0===e?"undefined":q(e))||"object"!=(void 0===i?"undefined":q(i)))return!1;var a=e.constructor,l=i.constructor;if(a!==l&&!(v.isFunction(a)&&a instanceof a&&v.isFunction(l)&&l instanceof l)&&"constructor"in e&&"constructor"in i)return!1}r=r||[];for(var u=(n=n||[]).length;u--;)if(n[u]===e)return r[u]===i;if(n.push(e),r.push(i),s){if((u=e.length)!==i.length)return!1;for(;u--;)if(!t(e[u],i[u],n,r))return!1}else{var h,c=v.keys(e);if(u=c.length,v.keys(i).length!==u)return!1;for(;u--;)if(h=c[u],!v.has(i,h)||!t(e[h],i[h],n,r))return!1}return n.pop(),r.pop(),!0}(t,e)},v.isEmpty=function(t){return null==t||(P(t)&&(v.isArray(t)||v.isString(t)||v.isArguments(t))?0===t.length:0===v.keys(t).length)},v.isElement=function(t){return!(!t||1!==t.nodeType)},v.isArray=p||function(t){return"[object Array]"===f.call(t)},v.isObject=function(t){var e=void 0===t?"undefined":q(t);return"function"===e||"object"===e&&!!t},v.each(["Arguments","Function","String","Number","Date","RegExp","Error"],function(e){v["is"+e]=function(t){return f.call(t)==="[object "+e+"]"}}),v.isArguments(arguments)||(v.isArguments=function(t){return v.has(t,"callee")}),"function"!=typeof/./&&"object"!=("undefined"==typeof Int8Array?"undefined":q(Int8Array))&&(v.isFunction=function(t){return"function"==typeof t||!1}),v.isFinite=function(t){return isFinite(t)&&!isNaN(parseFloat(t))},v.isNaN=function(t){return v.isNumber(t)&&t!==+t},v.isBoolean=function(t){return!0===t||!1===t||"[object Boolean]"===f.call(t)},v.isNull=function(t){return null===t},v.isUndefined=function(t){return void 0===t},v.has=function(t,e){return null!=t&&c.call(t,e)},v.noConflict=function(){return r._=o,this},v.identity=function(t){return t},v.constant=function(t){return function(){return t}},v.noop=function(){},v.property=T,v.propertyOf=function(e){return null==e?function(){}:function(t){return e[t]}},v.matcher=v.matches=function(e){return e=v.extendOwn({},e),function(t){return v.isMatch(t,e)}},v.times=function(t,e,i){var n=Array(Math.max(0,t));e=y(e,i,1);for(var r=0;r<t;r++)n[r]=e(r);return n},v.random=function(t,e){return null==e&&(e=t,t=0),t+Math.floor(Math.random()*(e-t+1))},v.now=Date.now||function(){return(new Date).getTime()};var I={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},M=v.invert(I),R=function(e){var i=function(t){return e[t]},t="(?:"+v.keys(e).join("|")+")",n=RegExp(t),r=RegExp(t,"g");return function(t){return t=null==t?"":""+t,n.test(t)?t.replace(r,i):t}};v.escape=R(I),v.unescape=R(M),v.result=function(t,e,i){var n=null==t?void 0:t[e];return void 0===n&&(n=i),v.isFunction(n)?n.call(t):n};var D=0;v.uniqueId=function(t){var e=++D+"";return t?t+e:e},v.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var k=/(.)^/,N={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},F=/\\|'|\r|\n|\u2028|\u2029/g,U=function(t){return"\\"+N[t]};v.template=function(o,t,e){!t&&e&&(t=e),t=v.defaults({},t,v.templateSettings);var i=RegExp([(t.escape||k).source,(t.interpolate||k).source,(t.evaluate||k).source].join("|")+"|$","g"),s=0,a="__p+='";o.replace(i,function(t,e,i,n,r){return a+=o.slice(s,r).replace(F,U),s=r+t.length,e?a+="'+\n((__t=("+e+"))==null?'':_.escape(__t))+\n'":i?a+="'+\n((__t=("+i+"))==null?'':__t)+\n'":n&&(a+="';\n"+n+"\n__p+='"),t}),a+="';\n",t.variable||(a="with(obj||{}){\n"+a+"}\n"),a="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+a+"return __p;\n";try{var n=new Function(t.variable||"obj","_",a)}catch(o){throw o.source=a,o}var r=function(t){return n.call(this,t,v)};return r.source="function("+(t.variable||"obj")+"){\n"+a+"}",r},v.chain=function(t){var e=v(t);return e._chain=!0,e};var B=function(t,e){return t._chain?v(e).chain():e};v.mixin=function(i){v.each(v.functions(i),function(t){var e=v[t]=i[t];v.prototype[t]=function(){var t=[this._wrapped];return u.apply(t,arguments),B(this,e.apply(v,t))}})},v.mixin(v),v.each(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var i=s[e];v.prototype[e]=function(){var t=this._wrapped;return i.apply(t,arguments),"shift"!==e&&"splice"!==e||0!==t.length||delete t[0],B(this,t)}}),v.each(["concat","join","slice"],function(t){var e=s[t];v.prototype[t]=function(){return B(this,e.apply(this._wrapped,arguments))}}),v.prototype.value=function(){return this._wrapped},v.prototype.valueOf=v.prototype.toJSON=v.prototype.value,v.prototype.toString=function(){return""+this._wrapped},void 0!==(z=function(){return v}.apply(G,[]))&&(j.exports=z)}).call(this)},function(t,e,i){var n=(i(0),i(46).Promise);n._continueWhile=function(t,e){return t()?e().then(function(){return n._continueWhile(t,e)}):n.resolve()},t.exports=n},function(t,e,i){var r=i(50),l=i(0).extend,f=i(1),p=i(4),_=i(5),n=i(3),d=n.getSessionToken,m=n.ajax,g=function(t,e){var i=(new Date).getTime(),n=r(i+t);return e?n+","+i+",master":n+","+i},v=function(t,e){e?t["X-LC-Sign"]=g(_.applicationKey):t["X-LC-Key"]=_.applicationKey},u=function(t){var e=t.service,i=t.version,n=t.method,r=t.path,o=t.query,s=t.data,a=void 0===s?{}:s,l=t.authOptions,u=t.signKey,h=void 0===u||u;if(!_.applicationId||!_.applicationKey&&!_.masterKey)throw new Error("Not initialized");_._appRouter.refresh();var c=function(t){var e=t.service,i=void 0===e?"api":e,n=t.version,r=void 0===n?"1.1":n,o=t.path,s=_._config.serverURLs[i];if(!s)throw new Error("undefined server URL for "+i);return"/"!==s.charAt(s.length-1)&&(s+="/"),s+=r,o&&(s+=o),s}({service:e,path:r,version:i});return function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1],i={"X-LC-Id":_.applicationId,"Content-Type":"application/json;charset=UTF-8"},n=!1;return"boolean"==typeof e.useMasterKey?n=e.useMasterKey:"boolean"==typeof _._config.useMasterKey&&(n=_._config.useMasterKey),n?_.masterKey?t?i["X-LC-Sign"]=g(_.masterKey,!0):i["X-LC-Key"]=_.masterKey+",master":(console.warn("masterKey is not set, fall back to use appKey"),v(i,t)):v(i,t),_.hookKey&&(i["X-LC-Hook-Key"]=_.hookKey),null!==_._config.production&&(i["X-LC-Prod"]=String(_._config.production)),i["X-LC-UA"]=_._sharedConfig.userAgent,f.resolve().then(function(){var t=d(e);if(t)i["X-LC-Session"]=t;else if(!_._config.disableCurrentUser)return _.User.currentAsync().then(function(t){return t&&t._sessionToken&&(i["X-LC-Session"]=t._sessionToken),i});return i})}(l,h).then(function(t){return m({method:n,url:c,query:o,data:a,headers:t}).catch(function(t){var e={code:t.code||-1,error:t.message||t.responseText};if(t.response&&t.response.code)e=t.response;else if(t.responseText)try{e=JSON.parse(t.responseText)}catch(t){}throw e.error+=" ["+(t.statusCode||"N/A")+" "+n+" "+c+"]",new p(e.code,e.error)})})};_.request=u,t.exports={_request:function(t,e,i,n){var r=4<arguments.length&&void 0!==arguments[4]?arguments[4]:{},o=arguments[5],s=arguments[6],a="";if(t&&(a+="/"+t),e&&(a+="/"+e),i&&(a+="/"+i),r&&r._fetchWhenSave)throw new Error("_fetchWhenSave should be in the query");if(r&&r._where)throw new Error("_where should be in the query");return n&&"get"===n.toLowerCase()&&(s=l({},s,r),r=null),u({method:n,path:a,query:s,data:r,authOptions:o})},request:u}},function(t,e,i){var c="function"==typeof Symbol&&"symbol"==q(Symbol.iterator)?function(t){return void 0===t?"undefined":q(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":void 0===t?"undefined":q(t)},r=i(0),f=i(7),p=i(6)("leancloud:request"),_=i(1),d=0,o=function(t){return r.isArray(t)?t:null==t?[]:[t]},s=function(){};t.exports={ajax:function(t){var e=t.method,r=t.url,i=t.query,o=t.data,n=t.headers,s=void 0===n?{}:n,a=t.onprogress,l=d++;p("request("+l+")",e,r,i,o,s);var u={};if(i)for(var h in i)"object"===c(i[h])?u[h]=JSON.stringify(i[h]):u[h]=i[h];return new _(function(i,n){var t=f(e,r).set(s).query(u).send(o);a&&t.on("progress",a),t.end(function(t,e){return e&&p("response("+l+")",e.status,e.body||e.text,e.header),t?(e&&(t.statusCode=e.status,t.responseText=e.text,t.response=e.body),n(t)):i(e.body)})})},isNullOrUndefined:function(t){return r.isNull(t)||r.isUndefined(t)},ensureArray:o,transformFetchOptions:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=t.keys,i=t.include,n=t.includeACL,r={};return e&&(r.keys=o(e).join(",")),i&&(r.include=o(i).join(",")),n&&(r.returnACL=n),r},getSessionToken:function(t){return t.sessionToken?t.sessionToken:t.user&&"function"==typeof t.user.getSessionToken?t.user.getSessionToken():void 0},tap:function(e){return function(t){return e(t),t}},inherits:function(t,e,i){var n;return n=e&&e.hasOwnProperty("constructor")?e.constructor:function(){t.apply(this,arguments)},r.extend(n,t),s.prototype=t.prototype,n.prototype=new s,e&&r.extend(n.prototype,e),i&&r.extend(n,i),(n.prototype.constructor=n).__super__=t.prototype,n},parseDate:function(t){var e=new RegExp("^([0-9]{1,4})-([0-9]{1,2})-([0-9]{1,2})T([0-9]{1,2}):([0-9]{1,2}):([0-9]{1,2})(.([0-9]+))?Z$").exec(t);if(!e)return null;var i=e[1]||0,n=(e[2]||1)-1,r=e[3]||0,o=e[4]||0,s=e[5]||0,a=e[6]||0,l=e[8]||0;return new Date(Date.UTC(i,n,r,o,s,a,l))}}},function(t,e,i){function n(t,e){var i=new Error(e);return i.code=t,i}i(0).extend(n,{OTHER_CAUSE:-1,INTERNAL_SERVER_ERROR:1,CONNECTION_FAILED:100,OBJECT_NOT_FOUND:101,INVALID_QUERY:102,INVALID_CLASS_NAME:103,MISSING_OBJECT_ID:104,INVALID_KEY_NAME:105,INVALID_POINTER:106,INVALID_JSON:107,COMMAND_UNAVAILABLE:108,NOT_INITIALIZED:109,INCORRECT_TYPE:111,INVALID_CHANNEL_NAME:112,PUSH_MISCONFIGURED:115,OBJECT_TOO_LARGE:116,OPERATION_FORBIDDEN:119,CACHE_MISS:120,INVALID_NESTED_KEY:121,INVALID_FILE_NAME:122,INVALID_ACL:123,TIMEOUT:124,INVALID_EMAIL_ADDRESS:125,MISSING_CONTENT_TYPE:126,MISSING_CONTENT_LENGTH:127,INVALID_CONTENT_LENGTH:128,FILE_TOO_LARGE:129,FILE_SAVE_ERROR:130,FILE_DELETE_ERROR:153,DUPLICATE_VALUE:137,INVALID_ROLE_NAME:139,EXCEEDED_QUOTA:140,SCRIPT_FAILED:141,VALIDATION_ERROR:142,INVALID_IMAGE_DATA:150,UNSAVED_FILE_ERROR:151,INVALID_PUSH_TIME_ERROR:152,USERNAME_MISSING:200,PASSWORD_MISSING:201,USERNAME_TAKEN:202,EMAIL_TAKEN:203,EMAIL_MISSING:204,EMAIL_NOT_FOUND:205,SESSION_MISSING:206,MUST_CREATE_USER_THROUGH_SIGNUP:207,ACCOUNT_ALREADY_LINKED:208,LINKED_ID_MISSING:250,INVALID_LINKED_SESSION:251,UNSUPPORTED_SERVICE:252,X_DOMAIN_REQUEST:602}),t.exports=n},function(a,t,l){(function(t){var h=l(0),e=l(37),i=l(3),n=i.inherits,r=i.parseDate,c=t.AV||{};c._config={serverURLs:{},useMasterKey:!1,production:null,realtime:null},c._sharedConfig={userAgent:e,liveQueryRealtime:null},c._getAVPath=function(t){if(!c.applicationId)throw new Error("You need to call AV.initialize before using AV.");if(t||(t=""),!h.isString(t))throw new Error("Tried to get a localStorage path that wasn't a String.");return"/"===t[0]&&(t=t.substring(1)),"AV/"+c.applicationId+"/"+t};var o=function(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)},s=function(){return""+o()+o()+"-"+o()+"-"+o()+"-"+o()+"-"+o()+o()+o()};c._installationId=null,c._getInstallationId=function(){if(c._installationId)return c.Promise.resolve(c._installationId);var e=c._getAVPath("installationId");return c.localStorage.getItemAsync(e).then(function(t){return c._installationId=t,c._installationId?t:(c._installationId=t=s(),c.localStorage.setItemAsync(e,t).then(function(){return t}))})},c._subscriptionId=null,c._refreshSubscriptionId=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:c._getAVPath("subscriptionId"),e=c._subscriptionId=s();return c.localStorage.setItemAsync(t,e).then(function(){return e})},c._getSubscriptionId=function(){if(c._subscriptionId)return c.Promise.resolve(c._subscriptionId);var e=c._getAVPath("subscriptionId");return c.localStorage.getItemAsync(e).then(function(t){return c._subscriptionId=t,c._subscriptionId||(t=c._refreshSubscriptionId(e)),t})},c._parseDate=r,c._extend=function(t,e){var i=n(this,t,e);return i.extend=this.extend,i},c._encode=function(t,i,n){var r=!(3<arguments.length&&void 0!==arguments[3])||arguments[3];if(t instanceof c.Object){if(n)throw new Error("AV.Objects not allowed here");return i&&!h.include(i,t)&&t._hasData?t._toFullJSON(i.concat(t),r):t._toPointer()}if(t instanceof c.ACL)return t.toJSON();if(h.isDate(t))return r?{__type:"Date",iso:t.toJSON()}:t.toJSON();if(t instanceof c.GeoPoint)return t.toJSON();if(h.isArray(t))return h.map(t,function(t){return c._encode(t,i,n,r)});if(h.isRegExp(t))return t.source;if(t instanceof c.Relation)return t.toJSON();if(t instanceof c.Op)return t.toJSON();if(t instanceof c.File){if(!t.url()&&!t.id)throw new Error("Tried to save an object containing an unsaved file.");return t._toFullJSON(i,r)}return h.isObject(t)?h.mapObject(t,function(t,e){return c._encode(t,i,n,r)}):t},c._decode=function(t,e){if(!h.isObject(t)||h.isDate(t))return t;if(h.isArray(t))return h.map(t,function(t){return c._decode(t)});if(t instanceof c.Object)return t;if(t instanceof c.File)return t;if(t instanceof c.Op)return t;if(t instanceof c.GeoPoint)return t;if(t instanceof c.ACL)return t;if("ACL"===e)return new c.ACL(t);if(t.__op)return c.Op._decode(t);var i;if("Pointer"===t.__type){i=t.className;var n=c.Object._create(i);if(3<Object.keys(t).length){var r=h.clone(t);delete r.__type,delete r.className,n._finishFetch(r,!0)}else n._finishFetch({objectId:t.objectId},!1);return n}if("Object"===t.__type){i=t.className;var o=h.clone(t);delete o.__type,delete o.className;var s=c.Object._create(i);return s._finishFetch(o,!0),s}if("Date"===t.__type)return c._parseDate(t.iso);if("GeoPoint"===t.__type)return new c.GeoPoint({latitude:t.latitude,longitude:t.longitude});if("Relation"===t.__type){if(!e)throw new Error("key missing decoding a Relation");var a=new c.Relation(null,e);return a.targetClassName=t.className,a}if("File"!==t.__type)return h.mapObject(t,c._decode);var l=new c.File(t.name),u=h.clone(t);return delete u.__type,l._finishFetch(u),l},c.parseJSON=c._decode,c._encodeObjectOrArray=function(t){var e=function(t){return t&&t._toFullJSON&&(t=t._toFullJSON([])),h.mapObject(t,function(t){return c._encode(t,[])})};return h.isArray(t)?t.map(function(t){return e(t)}):e(t)},c._arrayEach=h.each,c._traverse=function(n,r,o){if(n instanceof c.Object){if(o=o||[],0<=h.indexOf(o,n))return;return o.push(n),c._traverse(n.attributes,r,o),r(n)}return n instanceof c.Relation||n instanceof c.File||(h.isArray(n)?h.each(n,function(t,e){var i=c._traverse(t,r,o);i&&(n[e]=i)}):h.isObject(n)&&c._each(n,function(t,e){var i=c._traverse(t,r,o);i&&(n[e]=i)})),r(n)},c._objectEach=c._each=function(e,i){h.isObject(e)?h.each(h.keys(e),function(t){i(e[t],t)}):h.each(e,i)},a.exports=c}).call(t,l(8))},function(t,o,e){function i(){var t;try{t=o.storage.debug}catch(t){}return!t&&void 0!==G&&"env"in G&&(t=G.env.DEBUG),t}(o=t.exports=e(45)).log=function(){return"object"==("undefined"==typeof console?"undefined":q(console))&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},o.formatArgs=function(t){var e=this.useColors;if(t[0]=(e?"%c":"")+this.namespace+(e?" %c":" ")+t[0]+(e?"%c ":" ")+"+"+o.humanize(this.diff),e){var i="color: "+this.color;t.splice(1,0,i,"color: inherit");var n=0,r=0;t[0].replace(/%[a-zA-Z%]/g,function(t){"%%"!==t&&(n++,"%c"===t&&(r=n))}),t.splice(r,0,i)}},o.save=function(t){try{null==t?o.storage.removeItem("debug"):o.storage.debug=t}catch(t){}},o.load=i,o.useColors=function(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type)||"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&31<=parseInt(RegExp.$1,10)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},o.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(t){}}(),o.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],o.formatters.j=function(t){try{return JSON.stringify(t)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}},o.enable(i())},function(t,i,e){function n(){}function r(t){if(!_(t))return t;var e=[];for(var i in t)o(e,i,t[i]);return e.join("&")}function o(e,i,t){if(null!=t)if(Array.isArray(t))t.forEach(function(t){o(e,i,t)});else if(_(t))for(var n in t)o(e,i+"["+n+"]",t[n]);else e.push(encodeURIComponent(i)+"="+encodeURIComponent(t));else null===t&&e.push(encodeURIComponent(i))}function s(t){for(var e,i,n={},r=t.split("&"),o=0,s=r.length;o<s;++o)-1==(i=(e=r[o]).indexOf("="))?n[decodeURIComponent(e)]="":n[decodeURIComponent(e.slice(0,i))]=decodeURIComponent(e.slice(i+1));return n}function a(t){return/[\/+]json\b/.test(t)}function l(t){this.req=t,this.xhr=this.req.xhr,this.text="HEAD"!=this.req.method&&(""===this.xhr.responseType||"text"===this.xhr.responseType)||void 0===this.xhr.responseType?this.xhr.responseText:null,this.statusText=this.req.xhr.statusText;var e=this.xhr.status;1223===e&&(e=204),this._setStatusProperties(e),this.header=this.headers=function(t){for(var e,i,n,r,o=t.split(/\r?\n/),s={},a=0,l=o.length;a<l;++a)-1!==(e=(i=o[a]).indexOf(":"))&&(n=i.slice(0,e).toLowerCase(),r=v(i.slice(e+1)),s[n]=r);return s}(this.xhr.getAllResponseHeaders()),this.header["content-type"]=this.xhr.getResponseHeader("content-type"),this._setHeaderProperties(this.header),null===this.text&&t._responseType?this.body=this.xhr.response:this.body="HEAD"!=this.req.method?this._parseBody(this.text?this.text:this.xhr.response):null}function u(t,e){var n=this;this._query=this._query||[],this.method=t,this.url=e,this.header={},this._header={},this.on("end",function(){var t,e=null,i=null;try{i=new l(n)}catch(i){return(e=new Error("Parser is unable to parse the response")).parse=!0,e.original=i,n.xhr?(e.rawResponse=void 0===n.xhr.responseType?n.xhr.responseText:n.xhr.response,e.status=n.xhr.status?n.xhr.status:null,e.statusCode=e.status):(e.rawResponse=null,e.status=null),n.callback(e)}n.emit("response",i);try{n._isResponseOK(i)||(t=new Error(i.statusText||"Unsuccessful HTTP response"))}catch(e){t=e}t?(t.original=e,t.response=i,t.status=i.status,n.callback(t,i)):n.callback(null,i)})}function h(t,e,i){var n=g("DELETE",t);return"function"==typeof e&&(i=e,e=null),e&&n.send(e),i&&n.end(i),n}var c;c="undefined"!=typeof window?window:"undefined"!=typeof self?self:(console.warn("Using browser-only version of superagent in non-browser environment"),this);var f=e(43),p=e(53),_=e(13),d=e(54),m=e(52),g=i=t.exports=function(t,e){return"function"==typeof e?new i.Request("GET",t).end(e):1==arguments.length?new i.Request("GET",t):new i.Request(t,e)};i.Request=u,g.getXHR=function(){if(!(!c.XMLHttpRequest||c.location&&"file:"==c.location.protocol&&c.ActiveXObject))return new XMLHttpRequest;try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(t){}try{return new ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(t){}try{return new ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(t){}try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(t){}throw Error("Browser-only version of superagent could not find XHR")};var v="".trim?function(t){return t.trim()}:function(t){return t.replace(/(^\s*|\s*$)/g,"")};g.serializeObject=r,g.parseString=s,g.types={html:"text/html",json:"application/json",xml:"text/xml",urlencoded:"application/x-www-form-urlencoded",form:"application/x-www-form-urlencoded","form-data":"application/x-www-form-urlencoded"},g.serialize={"application/x-www-form-urlencoded":r,"application/json":JSON.stringify},g.parse={"application/x-www-form-urlencoded":s,"application/json":JSON.parse},d(l.prototype),l.prototype._parseBody=function(t){var e=g.parse[this.type];return this.req._parser?this.req._parser(this,t):(!e&&a(this.type)&&(e=g.parse["application/json"]),e&&t&&(t.length||t instanceof Object)?e(t):null)},l.prototype.toError=function(){var t=this.req,e=t.method,i=t.url,n="cannot "+e+" "+i+" ("+this.status+")",r=new Error(n);return r.status=this.status,r.method=e,r.url=i,r},g.Response=l,f(u.prototype),p(u.prototype),u.prototype.type=function(t){return this.set("Content-Type",g.types[t]||t),this},u.prototype.accept=function(t){return this.set("Accept",g.types[t]||t),this},u.prototype.auth=function(t,e,i){return 1===arguments.length&&(e=""),"object"==(void 0===e?"undefined":q(e))&&null!==e&&(i=e,e=""),i||(i={type:"function"==typeof btoa?"basic":"auto"}),this._auth(t,e,i,function(t){if("function"==typeof btoa)return btoa(t);throw new Error("Cannot use basic auth, btoa is not a function")})},u.prototype.query=function(t){return"string"!=typeof t&&(t=r(t)),t&&this._query.push(t),this},u.prototype.attach=function(t,e,i){if(e){if(this._data)throw Error("superagent can't mix .send() and .attach()");this._getFormData().append(t,e,i||e.name)}return this},u.prototype._getFormData=function(){return this._formData||(this._formData=new c.FormData),this._formData},u.prototype.callback=function(t,e){if(this._shouldRetry(t,e))return this._retry();var i=this._callback;this.clearTimeout(),t&&(this._maxRetries&&(t.retries=this._retries-1),this.emit("error",t)),i(t,e)},u.prototype.crossDomainError=function(){var t=new Error("Request has been terminated\nPossible causes: the network is offline, Origin is not allowed by Access-Control-Allow-Origin, the page is being unloaded, etc.");t.crossDomain=!0,t.status=this.status,t.method=this.method,t.url=this.url,this.callback(t)},u.prototype.buffer=u.prototype.ca=u.prototype.agent=function(){return console.warn("This is not supported in browser version of superagent"),this},u.prototype.pipe=u.prototype.write=function(){throw Error("Streaming is not supported in browser version of superagent")},u.prototype._isHost=function(t){return t&&"object"==(void 0===t?"undefined":q(t))&&!Array.isArray(t)&&"[object Object]"!==Object.prototype.toString.call(t)},u.prototype.end=function(t){return this._endCalled&&console.warn("Warning: .end() was called twice. This is not supported in superagent"),this._endCalled=!0,this._callback=t||n,this._finalizeQueryString(),this._end()},u.prototype._end=function(){var i=this,n=this.xhr=g.getXHR(),t=this._formData||this._data;this._setTimeouts(),n.onreadystatechange=function(){var t=n.readyState;if(2<=t&&i._responseTimeoutTimer&&clearTimeout(i._responseTimeoutTimer),4==t){var e;try{e=n.status}catch(t){e=0}if(!e){if(i.timedout||i._aborted)return;return i.crossDomainError()}i.emit("end")}};var e=function(t,e){0<e.total&&(e.percent=e.loaded/e.total*100),e.direction=t,i.emit("progress",e)};if(this.hasListeners("progress"))try{n.onprogress=e.bind(null,"download"),n.upload&&(n.upload.onprogress=e.bind(null,"upload"))}catch(i){}try{this.username&&this.password?n.open(this.method,this.url,!0,this.username,this.password):n.open(this.method,this.url,!0)}catch(i){return this.callback(i)}if(this._withCredentials&&(n.withCredentials=!0),!this._formData&&"GET"!=this.method&&"HEAD"!=this.method&&"string"!=typeof t&&!this._isHost(t)){var r=this._header["content-type"],o=this._serializer||g.serialize[r?r.split(";")[0]:""];!o&&a(r)&&(o=g.serialize["application/json"]),o&&(t=o(t))}for(var s in this.header)null!=this.header[s]&&this.header.hasOwnProperty(s)&&n.setRequestHeader(s,this.header[s]);return this._responseType&&(n.responseType=this._responseType),this.emit("request",this),n.send(void 0!==t?t:null),this},g.agent=function(){return new m},["GET","POST","OPTIONS","PATCH","PUT","DELETE"].forEach(function(n){m.prototype[n.toLowerCase()]=function(t,e){var i=new g.Request(n,t);return this._setDefaults(i),e&&i.end(e),i}}),m.prototype.del=m.prototype.delete,g.get=function(t,e,i){var n=g("GET",t);return"function"==typeof e&&(i=e,e=null),e&&n.query(e),i&&n.end(i),n},g.head=function(t,e,i){var n=g("HEAD",t);return"function"==typeof e&&(i=e,e=null),e&&n.query(e),i&&n.end(i),n},g.options=function(t,e,i){var n=g("OPTIONS",t);return"function"==typeof e&&(i=e,e=null),e&&n.send(e),i&&n.end(i),n},g.del=h,g.delete=h,g.patch=function(t,e,i){var n=g("PATCH",t);return"function"==typeof e&&(i=e,e=null),e&&n.send(e),i&&n.end(i),n},g.post=function(t,e,i){var n=g("POST",t);return"function"==typeof e&&(i=e,e=null),e&&n.send(e),i&&n.end(i),n},g.put=function(t,e,i){var n=g("PUT",t);return"function"==typeof e&&(i=e,e=null),e&&n.send(e),i&&n.end(i),n}},function(t,e){var i;i=function(){return this}();try{i=i||Function("return this")()||(0,eval)("this")}catch(t){"object"==("undefined"==typeof window?"undefined":q(window))&&(i=window)}t.exports=i},function(t,e,i){var r=i(10),o=i(5),n=e.removeAsync=r.removeItemAsync.bind(r);e.getAsync=function(e){return e="AV/"+o.applicationId+"/"+e,r.getItemAsync(e).then(function(t){return function(t,e){try{t=JSON.parse(t)}catch(t){return null}return t?t.expiredAt&&t.expiredAt<Date.now()?n(e).then(function(){return null}):t.value:null}(t,e)})},e.setAsync=function(t,e,i){var n={value:e};return"number"==typeof i&&(n.expiredAt=Date.now()+i),r.setItemAsync("AV/"+o.applicationId+"/"+t,JSON.stringify(n))}},function(t,e,i){var n=i(0),r=i(1),o=i(41),s=["getItem","setItem","removeItem","clear"];o.async?n(s).each(function(e){"function"!=typeof o[e]&&(o[e]=function(){var t=new Error("Synchronous API ["+e+"] is not available in this runtime.");throw t.code="SYNC_API_NOT_AVAILABLE",t})}):n(s).each(function(t){"function"==typeof o[t]&&(o[t+"Async"]=function(){return r.resolve(o[t].apply(o,arguments))})}),t.exports=o},function(t,e,i){t.exports="3.3.1"},function(t,e){var i={utf8:{stringToBytes:function(t){return i.bin.stringToBytes(unescape(encodeURIComponent(t)))},bytesToString:function(t){return decodeURIComponent(escape(i.bin.bytesToString(t)))}},bin:{stringToBytes:function(t){for(var e=[],i=0;i<t.length;i++)e.push(255&t.charCodeAt(i));return e},bytesToString:function(t){for(var e=[],i=0;i<t.length;i++)e.push(String.fromCharCode(t[i]));return e.join("")}}};t.exports=i},function(t,e,i){t.exports=function(t){return null!==t&&"object"==(void 0===t?"undefined":q(t))}},function(t,e,i){var o=i(0);t.exports=function(r){r.ACL=function(t){var n=this;if(n.permissionsById={},o.isObject(t))if(t instanceof r.User)n.setReadAccess(t,!0),n.setWriteAccess(t,!0);else{if(o.isFunction(t))throw new Error("AV.ACL() called with a function.  Did you forget ()?");r._objectEach(t,function(t,i){if(!o.isString(i))throw new Error("Tried to create an ACL with an invalid userId.");n.permissionsById[i]={},r._objectEach(t,function(t,e){if("read"!==e&&"write"!==e)throw new Error("Tried to create an ACL with an invalid permission type.");if(!o.isBoolean(t))throw new Error("Tried to create an ACL with an invalid permission value.");n.permissionsById[i][e]=t})})}},r.ACL.prototype.toJSON=function(){return o.clone(this.permissionsById)},r.ACL.prototype._setAccess=function(t,e,i){if(e instanceof r.User?e=e.id:e instanceof r.Role&&(e="role:"+e.getName()),!o.isString(e))throw new Error("userId must be a string.");if(!o.isBoolean(i))throw new Error("allowed must be either true or false.");var n=this.permissionsById[e];if(!n){if(!i)return;n={},this.permissionsById[e]=n}i?this.permissionsById[e][t]=!0:(delete n[t],o.isEmpty(n)&&delete this.permissionsById[e])},r.ACL.prototype._getAccess=function(t,e){e instanceof r.User?e=e.id:e instanceof r.Role&&(e="role:"+e.getName());var i=this.permissionsById[e];return!!i&&!!i[t]},r.ACL.prototype.setReadAccess=function(t,e){this._setAccess("read",t,e)},r.ACL.prototype.getReadAccess=function(t){return this._getAccess("read",t)},r.ACL.prototype.setWriteAccess=function(t,e){this._setAccess("write",t,e)},r.ACL.prototype.getWriteAccess=function(t){return this._getAccess("write",t)},r.ACL.prototype.setPublicReadAccess=function(t){this.setReadAccess("*",t)},r.ACL.prototype.getPublicReadAccess=function(){return this.getReadAccess("*")},r.ACL.prototype.setPublicWriteAccess=function(t){this.setWriteAccess("*",t)},r.ACL.prototype.getPublicWriteAccess=function(){return this.getWriteAccess("*")},r.ACL.prototype.getRoleReadAccess=function(t){if(t instanceof r.Role&&(t=t.getName()),o.isString(t))return this.getReadAccess("role:"+t);throw new Error("role must be a AV.Role or a String")},r.ACL.prototype.getRoleWriteAccess=function(t){if(t instanceof r.Role&&(t=t.getName()),o.isString(t))return this.getWriteAccess("role:"+t);throw new Error("role must be a AV.Role or a String")},r.ACL.prototype.setRoleReadAccess=function(t,e){if(t instanceof r.Role&&(t=t.getName()),!o.isString(t))throw new Error("role must be a AV.Role or a String");this.setReadAccess("role:"+t,e)},r.ACL.prototype.setRoleWriteAccess=function(t,e){if(t instanceof r.Role&&(t=t.getName()),!o.isString(t))throw new Error("role must be a AV.Role or a String");this.setWriteAccess("role:"+t,e)}}},function(t,e,i){var o=i(0),n=i(3).tap;t.exports=function(r){r.Captcha=function(t,e){this._options=t,this._authOptions=e,this.url=void 0,this.captchaToken=void 0,this.validateToken=void 0},r.Captcha.prototype.refresh=function(){var n=this;return r.Cloud._requestCaptcha(this._options,this._authOptions).then(function(t){var e=t.captchaToken,i=t.url;return o.extend(n,{captchaToken:e,url:i}),i})},r.Captcha.prototype.verify=function(t){var e=this;return r.Cloud.verifyCaptcha(t,this.captchaToken).then(n(function(t){return e.validateToken=t}))},r.Captcha.prototype.bind=function(t,e){var i=this,n=t.textInput,r=t.image,o=t.verifyButton,s=e.success,a=e.error;if("string"==typeof n&&!(n=document.getElementById(n)))throw new Error("textInput with id "+n+" not found");if("string"==typeof r&&!(r=document.getElementById(r)))throw new Error("image with id "+r+" not found");if("string"==typeof o&&!(o=document.getElementById(o)))throw new Error("verifyButton with id "+o+" not found");this.__refresh=function(){return i.refresh().then(function(t){r.src=t,n&&(n.value="",n.focus())}).catch(function(t){return console.warn("refresh captcha fail: "+t.message)})},r&&((this.__image=r).src=this.url,r.addEventListener("click",this.__refresh)),this.__verify=function(){var t=n.value;i.verify(t).catch(function(t){throw i.__refresh(),t}).then(s,a).catch(function(t){return console.warn("verify captcha fail: "+t.message)})},n&&o&&(this.__verifyButton=o).addEventListener("click",this.__verify)},r.Captcha.prototype.unbind=function(){this.__image&&this.__image.removeEventListener("click",this.__refresh),this.__verifyButton&&this.__verifyButton.removeEventListener("click",this.__verify)},r.Captcha.request=function(t,e){var i=new r.Captcha(t,e);return i.refresh().then(function(){return i})}}},function(t,e,i){var r=i(0),n=i(2),o=n._request,s=n.request,a=i(1);t.exports=function(n){n.Cloud=n.Cloud||{},r.extend(n.Cloud,{run:function(t,e,i){return s({service:"engine",method:"POST",path:"/functions/"+t,data:n._encode(e,null,!0),authOptions:i}).then(function(t){return n._decode(t).result})},rpc:function(t,e,i){return r.isArray(e)?a.reject(new Error("Can't pass Array as the param of rpc function in JavaScript SDK.")):s({service:"engine",method:"POST",path:"/call/"+t,data:n._encodeObjectOrArray(e),authOptions:i}).then(function(t){return n._decode(t).result})},getServerDate:function(){return o("date",null,null,"GET").then(function(t){return n._decode(t)})},requestSmsCode:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};if(r.isString(t)&&(t={mobilePhoneNumber:t}),!t.mobilePhoneNumber)throw new Error("Missing mobilePhoneNumber.");return e.validateToken&&(t=r.extend({},t,{validate_token:e.validateToken})),o("requestSmsCode",null,null,"POST",t,e)},verifySmsCode:function(t,e){if(!t)throw new Error("Missing sms code.");var i={};return r.isString(e)&&(i.mobilePhoneNumber=e),o("verifySmsCode",t,null,"POST",i)},_requestCaptcha:function(t,e){return o("requestCaptcha",null,null,"GET",t,e).then(function(t){var e=t.captcha_url;return{captchaToken:t.captcha_token,url:e}})},requestCaptcha:n.Captcha.request,verifyCaptcha:function(t,e){return o("verifyCaptcha",null,null,"POST",{captcha_code:t,captcha_token:e}).then(function(t){return t.validate_token})}})}},function(t,e,i){var s=i(0),a=i(2)._request,n=i(5);t.exports=n.Object.extend("_Conversation",{constructor:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};n.Object.prototype.constructor.call(this,null,null),this.set("name",t),void 0!==e.isSystem&&this.set("sys",!!e.isSystem),void 0!==e.isTransient&&this.set("tr",!!e.isTransient)},getCreator:function(){return this.get("c")},getLastMessageAt:function(){return this.get("lm")},getMembers:function(){return this.get("m")},addMember:function(t){return this.add("m",t)},getMutedMembers:function(){return this.get("mu")},getName:function(){return this.get("name")},isTransient:function(){return this.get("tr")},isSystem:function(){return this.get("sys")},send:function(t,e){var i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{};"function"==typeof e.toJSON&&(e=e.toJSON()),"string"!=typeof e&&(e=JSON.stringify(e));var r={from_peer:t,conv_id:this.id,transient:!1,message:e};return void 0!==i.toClients&&(r.to_peers=i.toClients),void 0!==i.transient&&(r.transient=!!i.transient),void 0!==i.pushData&&(r.push_data=i.pushData),a("rtm","messages",null,"POST",r,n)},broadcast:function(t,e){var i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{};"function"==typeof e.toJSON&&(e=e.toJSON()),"string"!=typeof e&&(e=JSON.stringify(e));var r={from_peer:t,conv_id:this.id,message:e};if(void 0!==i.pushData&&(r.push=i.pushData),void 0!==i.validTill){var o=i.validTill;s.isDate(o)&&(o=o.getTime()),i.valid_till=o}return a("rtm","broadcast",null,"POST",r,n)}})},function(t,e,i){var h=i(0);t.exports=function(t){var u=/\s+/,l=Array.prototype.slice;t.Events={on:function(t,e,i){var n,r,o,s,a;if(!e)return this;for(t=t.split(u),n=this._callbacks||(this._callbacks={}),r=t.shift();r;)(o=(a=n[r])?a.tail:{}).next=s={},o.context=i,o.callback=e,n[r]={tail:s,next:a?a.next:o},r=t.shift();return this},off:function(t,e,i){var n,r,o,s,a,l;if(r=this._callbacks){if(!(t||e||i))return delete this._callbacks,this;for(n=(t=t?t.split(u):h.keys(r)).shift();n;)if(o=r[n],delete r[n],o&&(e||i)){for(s=o.tail,o=o.next;o!==s;)a=o.callback,l=o.context,(e&&a!==e||i&&l!==i)&&this.on(n,a,l),o=o.next;n=t.shift()}return this}},trigger:function(t){var e,i,n,r,o,s,a;if(!(n=this._callbacks))return this;for(s=n.all,t=t.split(u),a=l.call(arguments,1),e=t.shift();e;){if(i=n[e])for(r=i.tail;(i=i.next)!==r;)i.callback.apply(i.context||this,a);if(i=s)for(r=i.tail,o=[e].concat(a);(i=i.next)!==r;)i.callback.apply(i.context||this,o);e=t.shift()}return this}},t.Events.bind=t.Events.on,t.Events.unbind=t.Events.off}},function(t,e,i){var c=i(0),o=i(38),a=i(39),f=i(40),n=i(4),p=i(2)._request,_=i(1),r=i(3),d=r.tap,m=r.transformFetchOptions,g=i(6)("leancloud:file"),v=i(42);t.exports=function(l){var s=function(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)},u=function(t){return t.match(/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/)[4]},h=function(t){if(t<26)return String.fromCharCode(65+t);if(t<52)return String.fromCharCode(t-26+97);if(t<62)return String.fromCharCode(t-52+48);if(62===t)return"+";if(63===t)return"/";throw new Error("Tried to encode large digit "+t+" in base64.")};l.File=function(t,e,i){if(this.attributes={name:t,url:"",metaData:{},base64:""},c.isString(e))throw new TypeError("Creating an AV.File from a String is not yet supported.");var s,a;c.isArray(e)&&(this.attributes.metaData.size=e.length,e={base64:(s=e,a=[],a.length=Math.ceil(s.length/3),c.times(a.length,function(t){var e=s[3*t],i=s[3*t+1]||0,n=s[3*t+2]||0,r=3*t+1<s.length,o=3*t+2<s.length;a[t]=[h(e>>2&63),h(e<<4&48|i>>4&15),r?h(i<<2&60|n>>6&3):"=",o?h(63&n):"="].join("")}),a.join(""))}),this._extName="",this._data=e,this._uploadHeaders={},"undefined"!=typeof Blob&&e instanceof Blob&&(e.size&&(this.attributes.metaData.size=e.size),e.name&&(this._extName=u(e.name)));var n=void 0;if(e&&e.owner)n=e.owner;else if(!l._config.disableCurrentUser)try{n=l.User.current()}catch(t){if("SYNC_API_NOT_AVAILABLE"!==t.code)throw t;console.warn("Get current user failed. It seems this runtime use an async storage system, please create AV.File in the callback of AV.User.currentAsync().")}this.attributes.metaData.owner=n?n.id:"unknown",this.set("mime_type",i)},l.File.withURL=function(t,e,i,n){if(!t||!e)throw new Error("Please provide file name and url");var r=new l.File(t,null,n);if(i)for(var o in i)r.attributes.metaData[o]||(r.attributes.metaData[o]=i[o]);return r.attributes.url=e,r.attributes.metaData.__source="external",r},l.File.createWithoutData=function(t){var e=new l.File;return e.id=t,e},c.extend(l.File.prototype,{className:"_File",_toFullJSON:function(i){var n=this,r=!(1<arguments.length&&void 0!==arguments[1])||arguments[1],o=c.clone(this.attributes);return l._objectEach(o,function(t,e){o[e]=l._encode(t,i,void 0,r)}),l._objectEach(this._operations,function(t,e){o[e]=t}),c.has(this,"id")&&(o.objectId=this.id),c(["createdAt","updatedAt"]).each(function(t){if(c.has(n,t)){var e=n[t];o[t]=c.isDate(e)?e.toJSON():e}}),r&&(o.__type="File"),o},toFullJSON:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[];return this._toFullJSON(t)},toJSON:function(t,e){var i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:[this];return this._toFullJSON(i,!1)},getACL:function(){return this._acl},setACL:function(t){if(!(t instanceof l.ACL))return new n(n.OTHER_CAUSE,"ACL must be a AV.ACL.");this._acl=t},name:function(){return this.get("name")},url:function(){return this.get("url")},get:function(t){switch(t){case"objectId":return this.id;case"url":case"name":case"mime_type":case"metaData":case"createdAt":case"updatedAt":return this.attributes[t];default:return this.attributes.metaData[t]}},set:function(){for(var i=this,t=function(t,e){switch(t){case"name":case"url":case"mime_type":case"base64":case"metaData":i.attributes[t]=e;break;default:i.attributes.metaData[t]=e}},e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];switch(n.length){case 1:for(var o in n[0])t(o,n[0][o]);break;case 2:t(n[0],n[1])}},setUploadHeader:function(t,e){return this._uploadHeaders[t]=e,this},metaData:function(t,e){return t&&e?(this.attributes.metaData[t]=e,this):t&&!e?this.attributes.metaData[t]:this.attributes.metaData},thumbnailURL:function(t,e,i,n,r){var o=this.attributes.url;if(!o)throw new Error("Invalid url.");if(!t||!e||t<=0||e<=0)throw new Error("Invalid width or height value.");if(n=n||!0,(i=i||100)<=0||100<i)throw new Error("Invalid quality value.");return o+"?imageView/"+(n?2:1)+"/w/"+t+"/h/"+e+"/q/"+i+"/format/"+(r||"png")},size:function(){return this.metaData().size},ownerId:function(){return this.metaData().owner},destroy:function(t){return this.id?p("files",null,this.id,"DELETE",null,t):_.reject(new Error("The file id is not eixsts."))},_fileToken:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"fileTokens",i=this.attributes.name,n=u(i);!n&&this._extName&&(i+=this._extName,n=this._extName);var r=s()+s()+s()+s()+s()+n,o={key:r,name:i,ACL:this._acl,mime_type:t,metaData:this.attributes.metaData};return this._qiniu_key=r,p(e,null,null,"POST",o)},save:function(i){var n=this;if(this.id)throw new Error("File already saved. If you want to manipulate a file, use AV.Query to get it.");if(!this._previousSave)if(this._data){var r=this.get("mime_type");this._previousSave=this._fileToken(r).then(function(e){return e.mime_type&&(r=e.mime_type,n.set("mime_type",r)),n._token=e.token,_.resolve().then(function(){var t=n._data;if(t&&t.base64)return v(t.base64,r);if(t&&t.blob)return!t.blob.type&&r&&(t.blob.type=r),t.blob.name||(t.blob.name=n.get("name")),t.blob;if("undefined"!=typeof Blob&&t instanceof Blob)return t;throw new TypeError("malformed file data")}).then(function(t){switch(e.provider){case"s3":return f(e,t,n,i);case"qcloud":return o(e,t,n,i);case"qiniu":default:return a(e,t,n,i)}}).then(d(function(){return n._callback(!0)}),function(t){throw n._callback(!1),t})})}else if(this.attributes.url&&"external"===this.attributes.metaData.__source){var t={name:this.attributes.name,ACL:this._acl,metaData:this.attributes.metaData,mime_type:this.mimeType,url:this.attributes.url};this._previousSave=p("files",this.attributes.name,null,"post",t).then(function(t){return n.attributes.name=t.name,n.attributes.url=t.url,n.id=t.objectId,t.size&&(n.attributes.metaData.size=t.size),n})}return this._previousSave},_callback:function(t){p("fileCallback",null,null,"post",{token:this._token,result:t}).catch(g),delete this._token,delete this._data},fetch:function(t,e){return p("files",null,this.id,"GET",m(t),e).then(this._finishFetch.bind(this))},_finishFetch:function(t){var e=l.Object.prototype.parse(t);return e.attributes={name:e.name,url:e.url,mime_type:e.mime_type,bucket:e.bucket},e.attributes.metaData=e.metaData||{},e.id=e.objectId,delete e.objectId,delete e.metaData,delete e.url,delete e.name,delete e.mime_type,delete e.bucket,c.extend(this,e),this}})}},function(t,e,i){var r=i(0);t.exports=function(n){n.GeoPoint=function(t,e){r.isArray(t)?(n.GeoPoint._validate(t[0],t[1]),this.latitude=t[0],this.longitude=t[1]):r.isObject(t)?(n.GeoPoint._validate(t.latitude,t.longitude),this.latitude=t.latitude,this.longitude=t.longitude):r.isNumber(t)&&r.isNumber(e)?(n.GeoPoint._validate(t,e),this.latitude=t,this.longitude=e):(this.latitude=0,this.longitude=0);var i=this;this.__defineGetter__&&this.__defineSetter__&&(this._latitude=this.latitude,this._longitude=this.longitude,this.__defineGetter__("latitude",function(){return i._latitude}),this.__defineGetter__("longitude",function(){return i._longitude}),this.__defineSetter__("latitude",function(t){n.GeoPoint._validate(t,i.longitude),i._latitude=t}),this.__defineSetter__("longitude",function(t){n.GeoPoint._validate(i.latitude,t),i._longitude=t}))},n.GeoPoint._validate=function(t,e){if(t<-90)throw new Error("AV.GeoPoint latitude "+t+" < -90.0.");if(90<t)throw new Error("AV.GeoPoint latitude "+t+" > 90.0.");if(e<-180)throw new Error("AV.GeoPoint longitude "+e+" < -180.0.");if(180<e)throw new Error("AV.GeoPoint longitude "+e+" > 180.0.")},n.GeoPoint.current=function(){return new n.Promise(function(e,t){navigator.geolocation.getCurrentPosition(function(t){e(new n.GeoPoint({latitude:t.coords.latitude,longitude:t.coords.longitude}))},t)})},r.extend(n.GeoPoint.prototype,{toJSON:function(){return n.GeoPoint._validate(this.latitude,this.longitude),{__type:"GeoPoint",latitude:this.latitude,longitude:this.longitude}},radiansTo:function(t){var e=Math.PI/180,i=this.latitude*e,n=this.longitude*e,r=t.latitude*e,o=i-r,s=n-t.longitude*e,a=Math.sin(o/2),l=Math.sin(s/2),u=a*a+Math.cos(i)*Math.cos(r)*l*l;return u=Math.min(1,u),2*Math.asin(Math.sqrt(u))},kilometersTo:function(t){return 6371*this.radiansTo(t)},milesTo:function(t){return 3958.8*this.radiansTo(t)}})}},function(t,e,i){var c=i(5),f=i(34),n=i(3).isNullOrUndefined,r=i(0),p=r.extend,_=r.isObject,d=function(t){return{push:t,stats:t,engine:t,api:t}},m=!1;c.init=function(t){if(!_(t))return c.init({appId:t,appKey:arguments.length<=1?void 0:arguments[1],masterKey:arguments.length<=2?void 0:arguments[2],region:arguments.length<=3?void 0:arguments[3]});var e=t.appId,i=t.appKey,n=t.masterKey,r=(t.hookKey,t.region),o=void 0===r?"cn":r,s=t.serverURLs,a=t.disableCurrentUser,l=t.production,u=t.realtime;if(c.applicationId)throw new Error("SDK is already initialized.");if(!e)throw new TypeError("appId must be a string");if(!i)throw new TypeError("appKey must be a string");n&&console.warn("MasterKey is not supposed to be used in browser."),c._config.applicationId=e,c._config.applicationKey=i,c._config.masterKey=n,void 0!==l&&(c._config.production=l),void 0!==a&&(c._config.disableCurrentUser=a),c._appRouter=new f(c);var h=m||void 0!==s||"cn"!==o;c._setServerURLs(p({},function(t,e){if("us"===o)return d("https://us-api.leancloud.cn");var i=void 0;switch(t.slice(-9)){case"-9Nh9j0Va":return d("https://e1-api.leancloud.cn");case"-MdYXbMMI":return d("https://us-api.leancloud.cn");default:return{push:"https://"+(i=t.slice(0,8).toLowerCase())+".push.lncld.net",stats:"https://"+i+".stats.lncld.net",engine:"https://"+i+".engine.lncld.net",api:"https://"+i+".api.lncld.net"}}}(e),c._config.serverURLs,s),h),u?c._config.realtime=u:c._sharedConfig.liveQueryRealtime&&(c._config.realtime=new c._sharedConfig.liveQueryRealtime({appId:e,region:o}))},c.setProduction=function(t){n(t)?c._config.production=null:c._config.production=t?1:0},c._setServerURLs=function(t){var e=!(1<arguments.length&&void 0!==arguments[1])||arguments[1];"string"!=typeof t?p(c._config.serverURLs,t):c._config.serverURLs=d(t),e&&(c._appRouter?c._appRouter.disable():m=!0)},c.setServerURLs=function(t){return c._setServerURLs(t)},c.initialize=c.init,["applicationId","applicationKey","masterKey","hookKey"].forEach(function(e){return Object.defineProperty(c,e,{get:function(){return c._config[e]},set:function(t){c._config[e]=t}})})},function(t,e,i){var r=i(0),o=i(4),s=i(2).request;t.exports=function(n){n.Insight=n.Insight||{},r.extend(n.Insight,{startJob:function(t,e){if(!t||!t.sql)throw new Error("Please provide the sql to run the job.");var i={jobConfig:t,appId:n.applicationId};return s({path:"/bigquery/jobs",method:"POST",data:n._encode(i,null,!0),authOptions:e,signKey:!1}).then(function(t){return n._decode(t).id})},on:function(t,e){}}),n.Insight.JobQuery=function(t,e){if(!t)throw new Error("Please provide the job id.");this.id=t,this.className=e,this._skip=0,this._limit=100},r.extend(n.Insight.JobQuery.prototype,{skip:function(t){return this._skip=t,this},limit:function(t){return this._limit=t,this},find:function(t){var e={skip:this._skip,limit:this._limit};return s({path:"/bigquery/jobs/"+this.id,method:"GET",query:e,authOptions:t,signKey:!1}).then(function(t){return t.error?n.Promise.reject(new o(t.code,t.error)):n.Promise.resolve(t)})}})}},function(t,e,i){var l=i(0),n=i(47),u=i(1),r=i(3).inherits,h=i(2).request;t.exports=function(a){a.LiveQuery=r(n,{constructor:function(t,e){n.apply(this),this.id=t,this._client=e,this._client.register(this),e.on("message",this._dispatch.bind(this))},_dispatch:function(t){var s=this;t.forEach(function(t){var e=t.op,i=t.object,n=t.query_id,r=t.updatedKeys;if(n===s.id){var o=a.parseJSON(l.extend({__type:"_File"===i.className?"File":"Object"},i));r?s.emit(e,o,r):s.emit(e,o)}})},unsubscribe:function(){return this._client.deregister(this),h({method:"POST",path:"/LiveQuery/unsubscribe",data:{id:this._client.id,query_id:this.id}})}},{init:function(t){var e=(1<arguments.length&&void 0!==arguments[1]?arguments[1]:{}).subscriptionId,i=void 0===e?a._getSubscriptionId():e;if(!a._config.realtime)throw new Error("LiveQuery not supported. Please use the LiveQuery bundle. https://url.leanapp.cn/enable-live-query");if(!(t instanceof a.Query))throw new TypeError("LiveQuery must be inited with a Query");var n=t.toJSON(),r=n.where,o=n.keys,s=n.returnACL;return u.resolve(i).then(function(i){return h({method:"POST",path:"/LiveQuery/subscribe",data:{query:{where:r,keys:o,returnACL:s,className:t.className},id:i}}).then(function(t){var e=t.query_id;return a._config.realtime.createLiveQueryClient(i).then(function(t){return new a.LiveQuery(e,t)})})})}})}},function(t,e,i){var f=i(0),l=i(4),p=i(2)._request,n=i(3),_=n.isNullOrUndefined,r=n.ensureArray,o=n.transformFetchOptions,s=["objectId","createdAt","updatedAt"],u=function(t){if(-1!==s.indexOf(t))throw new Error("key["+t+"] is reserved")},h=function(t){var e=f.find(t,function(t){return t instanceof Error});if(!e)return t;var i=new l(e.code,e.message);throw i.results=t,i};t.exports=function(c){c.Object=function(t,e){if(f.isString(t))return c.Object._create.apply(this,arguments);t=t||{},e&&e.parse&&(t=this.parse(t),t=this._mergeMagicFields(t));var i,n=(i="defaults",this&&this[i]?f.isFunction(this[i])?this[i]():this[i]:null);n&&(t=f.extend({},n,t)),e&&e.collection&&(this.collection=e.collection),this._serverData={},this._opSetQueue=[{}],this._flags={},this.attributes={},this._hashedJSON={},this._escapedAttributes={},this.cid=f.uniqueId("c"),this.changed={},this._silent={},this._pending={},this.set(t,{silent:!0}),this.changed={},this._silent={},this._pending={},this._hasData=!0,this._previousAttributes=f.clone(this.attributes),this.initialize.apply(this,arguments)},c.Object.saveAll=function(t,e){return c.Object._deepSaveAsync(t,null,e)},c.Object.fetchAll=function(e,t){return c.Promise.resolve().then(function(){return p("batch",null,null,"POST",{requests:f.map(e,function(t){if(!t.className)throw new Error("object must have className to fetch");if(!t.id)throw new Error("object must have id to fetch");if(t.dirty())throw new Error("object is modified but not saved");return{method:"GET",path:"/1.1/classes/"+t.className+"/"+t.id}})},t)}).then(function(i){var t=f.map(e,function(t,e){return i[e].success?(t._finishFetch(t.parse(i[e].success)),t):null===i[e].success?new l(l.OBJECT_NOT_FOUND,"Object not found."):new l(i[e].error.code,i[e].error.error)});return h(t)})},f.extend(c.Object.prototype,c.Events,{_fetchWhenSave:!1,initialize:function(){},fetchWhenSave:function(t){if(console.warn("AV.Object#fetchWhenSave is deprecated, use AV.Object#save with options.fetchWhenSave instead."),!f.isBoolean(t))throw new Error("Expect boolean value for fetchWhenSave");this._fetchWhenSave=t},getObjectId:function(){return this.id},getCreatedAt:function(){return this.createdAt||this.get("createdAt")},getUpdatedAt:function(){return this.updatedAt||this.get("updatedAt")},toJSON:function(t,e){var i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:[];return this._toFullJSON(i,!1)},toFullJSON:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[];return this._toFullJSON(t)},_toFullJSON:function(t){var i=this,n=!(1<arguments.length&&void 0!==arguments[1])||arguments[1],r=f.clone(this.attributes);if(f.isArray(t))var o=t.concat(this);return c._objectEach(r,function(t,e){r[e]=c._encode(t,o,void 0,n)}),c._objectEach(this._operations,function(t,e){r[e]=t}),f.has(this,"id")&&(r.objectId=this.id),f(["createdAt","updatedAt"]).each(function(t){if(f.has(i,t)){var e=i[t];r[t]=f.isDate(e)?e.toJSON():e}}),n&&(r.__type="Object",f.isArray(t)&&t.length&&(r.__type="Pointer"),r.className=this.className),r},_refreshCache:function(){var i=this;i._refreshingCache||(i._refreshingCache=!0,c._objectEach(this.attributes,function(t,e){t instanceof c.Object?t._refreshCache():f.isObject(t)&&i._resetCacheForKey(e)&&i.set(e,new c.Op.Set(t),{silent:!0})}),delete i._refreshingCache)},dirty:function(t){return this._refreshCache(),this._dirty()},_dirty:function(t){var e=f.last(this._opSetQueue);return t?!!e[t]:!this.id||0<f.keys(e).length},_toPointer:function(){return{__type:"Pointer",className:this.className,objectId:this.id}},get:function(t){switch(t){case"objectId":return this.id;case"createdAt":case"updatedAt":return this[t];default:return this.attributes[t]}},relation:function(t){var e=this.get(t);if(e){if(!(e instanceof c.Relation))throw new Error("Called relation() on non-relation field "+t);return e._ensureParentAndKey(this,t),e}return new c.Relation(this,t)},escape:function(t){var e=this._escapedAttributes[t];if(e)return e;var i,n=this.attributes[t];return i=_(n)?"":f.escape(n.toString()),this._escapedAttributes[t]=i},has:function(t){return!_(this.attributes[t])},_mergeMagicFields:function(e){var i=this;return c._arrayEach(["objectId","createdAt","updatedAt"],function(t){e[t]&&("objectId"===t?i.id=e[t]:"createdAt"!==t&&"updatedAt"!==t||f.isDate(e[t])?i[t]=e[t]:i[t]=c._parseDate(e[t]),delete e[t])}),e},_startSave:function(){this._opSetQueue.push({})},_cancelSave:function(){var r=f.first(this._opSetQueue);this._opSetQueue=f.rest(this._opSetQueue);var o=f.first(this._opSetQueue);c._objectEach(r,function(t,e){var i=r[e],n=o[e];i&&n?o[e]=n._mergeWithPrevious(i):i&&(o[e]=i)}),this._saving=this._saving-1},_finishSave:function(t){var n={};c._traverse(this.attributes,function(t){t instanceof c.Object&&t.id&&t._hasData&&(n[t.id]=t)});var e=f.first(this._opSetQueue);this._opSetQueue=f.rest(this._opSetQueue),this._applyOpSet(e,this._serverData),this._mergeMagicFields(t);var r=this;c._objectEach(t,function(t,e){r._serverData[e]=c._decode(t,e);var i=c._traverse(r._serverData[e],function(t){if(t instanceof c.Object&&n[t.id])return n[t.id]});i&&(r._serverData[e]=i)}),this._rebuildAllEstimatedData(),this._saving=this._saving-1},_finishFetch:function(t,e){this._opSetQueue=[{}],this._mergeMagicFields(t);var i=this;c._objectEach(t,function(t,e){i._serverData[e]=c._decode(t,e)}),this._rebuildAllEstimatedData(),this._refreshCache(),this._opSetQueue=[{}],this._hasData=e},_applyOpSet:function(t,i){var n=this;c._objectEach(t,function(t,e){i[e]=t._estimate(i[e],n,e),i[e]===c.Op._UNSET&&delete i[e]})},_resetCacheForKey:function(t){var e=this.attributes[t];if(f.isObject(e)&&!(e instanceof c.Object)&&!(e instanceof c.File)){e=e.toJSON?e.toJSON():e;var i=JSON.stringify(e);if(this._hashedJSON[t]!==i){var n=!!this._hashedJSON[t];return this._hashedJSON[t]=i,n}}return!1},_rebuildEstimatedDataForKey:function(i){var n=this;delete this.attributes[i],this._serverData[i]&&(this.attributes[i]=this._serverData[i]),c._arrayEach(this._opSetQueue,function(t){var e=t[i];e&&(n.attributes[i]=e._estimate(n.attributes[i],n,i),n.attributes[i]===c.Op._UNSET?delete n.attributes[i]:n._resetCacheForKey(i))})},_rebuildAllEstimatedData:function(){var i=this,n=f.clone(this.attributes);this.attributes=f.clone(this._serverData),c._arrayEach(this._opSetQueue,function(t){i._applyOpSet(t,i.attributes),c._objectEach(t,function(t,e){i._resetCacheForKey(e)})}),c._objectEach(n,function(t,e){i.attributes[e]!==t&&i.trigger("change:"+e,i,i.attributes[e],{})}),c._objectEach(this.attributes,function(t,e){f.has(n,e)||i.trigger("change:"+e,i,t,{})})},set:function(t,e,r){var o;if(f.isObject(t)||_(t)?(o=f.mapObject(t,function(t,e){return u(e),c._decode(t,e)}),r=e):(o={},u(t),o[t]=c._decode(e,t)),r=r||{},!o)return this;o instanceof c.Object&&(o=o.attributes),r.unset&&c._objectEach(o,function(t,e){o[e]=new c.Op.Unset});var i=f.clone(o),s=this;c._objectEach(i,function(t,e){t instanceof c.Op&&(i[e]=t._estimate(s.attributes[e],s,e),i[e]===c.Op._UNSET&&delete i[e])}),this._validate(o,r),r.changes={};var a=this._escapedAttributes;return this._previousAttributes,c._arrayEach(f.keys(o),function(t){var e=o[t];e instanceof c.Relation&&(e.parent=s),e instanceof c.Op||(e=new c.Op.Set(e));var i=!0;e instanceof c.Op.Set&&f.isEqual(s.attributes[t],e.value)&&(i=!1),i&&(delete a[t],r.silent?s._silent[t]=!0:r.changes[t]=!0);var n=f.last(s._opSetQueue);n[t]=e._mergeWithPrevious(n[t]),s._rebuildEstimatedDataForKey(t),i?(s.changed[t]=s.attributes[t],r.silent||(s._pending[t]=!0)):(delete s.changed[t],delete s._pending[t])}),r.silent||this.change(r),this},unset:function(t,e){return(e=e||{}).unset=!0,this.set(t,null,e)},increment:function(t,e){return(f.isUndefined(e)||f.isNull(e))&&(e=1),this.set(t,new c.Op.Increment(e))},add:function(t,e){return this.set(t,new c.Op.Add(r(e)))},addUnique:function(t,e){return this.set(t,new c.Op.AddUnique(r(e)))},remove:function(t,e){return this.set(t,new c.Op.Remove(r(e)))},bitAnd:function(t,e){return this.set(t,new c.Op.BitAnd(e))},bitOr:function(t,e){return this.set(t,new c.Op.BitOr(e))},bitXor:function(t,e){return this.set(t,new c.Op.BitXor(e))},op:function(t){return f.last(this._opSetQueue)[t]},clear:function(t){(t=t||{}).unset=!0;var e=f.extend(this.attributes,this._operations);return this.set(e,t)},_getSaveJSON:function(){var i=f.clone(f.first(this._opSetQueue));return c._objectEach(i,function(t,e){i[e]=t.toJSON()}),i},_canBeSerialized:function(){return c.Object._canBeSerializedAsValue(this.attributes)},fetch:function(t,e){var i=this;return p("classes",this.className,this.id,"GET",o(t),e).then(function(t){return i._finishFetch(i.parse(t),!0),i})},save:function(t,e,i){var s,a,l;l=f.isObject(t)||_(t)?(s=t,e):((s={})[t]=e,i),(l=f.clone(l)||{}).wait&&(a=f.clone(this.attributes));var u=f.clone(l)||{};u.wait&&(u.silent=!0),s&&this.set(s,u);var h=this,n=[],r=[];return c.Object._findUnsavedChildren(h,n,r),1<n.length+r.length?c.Object._deepSaveAsync(this,h,l):(this._startSave(),this._saving=(this._saving||0)+1,this._allPreviousSaves=this._allPreviousSaves||c.Promise.resolve(),this._allPreviousSaves=this._allPreviousSaves.catch(function(t){}).then(function(){var t,e=h.id?"PUT":"POST",i=h._getSaveJSON(),n={};if((h._fetchWhenSave||l.fetchWhenSave)&&(n.new="true"),l.query&&("function"==typeof l.query.toJSON&&(t=l.query.toJSON())&&(n.where=t.where),!n.where))throw new Error("options.query is not an AV.Query");f.extend(i,h._flags);var r="classes",o=h.className;return"_User"!==h.className||h.id||(r="users",o=null),(l._makeRequest||p)(r,o,h.id,e,i,l,n).then(function(t){var e=h.parse(t);return l.wait&&(e=f.extend(s||{},e)),h._finishSave(e),l.wait&&h.set(a,u),h},function(t){throw h._cancelSave(),t})}),this._allPreviousSaves)},destroy:function(t){t=t||{};var e=this,i=function(){e.trigger("destroy",e,e.collection,t)};return this.id?(t.wait||i(),p("classes",this.className,this.id,"DELETE",this._flags,t).then(function(){return t.wait&&i(),e})):i()},parse:function(t){var e=f.clone(t);return f(["createdAt","updatedAt"]).each(function(t){e[t]&&(e[t]=c._parseDate(e[t]))}),e.createdAt&&!e.updatedAt&&(e.updatedAt=e.createdAt),e},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.id},change:function(i){i=i||{};var t=this._changing;this._changing=!0;var n=this;c._objectEach(this._silent,function(t){n._pending[t]=!0});var e=f.extend({},i.changes,this._silent);if(this._silent={},c._objectEach(e,function(t,e){n.trigger("change:"+e,n,n.get(e),i)}),t)return this;for(var r=function(t,e){n._pending[e]||n._silent[e]||delete n.changed[e]};!f.isEmpty(this._pending);)this._pending={},this.trigger("change",this,i),c._objectEach(this.changed,r),n._previousAttributes=f.clone(this.attributes);return this._changing=!1,this},hasChanged:function(t){return arguments.length?this.changed&&f.has(this.changed,t):!f.isEmpty(this.changed)},changedAttributes:function(t){if(!t)return!!this.hasChanged()&&f.clone(this.changed);var i={},n=this._previousAttributes;return c._objectEach(t,function(t,e){f.isEqual(n[e],t)||(i[e]=t)}),i},previous:function(t){return arguments.length&&this._previousAttributes?this._previousAttributes[t]:null},previousAttributes:function(){return f.clone(this._previousAttributes)},isValid:function(){try{this.validate(this.attributes)}catch(t){return!1}return!0},validate:function(t){if(f.has(t,"ACL")&&!(t.ACL instanceof c.ACL))throw new l(l.OTHER_CAUSE,"ACL must be a AV.ACL.")},_validate:function(t,e){!e.silent&&this.validate&&(t=f.extend({},this.attributes,t),this.validate(t))},getACL:function(){return this.get("ACL")},setACL:function(t,e){return this.set("ACL",t,e)},disableBeforeHook:function(){this.ignoreHook("beforeSave"),this.ignoreHook("beforeUpdate"),this.ignoreHook("beforeDelete")},disableAfterHook:function(){this.ignoreHook("afterSave"),this.ignoreHook("afterUpdate"),this.ignoreHook("afterDelete")},ignoreHook:function(t){f.contains(["beforeSave","afterSave","beforeUpdate","afterUpdate","beforeDelete","afterDelete"],t)||console.trace("Unsupported hookName: "+t),c.hookKey||console.trace("ignoreHook required hookKey"),this._flags.__ignore_hooks||(this._flags.__ignore_hooks=[]),this._flags.__ignore_hooks.push(t)}}),c.Object.createWithoutData=function(t,e,i){var n=new c.Object(t);return n.id=e,n._hasData=i,n},c.Object.destroyAll=function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};if(!t||0===t.length)return c.Promise.resolve();var i=f.groupBy(t,function(t){return JSON.stringify({className:t.className,flags:t._flags})}),n={requests:f.map(i,function(t){var e=f.map(t,"id").join(",");return{method:"DELETE",path:"/1.1/classes/"+t[0].className+"/"+e,body:t[0]._flags}})};return p("batch",null,null,"POST",n,e).then(function(t){var e=f.find(t,function(t){return!t.success});if(e)throw new l(e.error.code,e.error.error)})},c.Object._getSubclass=function(t){if(!f.isString(t))throw new Error("AV.Object._getSubclass requires a string argument.");var e=c.Object._classMap[t];return e||(e=c.Object.extend(t),c.Object._classMap[t]=e),e},c.Object._create=function(t,e,i){return new(c.Object._getSubclass(t))(e,i)},c.Object._classMap={},c.Object._extend=c._extend,c.Object.new=function(t,e){return new c.Object(t,e)},c.Object.extend=function(i,t,e){if(!f.isString(i)){if(i&&f.has(i,"className"))return c.Object.extend(i.className,i,t);throw new Error("AV.Object.extend's first argument should be the className.")}"User"===i&&(i="_User");var n=null;if(f.has(c.Object._classMap,i)){var r=c.Object._classMap[i];if(!t&&!e)return r;n=r._extend(t,e)}else(t=t||{})._className=i,n=this._extend(t,e);return n.extend=function(t){if(f.isString(t)||t&&f.has(t,"className"))return c.Object.extend.apply(n,arguments);var e=[i].concat(f.toArray(arguments));return c.Object.extend.apply(n,e)},Object.defineProperty(n,"query",Object.getOwnPropertyDescriptor(c.Object,"query")),n.new=function(t,e){return new n(t,e)},c.Object._classMap[i]=n},Object.defineProperty(c.Object.prototype,"className",{get:function(){var t=this._className||this.constructor._LCClassName||this.constructor.name;return"User"===t?"_User":t}}),c.Object.register=function(t,e){if(!(t.prototype instanceof c.Object))throw new Error("registered class is not a subclass of AV.Object");var i=e||t.name;if(!i.length)throw new Error("registered class must be named");e&&(t._LCClassName=e),c.Object._classMap[i]=t},Object.defineProperty(c.Object,"query",{get:function(){return new c.Query(this.prototype.className)}}),c.Object._findUnsavedChildren=function(t,e,i){c._traverse(t,function(t){return t instanceof c.Object?void(t._dirty()&&e.push(t)):t instanceof c.File?void(t.url()||t.id||i.push(t)):void 0})},c.Object._canBeSerializedAsValue=function(t){var e=!0;return t instanceof c.Object||t instanceof c.File?e=!!t.id:f.isArray(t)?c._arrayEach(t,function(t){c.Object._canBeSerializedAsValue(t)||(e=!1)}):f.isObject(t)&&c._objectEach(t,function(t){c.Object._canBeSerializedAsValue(t)||(e=!1)}),e},c.Object._deepSaveAsync=function(t,e,r){var i=[],n=[];c.Object._findUnsavedChildren(t,i,n);var o=c.Promise.resolve();f.each(n,function(t){o=o.then(function(){return t.save()})});var s=f.uniq(i),a=f.uniq(s);return o.then(function(){return c.Promise._continueWhile(function(){return 0<a.length},function(){var e=[],i=[];if(c._arrayEach(a,function(t){20<e.length?i.push(t):t._canBeSerialized()?e.push(t):i.push(t)}),a=i,0===e.length)return c.Promise.reject(new l(l.OTHER_CAUSE,"Tried to save a batch with a cycle."));var n=c.Promise.resolve(f.map(e,function(t){return t._allPreviousSaves||c.Promise.resolve()})).then(function(){return p("batch",null,null,"POST",{requests:f.map(e,function(t){var e=t.id?"PUT":"POST",i=t._getSaveJSON();f.extend(i,t._flags);var n="/classes/"+t.className;return"_User"!==t.className||t.id||(n="/users"),n="/1.1"+n,t.id&&(n=n+"/"+t.id),t._startSave(),{method:e,path:n,body:i}})},r).then(function(i){var t=f.map(e,function(t,e){return i[e].success?(t._finishSave(t.parse(i[e].success)),t):(t._cancelSave(),new l(i[e].error.code,i[e].error.error))});return h(t)})});return c._arrayEach(e,function(t){t._allPreviousSaves=n}),n})}).then(function(){return t})}}},function(t,e,i){var o=i(0);t.exports=function(r){r.Op=function(){this._initialize.apply(this,arguments)},o.extend(r.Op.prototype,{_initialize:function(){}}),o.extend(r.Op,{_extend:r._extend,_opDecoderMap:{},_registerDecoder:function(t,e){r.Op._opDecoderMap[t]=e},_decode:function(t){var e=r.Op._opDecoderMap[t.__op];return e?e(t):void 0}}),r.Op._registerDecoder("Batch",function(t){var e=null;return r._arrayEach(t.ops,function(t){t=r.Op._decode(t),e=t._mergeWithPrevious(e)}),e}),r.Op.Set=r.Op._extend({_initialize:function(t){this._value=t},value:function(){return this._value},toJSON:function(){return r._encode(this.value())},_mergeWithPrevious:function(t){return this},_estimate:function(t){return this.value()}}),r.Op._UNSET={},r.Op.Unset=r.Op._extend({toJSON:function(){return{__op:"Delete"}},_mergeWithPrevious:function(t){return this},_estimate:function(t){return r.Op._UNSET}}),r.Op._registerDecoder("Delete",function(t){return new r.Op.Unset}),r.Op.Increment=r.Op._extend({_initialize:function(t){this._amount=t},amount:function(){return this._amount},toJSON:function(){return{__op:"Increment",amount:this._amount}},_mergeWithPrevious:function(t){if(t){if(t instanceof r.Op.Unset)return new r.Op.Set(this.amount());if(t instanceof r.Op.Set)return new r.Op.Set(t.value()+this.amount());if(t instanceof r.Op.Increment)return new r.Op.Increment(this.amount()+t.amount());throw new Error("Op is invalid after previous op.")}return this},_estimate:function(t){return t?t+this.amount():this.amount()}}),r.Op._registerDecoder("Increment",function(t){return new r.Op.Increment(t.amount)}),r.Op.BitAnd=r.Op._extend({_initialize:function(t){this._value=t},value:function(){return this._value},toJSON:function(){return{__op:"BitAnd",value:this.value()}},_mergeWithPrevious:function(t){if(t){if(t instanceof r.Op.Unset)return new r.Op.Set(0);if(t instanceof r.Op.Set)return new r.Op.Set(t.value()&this.value());throw new Error("Op is invalid after previous op.")}return this},_estimate:function(t){return t&this.value()}}),r.Op._registerDecoder("BitAnd",function(t){return new r.Op.BitAnd(t.value)}),r.Op.BitOr=r.Op._extend({_initialize:function(t){this._value=t},value:function(){return this._value},toJSON:function(){return{__op:"BitOr",value:this.value()}},_mergeWithPrevious:function(t){if(t){if(t instanceof r.Op.Unset)return new r.Op.Set(this.value());if(t instanceof r.Op.Set)return new r.Op.Set(t.value()|this.value());throw new Error("Op is invalid after previous op.")}return this},_estimate:function(t){return t|this.value()}}),r.Op._registerDecoder("BitOr",function(t){return new r.Op.BitOr(t.value)}),r.Op.BitXor=r.Op._extend({_initialize:function(t){this._value=t},value:function(){return this._value},toJSON:function(){return{__op:"BitXor",value:this.value()}},_mergeWithPrevious:function(t){if(t){if(t instanceof r.Op.Unset)return new r.Op.Set(this.value());if(t instanceof r.Op.Set)return new r.Op.Set(t.value()^this.value());throw new Error("Op is invalid after previous op.")}return this},_estimate:function(t){return t^this.value()}}),r.Op._registerDecoder("BitXor",function(t){return new r.Op.BitXor(t.value)}),r.Op.Add=r.Op._extend({_initialize:function(t){this._objects=t},objects:function(){return this._objects},toJSON:function(){return{__op:"Add",objects:r._encode(this.objects())}},_mergeWithPrevious:function(t){if(t){if(t instanceof r.Op.Unset)return new r.Op.Set(this.objects());if(t instanceof r.Op.Set)return new r.Op.Set(this._estimate(t.value()));if(t instanceof r.Op.Add)return new r.Op.Add(t.objects().concat(this.objects()));throw new Error("Op is invalid after previous op.")}return this},_estimate:function(t){return t?t.concat(this.objects()):o.clone(this.objects())}}),r.Op._registerDecoder("Add",function(t){return new r.Op.Add(r._decode(t.objects))}),r.Op.AddUnique=r.Op._extend({_initialize:function(t){this._objects=o.uniq(t)},objects:function(){return this._objects},toJSON:function(){return{__op:"AddUnique",objects:r._encode(this.objects())}},_mergeWithPrevious:function(t){if(t){if(t instanceof r.Op.Unset)return new r.Op.Set(this.objects());if(t instanceof r.Op.Set)return new r.Op.Set(this._estimate(t.value()));if(t instanceof r.Op.AddUnique)return new r.Op.AddUnique(this._estimate(t.objects()));throw new Error("Op is invalid after previous op.")}return this},_estimate:function(t){if(t){var n=o.clone(t);return r._arrayEach(this.objects(),function(e){if(e instanceof r.Object&&e.id){var t=o.find(n,function(t){return t instanceof r.Object&&t.id===e.id});if(t){var i=o.indexOf(n,t);n[i]=e}else n.push(e)}else o.contains(n,e)||n.push(e)}),n}return o.clone(this.objects())}}),r.Op._registerDecoder("AddUnique",function(t){return new r.Op.AddUnique(r._decode(t.objects))}),r.Op.Remove=r.Op._extend({_initialize:function(t){this._objects=o.uniq(t)},objects:function(){return this._objects},toJSON:function(){return{__op:"Remove",objects:r._encode(this.objects())}},_mergeWithPrevious:function(t){if(t){if(t instanceof r.Op.Unset)return t;if(t instanceof r.Op.Set)return new r.Op.Set(this._estimate(t.value()));if(t instanceof r.Op.Remove)return new r.Op.Remove(o.union(t.objects(),this.objects()));throw new Error("Op is invalid after previous op.")}return this},_estimate:function(t){if(t){var i=o.difference(t,this.objects());return r._arrayEach(this.objects(),function(e){e instanceof r.Object&&e.id&&(i=o.reject(i,function(t){return t instanceof r.Object&&t.id===e.id}))}),i}return[]}}),r.Op._registerDecoder("Remove",function(t){return new r.Op.Remove(r._decode(t.objects))}),r.Op.Relation=r.Op._extend({_initialize:function(t,e){this._targetClassName=null;var i=this,n=function(t){if(t instanceof r.Object){if(!t.id)throw new Error("You can't add an unsaved AV.Object to a relation.");if(i._targetClassName||(i._targetClassName=t.className),i._targetClassName!==t.className)throw new Error("Tried to create a AV.Relation with 2 different types: "+i._targetClassName+" and "+t.className+".");return t.id}return t};this.relationsToAdd=o.uniq(o.map(t,n)),this.relationsToRemove=o.uniq(o.map(e,n))},added:function(){var i=this;return o.map(this.relationsToAdd,function(t){var e=r.Object._create(i._targetClassName);return e.id=t,e})},removed:function(){var i=this;return o.map(this.relationsToRemove,function(t){var e=r.Object._create(i._targetClassName);return e.id=t,e})},toJSON:function(){var t=null,e=null,i=this,n=function(t){return{__type:"Pointer",className:i._targetClassName,objectId:t}};return 0<this.relationsToAdd.length&&(t={__op:"AddRelation",objects:o.map(this.relationsToAdd,n)}),0<this.relationsToRemove.length&&(e={__op:"RemoveRelation",objects:o.map(this.relationsToRemove,n)}),t&&e?{__op:"Batch",ops:[t,e]}:t||e||{}},_mergeWithPrevious:function(t){if(t){if(t instanceof r.Op.Unset)throw new Error("You can't modify a relation after deleting it.");if(t instanceof r.Op.Relation){if(t._targetClassName&&t._targetClassName!==this._targetClassName)throw new Error("Related object must be of class "+t._targetClassName+", but "+this._targetClassName+" was passed in.");var e=o.union(o.difference(t.relationsToAdd,this.relationsToRemove),this.relationsToAdd),i=o.union(o.difference(t.relationsToRemove,this.relationsToAdd),this.relationsToRemove),n=new r.Op.Relation(e,i);return n._targetClassName=this._targetClassName,n}throw new Error("Op is invalid after previous op.")}return this},_estimate:function(t,e,i){if(t){if(t instanceof r.Relation){if(this._targetClassName)if(t.targetClassName){if(t.targetClassName!==this._targetClassName)throw new Error("Related object must be a "+t.targetClassName+", but a "+this._targetClassName+" was passed in.")}else t.targetClassName=this._targetClassName;return t}throw new Error("Op is invalid after previous op.")}new r.Relation(e,i).targetClassName=this._targetClassName}}),r.Op._registerDecoder("AddRelation",function(t){return new r.Op.Relation(r._decode(t.objects),[])}),r.Op._registerDecoder("RemoveRelation",function(t){return new r.Op.Relation([],r._decode(t.objects))})}},function(t,e,i){},function(t,e,i){var n=i(2).request;t.exports=function(t){t.Installation=t.Object.extend("_Installation"),t.Push=t.Push||{},t.Push.send=function(t,e){if(t.where&&(t.where=t.where.toJSON().where),t.where&&t.cql)throw new Error("Both where and cql can't be set");if(t.push_time&&(t.push_time=t.push_time.toJSON()),t.expiration_time&&(t.expiration_time=t.expiration_time.toJSON()),t.expiration_time&&t.expiration_time_interval)throw new Error("Both expiration_time and expiration_time_interval can't be set");return n({service:"push",method:"POST",path:"/push",data:t,authOptions:e})}}},function(t,e,i){var u=i(0),h=i(6)("leancloud:query"),c=i(1),s=i(4),n=i(2),f=n._request,r=n.request,o=i(3),a=o.ensureArray,l=o.transformFetchOptions,p=function(t,e){if(void 0===t)throw new Error(e)};t.exports=function(o){o.Query=function(t){u.isString(t)&&(t=o.Object._getSubclass(t)),this.objectClass=t,this.className=t.prototype.className,this._where={},this._include=[],this._select=[],this._limit=-1,this._skip=0,this._extraOptions={}},o.Query.or=function(){var t=u.toArray(arguments),e=null;o._arrayEach(t,function(t){if(u.isNull(e)&&(e=t.className),e!==t.className)throw new Error("All queries must be for the same class")});var i=new o.Query(e);return i._orQuery(t),i},o.Query.and=function(){var t=u.toArray(arguments),e=null;o._arrayEach(t,function(t){if(u.isNull(e)&&(e=t.className),e!==t.className)throw new Error("All queries must be for the same class")});var i=new o.Query(e);return i._andQuery(t),i},o.Query.doCloudQuery=function(t,e,i){var n={cql:t};return u.isArray(e)?n.pvalues=e:i=e,f("cloudQuery",null,null,"GET",n,i).then(function(i){var n=new o.Query(i.className);return{results:u.map(i.results,function(t){var e=n._newObject(i);return e._finishFetch&&e._finishFetch(n._processResult(t),!0),e}),count:i.count,className:i.className}})},o.Query._extend=o._extend,u.extend(o.Query.prototype,{_processResult:function(t){return t},get:function(t,e){if(!t)throw new s(s.OBJECT_NOT_FOUND,"Object not found.");var i=this._newObject();i.id=t;var n=this.toJSON(),r={};return n.keys&&(r.keys=n.keys),n.include&&(r.include=n.include),n.includeACL&&(r.includeACL=n.includeACL),f("classes",this.className,t,"GET",l(r),e).then(function(t){if(u.isEmpty(t))throw new s(s.OBJECT_NOT_FOUND,"Object not found.");return i._finishFetch(i.parse(t),!0),i})},toJSON:function(){var i={where:this._where};return 0<this._include.length&&(i.include=this._include.join(",")),0<this._select.length&&(i.keys=this._select.join(",")),void 0!==this._includeACL&&(i.returnACL=this._includeACL),0<=this._limit&&(i.limit=this._limit),0<this._skip&&(i.skip=this._skip),void 0!==this._order&&(i.order=this._order),o._objectEach(this._extraOptions,function(t,e){i[e]=t}),i},_newObject:function(t){return t&&t.className?new o.Object(t.className):new this.objectClass},_createRequest:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this.toJSON(),e=arguments[1],i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"/classes/"+this.className;return 2e3<encodeURIComponent(JSON.stringify(t)).length?r({path:"/batch",method:"POST",data:{requests:[{method:"GET",path:"/1.1"+i,params:t}]},authOptions:e}).then(function(t){var e=t[0];if(e.success)return e.success;var i=new Error(e.error.error||"Unknown batch error");throw i.code=e.error.code,i}):r({method:"GET",path:i,query:t,authOptions:e})},_parseResponse:function(i){var n=this;return u.map(i.results,function(t){var e=n._newObject(i);return e._finishFetch&&e._finishFetch(n._processResult(t),!0),e})},find:function(t){return this._createRequest(void 0,t).then(this._parseResponse.bind(this))},scan:function(){var i=this,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=t.orderedBy,n=t.batchSize,r=arguments[1],o=this.toJSON();h("scan %O",o),o.order&&(console.warn("The order of the query is ignored for Query#scan. Checkout the orderedBy option of Query#scan."),delete o.order),o.skip&&(console.warn("The skip option of the query is ignored for Query#scan."),delete o.skip),o.limit&&(console.warn("The limit option of the query is ignored for Query#scan."),delete o.limit),e&&(o.scan_key=e),n&&(o.limit=n);var s=c.resolve([]),a=void 0,l=!1;return{next:function(){return(s=s.then(function(e){return l?[]:1<e.length?e:a||0===e.length?f("scan/classes",i.className,null,"GET",a?u.extend({},o,{cursor:a}):o,r).then(function(t){return a=t.cursor,i._parseResponse(t)}).then(function(t){return t.length||(l=!0),e.concat(t)}):(l=!0,e)})).then(function(t){return t.shift()}).then(function(t){return{value:t,done:l}})}}},destroyAll:function(e){return this.find(e).then(function(t){return o.Object.destroyAll(t,e)})},count:function(t){var e=this.toJSON();return e.limit=0,e.count=1,this._createRequest(e,t).then(function(t){return t.count})},first:function(t){var i=this,e=this.toJSON();return e.limit=1,this._createRequest(e,t).then(function(t){return u.map(t.results,function(t){var e=i._newObject();return e._finishFetch&&e._finishFetch(i._processResult(t),!0),e})[0]})},skip:function(t){return p(t,"undefined is not a valid skip value"),this._skip=t,this},limit:function(t){return p(t,"undefined is not a valid limit value"),this._limit=t,this},equalTo:function(t,e){return p(t,"undefined is not a valid key"),p(e,"undefined is not a valid value"),this._where[t]=o._encode(e),this},_addCondition:function(t,e,i){return p(t,"undefined is not a valid condition key"),p(e,"undefined is not a valid condition"),p(i,"undefined is not a valid condition value"),this._where[t]||(this._where[t]={}),this._where[t][e]=o._encode(i),this},sizeEqualTo:function(t,e){this._addCondition(t,"$size",e)},notEqualTo:function(t,e){return this._addCondition(t,"$ne",e),this},lessThan:function(t,e){return this._addCondition(t,"$lt",e),this},greaterThan:function(t,e){return this._addCondition(t,"$gt",e),this},lessThanOrEqualTo:function(t,e){return this._addCondition(t,"$lte",e),this},greaterThanOrEqualTo:function(t,e){return this._addCondition(t,"$gte",e),this},containedIn:function(t,e){return this._addCondition(t,"$in",e),this},notContainedIn:function(t,e){return this._addCondition(t,"$nin",e),this},containsAll:function(t,e){return this._addCondition(t,"$all",e),this},exists:function(t){return this._addCondition(t,"$exists",!0),this},doesNotExist:function(t){return this._addCondition(t,"$exists",!1),this},matches:function(t,e,i){return this._addCondition(t,"$regex",e),i||(i=""),e.ignoreCase&&(i+="i"),e.multiline&&(i+="m"),i&&i.length&&this._addCondition(t,"$options",i),this},matchesQuery:function(t,e){var i=e.toJSON();return i.className=e.className,this._addCondition(t,"$inQuery",i),this},doesNotMatchQuery:function(t,e){var i=e.toJSON();return i.className=e.className,this._addCondition(t,"$notInQuery",i),this},matchesKeyInQuery:function(t,e,i){var n=i.toJSON();return n.className=i.className,this._addCondition(t,"$select",{key:e,query:n}),this},doesNotMatchKeyInQuery:function(t,e,i){var n=i.toJSON();return n.className=i.className,this._addCondition(t,"$dontSelect",{key:e,query:n}),this},_orQuery:function(t){var e=u.map(t,function(t){return t.toJSON().where});return this._where.$or=e,this},_andQuery:function(t){var e=u.map(t,function(t){return t.toJSON().where});return this._where.$and=e,this},_quote:function(t){return"\\Q"+t.replace("\\E","\\E\\\\E\\Q")+"\\E"},contains:function(t,e){return this._addCondition(t,"$regex",this._quote(e)),this},startsWith:function(t,e){return this._addCondition(t,"$regex","^"+this._quote(e)),this},endsWith:function(t,e){return this._addCondition(t,"$regex",this._quote(e)+"$"),this},ascending:function(t){return p(t,"undefined is not a valid key"),this._order=t,this},addAscending:function(t){return p(t,"undefined is not a valid key"),this._order?this._order+=","+t:this._order=t,this},descending:function(t){return p(t,"undefined is not a valid key"),this._order="-"+t,this},addDescending:function(t){return p(t,"undefined is not a valid key"),this._order?this._order+=",-"+t:this._order="-"+t,this},near:function(t,e){return e instanceof o.GeoPoint||(e=new o.GeoPoint(e)),this._addCondition(t,"$nearSphere",e),this},withinRadians:function(t,e,i){return this.near(t,e),this._addCondition(t,"$maxDistance",i),this},withinMiles:function(t,e,i){return this.withinRadians(t,e,i/3958.8)},withinKilometers:function(t,e,i){return this.withinRadians(t,e,i/6371)},withinGeoBox:function(t,e,i){return e instanceof o.GeoPoint||(e=new o.GeoPoint(e)),i instanceof o.GeoPoint||(i=new o.GeoPoint(i)),this._addCondition(t,"$within",{$box:[e,i]}),this},include:function(t){var e=this;return p(t,"undefined is not a valid key"),u(arguments).forEach(function(t){e._include=e._include.concat(a(t))}),this},includeACL:function(){var t=!(0<arguments.length&&void 0!==arguments[0])||arguments[0];return this._includeACL=t,this},select:function(t){var e=this;return p(t,"undefined is not a valid key"),u(arguments).forEach(function(t){e._select=e._select.concat(a(t))}),this},each:function(i){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};if(this._order||this._skip||0<=this._limit){var e=new Error("Cannot iterate on a query with sort, skip, or limit.");return o.Promise.reject(e)}var n=new o.Query(this.objectClass);n._limit=t.batchSize||100,n._where=u.clone(this._where),n._include=u.clone(this._include),n.ascending("objectId");var r=!1;return o.Promise._continueWhile(function(){return!r},function(){return n.find(t).then(function(t){var e=o.Promise.resolve();return u.each(t,function(t){e=e.then(function(){return i(t)})}),e.then(function(){t.length>=n._limit?n.greaterThan("objectId",t[t.length-1].id):r=!0})})})},subscribe:function(t){return o.LiveQuery.init(this,t)}}),o.FriendShipQuery=o.Query._extend({_objectClass:o.User,_newObject:function(){return new o.User},_processResult:function(t){if(t&&t[this._friendshipTag]){var e=t[this._friendshipTag];return"Pointer"===e.__type&&"_User"===e.className&&(delete e.__type,delete e.className),e}return null}})}},function(t,e,i){var n=i(0);t.exports=function(r){r.Relation=function(t,e){if(!n.isString(e))throw new TypeError("key must be a string");this.parent=t,this.key=e,this.targetClassName=null},r.Relation.reverseQuery=function(t,e,i){var n=new r.Query(t);return n.equalTo(e,i._toPointer()),n},n.extend(r.Relation.prototype,{_ensureParentAndKey:function(t,e){if(this.parent=this.parent||t,this.key=this.key||e,this.parent!==t)throw new Error("Internal Error. Relation retrieved from two different Objects.");if(this.key!==e)throw new Error("Internal Error. Relation retrieved from two different keys.")},add:function(t){n.isArray(t)||(t=[t]);var e=new r.Op.Relation(t,[]);this.parent.set(this.key,e),this.targetClassName=e._targetClassName},remove:function(t){n.isArray(t)||(t=[t]);var e=new r.Op.Relation([],t);this.parent.set(this.key,e),this.targetClassName=e._targetClassName},toJSON:function(){return{__type:"Relation",className:this.targetClassName}},query:function(){var t,e;return this.targetClassName?(t=r.Object._getSubclass(this.targetClassName),e=new r.Query(t)):(t=r.Object._getSubclass(this.parent.className),(e=new r.Query(t))._extraOptions.redirectClassNameForKey=this.key),e._addCondition("$relatedTo","object",this.parent._toPointer()),e._addCondition("$relatedTo","key",this.key),e}})}},function(t,e,i){var r=i(0),o=i(4);t.exports=function(n){n.Role=n.Object.extend("_Role",{constructor:function(t,e){if(r.isString(t)?(n.Object.prototype.constructor.call(this,null,null),this.setName(t)):n.Object.prototype.constructor.call(this,t,e),e){if(!(e instanceof n.ACL))throw new TypeError("acl must be an instance of AV.ACL");this.setACL(e)}},getName:function(){return this.get("name")},setName:function(t,e){return this.set("name",t,e)},getUsers:function(){return this.relation("users")},getRoles:function(){return this.relation("roles")},validate:function(t,e){if("name"in t&&t.name!==this.getName()){var i=t.name;if(this.id&&this.id!==t.objectId)return new o(o.OTHER_CAUSE,"A role's name can only be set before it has been saved.");if(!r.isString(i))return new o(o.OTHER_CAUSE,"A role's name must be a String.");if(!/^[0-9a-zA-Z\-_ ]+$/.test(i))return new o(o.OTHER_CAUSE,"A role's name can only contain alphanumeric characters, _, -, and spaces.")}return!!n.Object.prototype.validate&&n.Object.prototype.validate.call(this,t,e)}})}},function(t,e,i){var r=i(0),n=i(2)._request;t.exports=function(e){e.SearchSortBuilder=function(){this._sortFields=[]},r.extend(e.SearchSortBuilder.prototype,{_addField:function(t,e,i,n){var r={};return r[t]={order:e||"asc",mode:i||"avg",missing:"_"+(n||"last")},this._sortFields.push(r),this},ascending:function(t,e,i){return this._addField(t,"asc",e,i)},descending:function(t,e,i){return this._addField(t,"desc",e,i)},whereNear:function(t,e,i){i=i||{};var n={},r={lat:e.latitude,lon:e.longitude},o={order:i.order||"asc",mode:i.mode||"avg",unit:i.unit||"km"};return o[t]=r,n._geo_distance=o,this._sortFields.push(n),this},build:function(){return JSON.stringify(e._encode(this._sortFields))}}),e.SearchQuery=e.Query._extend({_sid:null,_hits:0,_queryString:null,_highlights:null,_sortBuilder:null,_createRequest:function(t,e){return n("search/select",null,null,"GET",t||this.toJSON(),e)},sid:function(t){return this._sid=t,this},queryString:function(t){return this._queryString=t,this},highlights:function(t){var e;return e=t&&r.isString(t)?arguments:t,this._highlights=e,this},sortBy:function(t){return this._sortBuilder=t,this},hits:function(){return this._hits||(this._hits=0),this._hits},_processResult:function(t){return delete t.className,delete t._app_url,delete t._deeplink,t},hasMore:function(){return!this._hitEnd},reset:function(){this._hitEnd=!1,this._sid=null,this._hits=0},find:function(){var n=this;return this._createRequest().then(function(i){return i.sid?(n._oldSid=n._sid,n._sid=i.sid):(n._sid=null,n._hitEnd=!0),n._hits=i.hits||0,r.map(i.results,function(t){t.className&&(i.className=t.className);var e=n._newObject(i);return e.appURL=t._app_url,e._finishFetch(n._processResult(t),!0),e})})},toJSON:function(){var t=e.SearchQuery.__super__.toJSON.call(this);if(delete t.where,this.className&&(t.clazz=this.className),this._sid&&(t.sid=this._sid),!this._queryString)throw new Error("Please set query string.");if(t.q=this._queryString,this._highlights&&(t.highlights=this._highlights.join(",")),this._sortBuilder&&t.order)throw new Error("sort and order can not be set at same time.");return this._sortBuilder&&(t.sort=this._sortBuilder.build()),t}})}},function(t,e,i){var n="function"==typeof Symbol&&"symbol"==q(Symbol.iterator)?function(t){return void 0===t?"undefined":q(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":void 0===t?"undefined":q(t)},a=i(0),l=i(2)._request,u=i(3).getSessionToken;t.exports=function(s){var e=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return u(t)?s.User._fetchUserBySessionToken(u(t)):s.User.currentAsync()},i=function(t){return e(t).then(function(t){return s.Object.createWithoutData("_User",t.id)._toPointer()})};s.Status=function(t,e){return this.data={},this.inboxType="default",this.query=null,t&&"object"===(void 0===t?"undefined":n(t))?this.data=t:(t&&(this.data.image=t),e&&(this.data.message=e)),this},a.extend(s.Status.prototype,{get:function(t){return this.data[t]},set:function(t,e){return this.data[t]=e,this},destroy:function(t){return this.id?l("statuses",null,this.id,"DELETE",t):s.Promise.reject(new Error("The status id is not exists."))},toObject:function(){return this.id?s.Object.createWithoutData("_Status",this.id):null},_getDataJSON:function(){var t=a.clone(this.data);return s._encode(t)},send:function(){var n=this,r=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};if(!u(r)&&!s.User.current())throw new Error("Please signin an user.");return this.query?i(r).then(function(t){var e=n.query.toJSON();e.className=n.query.className;var i={};return i.query=e,n.data=n.data||{},n.data.source=n.data.source||t,i.data=n._getDataJSON(),i.inboxType=n.inboxType||"default",l("statuses",null,null,"POST",i,r)}).then(function(t){return n.id=t.objectId,n.createdAt=s._parseDate(t.createdAt),n}):s.Status.sendStatusToFollowers(this,r)},_finishFetch:function(t){this.id=t.objectId,this.createdAt=s._parseDate(t.createdAt),this.updatedAt=s._parseDate(t.updatedAt),this.messageId=t.messageId,delete t.messageId,delete t.objectId,delete t.createdAt,delete t.updatedAt,this.data=s._decode(t)}}),s.Status.sendStatusToFollowers=function(n){var r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};if(!u(r)&&!s.User.current())throw new Error("Please signin an user.");return i(r).then(function(t){var e={className:"_Follower",keys:"follower"};e.where={user:t};var i={};return i.query=e,n.data=n.data||{},n.data.source=n.data.source||t,i.data=n._getDataJSON(),i.inboxType=n.inboxType||"default",l("statuses",null,null,"POST",i,r).then(function(t){return n.id=t.objectId,n.createdAt=s._parseDate(t.createdAt),n})})},s.Status.sendPrivateStatus=function(n,t){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};if(!u(r)&&!s.User.current())throw new Error("Please signin an user.");if(!t)throw new Error("Invalid target user.");var o=a.isString(t)?t:t.id;if(!o)throw new Error("Invalid target user.");return i(r).then(function(t){var e={className:"_User"};e.where={objectId:o};var i={};return i.query=e,n.data=n.data||{},n.data.source=n.data.source||t,i.data=n._getDataJSON(),i.inboxType="private",n.inboxType="private",l("statuses",null,null,"POST",i,r).then(function(t){return n.id=t.objectId,n.createdAt=s._parseDate(t.createdAt),n})})},s.Status.countUnreadStatuses=function(t){var i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"default",n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};if(a.isString(i)||(n=i),!u(n)&&null==t&&!s.User.current())throw new Error("Please signin an user or pass the owner objectId.");return e(n).then(function(t){var e={};return e.inboxType=s._encode(i),e.owner=s._encode(t),l("subscribe/statuses/count",null,null,"GET",e,n)})},s.Status.resetUnreadCount=function(t){var i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"default",n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};if(a.isString(i)||(n=i),!u(n)&&null==t&&!s.User.current())throw new Error("Please signin an user or pass the owner objectId.");return e(n).then(function(t){var e={};return e.inboxType=s._encode(i),e.owner=s._encode(t),l("subscribe/statuses/resetUnreadCount",null,null,"POST",e,n)})},s.Status.statusQuery=function(t){var e=new s.Query("_Status");return t&&e.equalTo("source",t),e},s.InboxQuery=s.Query._extend({_objectClass:s.Status,_sinceId:0,_maxId:0,_inboxType:"default",_owner:null,_newObject:function(){return new s.Status},_createRequest:function(t,e){return s.InboxQuery.__super__._createRequest.call(this,t,e,"/subscribe/statuses")},sinceId:function(t){return this._sinceId=t,this},maxId:function(t){return this._maxId=t,this},owner:function(t){return this._owner=t,this},inboxType:function(t){return this._inboxType=t,this},toJSON:function(){var t=s.InboxQuery.__super__.toJSON.call(this);return t.owner=s._encode(this._owner),t.inboxType=s._encode(this._inboxType),t.sinceId=s._encode(this._sinceId),t.maxId=s._encode(this._maxId),t}}),s.Status.inboxQuery=function(t,e){var i=new s.InboxQuery(s.Status);return t&&(i._owner=t),e&&(i._inboxType=e),i}}},function(t,e,i){var a=i(0),r=i(4),n=i(2),l=n._request,o=n.request,u=i(1),h=function(){if("undefined"==typeof wx||"function"!=typeof wx.login)throw new Error("Weapp Login is only available in Weapp");return new u(function(n,r){wx.login({success:function(t){var e=t.code,i=t.errMsg;e?n(e):r(new Error(i))},fail:function(){return r(new Error("wx.login 失败"))}})})};t.exports=function(s){s.User=s.Object.extend("_User",{_isCurrentUser:!1,_mergeMagicFields:function(t){return t.sessionToken&&(this._sessionToken=t.sessionToken,delete t.sessionToken),s.User.__super__._mergeMagicFields.call(this,t)},_cleanupAuthData:function(){if(this.isCurrent()){var i=this.get("authData");i&&s._objectEach(this.get("authData"),function(t,e){i[e]||delete i[e]})}},_synchronizeAllAuthData:function(){if(this.get("authData")){var i=this;s._objectEach(this.get("authData"),function(t,e){i._synchronizeAuthData(e)})}},_synchronizeAuthData:function(t){if(this.isCurrent()){var e;a.isString(t)?(e=t,t=s.User._authProviders[e]):e=t.getAuthType();var i=this.get("authData");i&&t&&(t.restoreAuthentication(i[e])||this.dissociateAuthData(t))}},_handleSaveResult:function(t){return t&&!s._config.disableCurrentUser&&(this._isCurrentUser=!0),this._cleanupAuthData(),this._synchronizeAllAuthData(),delete this._serverData.password,this._rebuildEstimatedDataForKey("password"),this._refreshCache(),!t&&!this.isCurrent()||s._config.disableCurrentUser?u.resolve():u.resolve(s.User._saveCurrentUser(this))},_linkWith:function(e,t){var i,n=this;if(a.isString(e)?(i=e,e=s.User._authProviders[e]):i=e.getAuthType(),t){var r=this.get("authData")||{};return r[i]=t,this.save({authData:r}).then(function(t){return t._handleSaveResult(!0).then(function(){return t})})}return e.authenticate().then(function(t){return n._linkWith(e,t)})},associateWithAuthData:function(t,e){return this._linkWith(e,t)},linkWithWeapp:function(){var e=this;return h().then(function(t){return e._linkWith("lc_weapp",{code:t})})},dissociateAuthData:function(e){var i=this;return a.isString(e)&&(e=s.User._authProviders[e]),this._linkWith(e,null).then(function(t){return i._synchronizeAuthData(e),t})},_unlinkFrom:function(t){return console.warn("DEPRECATED: User#_unlinkFrom 已废弃，请使用 User#dissociateAuthData 代替"),this.dissociateAuthData(t)},_isLinked:function(t){var e;return e=a.isString(t)?t:t.getAuthType(),!!(this.get("authData")||{})[e]},logOut:function(){this._logOutWithAll(),this._isCurrentUser=!1},_logOutWithAll:function(){if(this.get("authData")){var i=this;s._objectEach(this.get("authData"),function(t,e){i._logOutWith(e)})}},_logOutWith:function(t){this.isCurrent()&&(a.isString(t)&&(t=s.User._authProviders[t]),t&&t.deauthenticate&&t.deauthenticate())},signUp:function(t,e){var i=t&&t.username||this.get("username");if(!i||""===i)throw new r(r.OTHER_CAUSE,"Cannot sign up user with an empty name.");var n=t&&t.password||this.get("password");if(!n||""===n)throw new r(r.OTHER_CAUSE,"Cannot sign up user with an empty password.");return this.save(t,e).then(function(t){return t._handleSaveResult(!0).then(function(){return t})})},signUpOrlogInWithMobilePhone:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},i=t&&t.mobilePhoneNumber||this.get("mobilePhoneNumber");if(!i||""===i)throw new r(r.OTHER_CAUSE,"Cannot sign up or login user by mobilePhoneNumber with an empty mobilePhoneNumber.");var n=t&&t.smsCode||this.get("smsCode");if(!n||""===n)throw new r(r.OTHER_CAUSE,"Cannot sign up or login user by mobilePhoneNumber  with an empty smsCode.");return e._makeRequest=function(t,e,i,n,r){return l("usersByMobilePhone",null,null,"POST",r)},this.save(t,e).then(function(t){return delete t.attributes.smsCode,delete t._serverData.smsCode,t._handleSaveResult(!0).then(function(){return t})})},logIn:function(){var i=this;return l("login",null,null,"POST",this.toJSON()).then(function(t){var e=i.parse(t);return i._finishFetch(e),i._handleSaveResult(!0).then(function(){return e.smsCode||delete i.attributes.smsCode,i})})},save:function(t,e,i){var n,r;return r=(r=a.isObject(t)||a.isNull(t)||a.isUndefined(t)?(n=t,e):((n={})[t]=e,i))||{},s.Object.prototype.save.call(this,n,r).then(function(t){return t._handleSaveResult(!1).then(function(){return t})})},follow:function(t,e){if(!this.id)throw new Error("Please signin.");var i=void 0,n=void 0;t.user?(i=t.user,n=t.attributes):i=t;var r=a.isString(i)?i:i.id;if(!r)throw new Error("Invalid target user.");var o="users/"+this.id+"/friendship/"+r;return l(o,null,null,"POST",s._encode(n),e)},unfollow:function(t,e){if(!this.id)throw new Error("Please signin.");var i;i=t.user?t.user:t;var n=a.isString(i)?i:i.id;if(!n)throw new Error("Invalid target user.");var r="users/"+this.id+"/friendship/"+n;return l(r,null,null,"DELETE",null,e)},followerQuery:function(){return s.User.followerQuery(this.id)},followeeQuery:function(){return s.User.followeeQuery(this.id)},fetch:function(t,e){return s.Object.prototype.fetch.call(this,t,e).then(function(t){return t._handleSaveResult(!1).then(function(){return t})})},updatePassword:function(t,e,i){var n="users/"+this.id+"/updatePassword";return l(n,null,null,"PUT",{old_password:t,new_password:e},i)},isCurrent:function(){return this._isCurrentUser},getUsername:function(){return this.get("username")},getMobilePhoneNumber:function(){return this.get("mobilePhoneNumber")},setMobilePhoneNumber:function(t,e){return this.set("mobilePhoneNumber",t,e)},setUsername:function(t,e){return this.set("username",t,e)},setPassword:function(t,e){return this.set("password",t,e)},getEmail:function(){return this.get("email")},setEmail:function(t,e){return this.set("email",t,e)},authenticated:function(){return console.warn("DEPRECATED: 如果要判断当前用户的登录状态是否有效，请使用 currentUser.isAuthenticated().then()，如果要判断该用户是否是当前登录用户，请使用 user.id === currentUser.id。"),!!this._sessionToken&&!s._config.disableCurrentUser&&s.User.current()&&s.User.current().id===this.id},isAuthenticated:function(){var t=this;return u.resolve().then(function(){return!!t._sessionToken&&s.User._fetchUserBySessionToken(t._sessionToken).then(function(){return!0},function(t){if(211===t.code)return!1;throw t})})},getSessionToken:function(){return this._sessionToken},refreshSessionToken:function(t){var e=this;return l("users/"+this.id+"/refreshSessionToken",null,null,"PUT",null,t).then(function(t){return e._finishFetch(t),e._handleSaveResult(!0).then(function(){return e})})},getRoles:function(t){return s.Relation.reverseQuery("_Role","users",this).find(t)}},{_currentUser:null,_currentUserMatchesDisk:!1,_CURRENT_USER_KEY:"currentUser",_authProviders:{},signUp:function(t,e,i,n){return(i=i||{}).username=t,i.password=e,s.Object._create("_User").signUp(i,n)},logIn:function(t,e,i){var n=s.Object._create("_User");return n._finishFetch({username:t,password:e}),n.logIn(i)},become:function(t){return this._fetchUserBySessionToken(t).then(function(t){return t._handleSaveResult(!0).then(function(){return t})})},_fetchUserBySessionToken:function(t){var i=s.Object._create("_User");return o({method:"GET",path:"/users/me",authOptions:{sessionToken:t}}).then(function(t){var e=i.parse(t);return i._finishFetch(e),i})},logInWithMobilePhoneSmsCode:function(t,e,i){var n=s.Object._create("_User");return n._finishFetch({mobilePhoneNumber:t,smsCode:e}),n.logIn(i)},signUpOrlogInWithMobilePhone:function(t,e,i,n){return(i=i||{}).mobilePhoneNumber=t,i.smsCode=e,s.Object._create("_User").signUpOrlogInWithMobilePhone(i,n)},logInWithMobilePhone:function(t,e,i){var n=s.Object._create("_User");return n._finishFetch({mobilePhoneNumber:t,password:e}),n.logIn(i)},signUpOrlogInWithAuthData:function(t,e){return s.User._logInWith(e,t)},loginWithWeapp:function(){var e=this;return h().then(function(t){return e.signUpOrlogInWithAuthData({code:t},"lc_weapp")})},associateWithAuthData:function(t,e,i){return console.warn("DEPRECATED: User.associateWithAuthData 已废弃，请使用 User#dissociateAuthData 代替"),t._linkWith(e,i)},logOut:function(){return s._config.disableCurrentUser?(console.warn("AV.User.current() was disabled in multi-user environment, call logOut() from user object instead https://leancloud.cn/docs/leanengine-node-sdk-upgrade-1.html"),u.resolve(null)):(null!==s.User._currentUser&&(s.User._currentUser._logOutWithAll(),s.User._currentUser._isCurrentUser=!1),s.User._currentUserMatchesDisk=!0,s.User._currentUser=null,s.localStorage.removeItemAsync(s._getAVPath(s.User._CURRENT_USER_KEY)).then(function(){return s._refreshSubscriptionId()}))},followerQuery:function(t){if(!t||!a.isString(t))throw new Error("Invalid user object id.");var e=new s.FriendShipQuery("_Follower");return e._friendshipTag="follower",e.equalTo("user",s.Object.createWithoutData("_User",t)),e},followeeQuery:function(t){if(!t||!a.isString(t))throw new Error("Invalid user object id.");var e=new s.FriendShipQuery("_Followee");return e._friendshipTag="followee",e.equalTo("user",s.Object.createWithoutData("_User",t)),e},requestPasswordReset:function(t){return l("requestPasswordReset",null,null,"POST",{email:t})},requestEmailVerify:function(t){return l("requestEmailVerify",null,null,"POST",{email:t})},requestMobilePhoneVerify:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},i={mobilePhoneNumber:t};return e.validateToken&&(i.validate_token=e.validateToken),l("requestMobilePhoneVerify",null,null,"POST",i,e)},requestPasswordResetBySmsCode:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},i={mobilePhoneNumber:t};return e.validateToken&&(i.validate_token=e.validateToken),l("requestPasswordResetBySmsCode",null,null,"POST",i,e)},resetPasswordBySmsCode:function(t,e){return l("resetPasswordBySmsCode",null,t,"PUT",{password:e})},verifyMobilePhone:function(t){return l("verifyMobilePhone",null,t,"POST",null)},requestLoginSmsCode:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},i={mobilePhoneNumber:t};return e.validateToken&&(i.validate_token=e.validateToken),l("requestLoginSmsCode",null,null,"POST",i,e)},currentAsync:function(){return s._config.disableCurrentUser?(console.warn("AV.User.currentAsync() was disabled in multi-user environment, access user from request instead https://leancloud.cn/docs/leanengine-node-sdk-upgrade-1.html"),u.resolve(null)):s.User._currentUser?u.resolve(s.User._currentUser):s.User._currentUserMatchesDisk?u.resolve(s.User._currentUser):s.localStorage.getItemAsync(s._getAVPath(s.User._CURRENT_USER_KEY)).then(function(t){if(!t)return null;s.User._currentUserMatchesDisk=!0,s.User._currentUser=s.Object._create("_User"),s.User._currentUser._isCurrentUser=!0;var e=JSON.parse(t);return s.User._currentUser.id=e._id,delete e._id,s.User._currentUser._sessionToken=e._sessionToken,delete e._sessionToken,s.User._currentUser._finishFetch(e),s.User._currentUser._synchronizeAllAuthData(),s.User._currentUser._refreshCache(),s.User._currentUser._opSetQueue=[{}],s.User._currentUser})},current:function(){if(s._config.disableCurrentUser)return console.warn("AV.User.current() was disabled in multi-user environment, access user from request instead https://leancloud.cn/docs/leanengine-node-sdk-upgrade-1.html"),null;if(s.User._currentUser)return s.User._currentUser;if(s.User._currentUserMatchesDisk)return s.User._currentUser;s.User._currentUserMatchesDisk=!0;var t=s.localStorage.getItem(s._getAVPath(s.User._CURRENT_USER_KEY));if(!t)return null;s.User._currentUser=s.Object._create("_User"),s.User._currentUser._isCurrentUser=!0;var e=JSON.parse(t);return s.User._currentUser.id=e._id,delete e._id,s.User._currentUser._sessionToken=e._sessionToken,delete e._sessionToken,s.User._currentUser._finishFetch(e),s.User._currentUser._synchronizeAllAuthData(),s.User._currentUser._refreshCache(),s.User._currentUser._opSetQueue=[{}],s.User._currentUser},_saveCurrentUser:function(e){return(s.User._currentUser!==e?s.User.logOut():u.resolve()).then(function(){e._isCurrentUser=!0;var t=(s.User._currentUser=e).toJSON();return t._id=e.id,t._sessionToken=e._sessionToken,s.localStorage.setItemAsync(s._getAVPath(s.User._CURRENT_USER_KEY),JSON.stringify(t)).then(function(){return s.User._currentUserMatchesDisk=!0,s._refreshSubscriptionId()})})},_registerAuthenticationProvider:function(t){s.User._authProviders[t.getAuthType()]=t,!s._config.disableCurrentUser&&s.User.current()&&s.User.current()._synchronizeAuthData(t.getAuthType())},_logInWith:function(t,e){return s.Object._create("_User")._linkWith(t,e)}})}},function(t,e,i){function n(t){var n=this;this.AV=t,this.lockedUntil=0,o.getAsync("serverURLs").then(function(t){if(!t)return n.lock(0);var e=t.serverURLs,i=t.lockedUntil;n.AV._setServerURLs(e,!1),n.lockedUntil=i}).catch(function(){return n.lock(0)})}var r=i(3).ajax,o=i(9);n.prototype.disable=function(){this.disabled=!0},n.prototype.lock=function(t){this.lockedUntil=Date.now()+t},n.prototype.refresh=function(){var n=this;if(!(this.disabled||Date.now()<this.lockedUntil))return this.lock(10),r({method:"get",url:"https://app-router.leancloud.cn/2/route",query:{appId:this.AV.applicationId}}).then(function(t){if(!n.disabled){var e=t.ttl;if(!e)throw new Error("missing ttl");e*=1e3;var i={push:"https://"+t.push_server,stats:"https://"+t.stats_server,engine:"https://"+t.engine_server,api:"https://"+t.api_server};return n.AV._setServerURLs(i,!1),n.lock(e),o.setAsync("serverURLs",{serverURLs:i,lockedUntil:n.lockedUntil},e)}}).catch(function(t){console.warn("refresh server URLs failed: "+t.message),n.lock(600)})},t.exports=n},function(t,e,i){i(26);var n=i(5);n._=i(0),n.version=i(11),n.Promise=i(1),n.localStorage=i(10),n.Cache=i(9),n.Error=i(4),i(21),i(18)(n),i(20)(n),i(14)(n),i(25)(n),i(29)(n),i(19)(n),i(24)(n),i(30)(n),i(33)(n),i(28)(n),i(23)(n),i(15)(n),i(16)(n),i(27)(n),i(32)(n),i(31)(n),i(22)(n),n.Conversation=i(17),t.exports=n},function(t,e,i){t.exports=[]},function(t,e,i){var n=i(11),r=["Browser"].concat(i(36));t.exports="LeanCloud-JS-SDK/"+n+" ("+r.join("; ")+")"},function(t,e,i){var a=i(7),l=i(6)("cos"),n=i(1);t.exports=function(t,e,r){var o=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{};r.attributes.url=t.url,r._bucket=t.bucket,r.id=t.objectId;var s=t.upload_url+"?sign="+encodeURIComponent(t.token);return new n(function(i,n){var t=a("POST",s).set(r._uploadHeaders).field("fileContent",e).field("op","upload");o.onprogress&&t.on("progress",o.onprogress),t.end(function(t,e){if(e&&l(e.status,e.body,e.text),t)return e&&(t.statusCode=e.status,t.responseText=e.text,t.response=e.body),n(t);i(r)})})}},function(t,e,i){var l=i(7),n=i(1),u=i(6)("qiniu");t.exports=function(t,e,r){var o=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{};r.attributes.url=t.url,r._bucket=t.bucket,r.id=t.objectId;var s=t.token,a=t.upload_url||"https://upload.qiniup.com";return new n(function(i,n){var t=l("POST",a).set(r._uploadHeaders).field("file",e).field("name",r.attributes.name).field("key",r._qiniu_key).field("token",s);o.onprogress&&t.on("progress",o.onprogress),t.end(function(t,e){if(e&&u(e.status,e.body,e.text),t)return e&&(t.statusCode=e.status,t.responseText=e.text,t.response=e.body),n(t);i(r)})})}},function(t,e,i){var a=i(7),l=i(1),u=function(t,e){return e&&(t.statusCode=e.status,t.responseText=e.text,t.response=e.body),t};t.exports=function(n,r,o){var s=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{};return o.attributes.url=n.url,o._bucket=n.bucket,o.id=n.objectId,new l(function(e,i){var t=a("PUT",n.upload_url).set(Object.assign({"Content-Type":o.get("mime_type"),"Cache-Control":"public, max-age=31536000"},o._uploadHeaders));s.onprogress&&t.on("progress",s.onprogress),t.on("response",function(t){if(t.ok)return e(o);i(u(t.error,t))}),t.on("error",function(t,e){return i(u(t,e))}),t.send(r).end()})}},function(o,t,s){(function(t){var e=s(0),i=(s(1),{}),n=t.localStorage;try{var r="__storejs__";if(n.setItem(r,r),n.getItem(r)!=r)throw new Error;n.removeItem(r)}catch(t){n=s(49)}e(["getItem","setItem","removeItem","clear"]).each(function(t){i[t]=function(){return n[t].apply(n,arguments)}}),i.async=!1,o.exports=i}).call(t,s(8))},function(t,e,i){t.exports=function(t,e){var i;i=t.indexOf("base64")<0?atob(t):0<=t.split(",")[0].indexOf("base64")?(e=e||t.split(",")[0].split(":")[1].split(";")[0],atob(t.split(",")[1])):unescape(t.split(",")[1]);for(var n=new Uint8Array(i.length),r=0;r<i.length;r++)n[r]=i.charCodeAt(r);return new Blob([n],{type:e})}},function(t,e,i){function n(t){if(t)return function(t){for(var e in n.prototype)t[e]=n.prototype[e];return t}(t)}(t.exports=n).prototype.on=n.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this},n.prototype.once=function(t,e){function i(){this.off(t,i),e.apply(this,arguments)}return i.fn=e,this.on(t,i),this},n.prototype.off=n.prototype.removeListener=n.prototype.removeAllListeners=n.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var i=this._callbacks["$"+t];if(!i)return this;if(1==arguments.length)return delete this._callbacks["$"+t],this;for(var n,r=0;r<i.length;r++)if((n=i[r])===e||n.fn===e){i.splice(r,1);break}return this},n.prototype.emit=function(t){this._callbacks=this._callbacks||{};var e=[].slice.call(arguments,1),i=this._callbacks["$"+t];if(i)for(var n=0,r=(i=i.slice(0)).length;n<r;++n)i[n].apply(this,e);return this},n.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]},n.prototype.hasListeners=function(t){return!!this.listeners(t).length}},function(t,e){var o,i;o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i={rotl:function(t,e){return t<<e|t>>>32-e},rotr:function(t,e){return t<<32-e|t>>>e},endian:function(t){if(t.constructor==Number)return 16711935&i.rotl(t,8)|4278255360&i.rotl(t,24);for(var e=0;e<t.length;e++)t[e]=i.endian(t[e]);return t},randomBytes:function(t){for(var e=[];0<t;t--)e.push(Math.floor(256*Math.random()));return e},bytesToWords:function(t){for(var e=[],i=0,n=0;i<t.length;i++,n+=8)e[n>>>5]|=t[i]<<24-n%32;return e},wordsToBytes:function(t){for(var e=[],i=0;i<32*t.length;i+=8)e.push(t[i>>>5]>>>24-i%32&255);return e},bytesToHex:function(t){for(var e=[],i=0;i<t.length;i++)e.push((t[i]>>>4).toString(16)),e.push((15&t[i]).toString(16));return e.join("")},hexToBytes:function(t){for(var e=[],i=0;i<t.length;i+=2)e.push(parseInt(t.substr(i,2),16));return e},bytesToBase64:function(t){for(var e=[],i=0;i<t.length;i+=3)for(var n=t[i]<<16|t[i+1]<<8|t[i+2],r=0;r<4;r++)8*i+6*r<=8*t.length?e.push(o.charAt(n>>>6*(3-r)&63)):e.push("=");return e.join("")},base64ToBytes:function(t){t=t.replace(/[^A-Z0-9+\/]/gi,"");for(var e=[],i=0,n=0;i<t.length;n=++i%4)0!=n&&e.push((o.indexOf(t.charAt(i-1))&Math.pow(2,-2*n+8)-1)<<2*n|o.indexOf(t.charAt(i))>>>6-2*n);return e}},t.exports=i},function(t,a,e){function i(t){function n(){if(n.enabled){var r=n,t=+new Date,e=t-(l||t);r.diff=e,r.prev=l,r.curr=t,l=t;for(var o=new Array(arguments.length),i=0;i<o.length;i++)o[i]=arguments[i];o[0]=a.coerce(o[0]),"string"!=typeof o[0]&&o.unshift("%O");var s=0;o[0]=o[0].replace(/%([a-zA-Z%])/g,function(t,e){if("%%"===t)return t;s++;var i=a.formatters[e];if("function"==typeof i){var n=o[s];t=i.call(r,n),o.splice(s,1),s--}return t}),a.formatArgs.call(r,o),(n.log||a.log||console.log.bind(console)).apply(r,o)}}return n.namespace=t,n.enabled=a.enabled(t),n.useColors=a.useColors(),n.color=function(t){var e,i=0;for(e in t)i=(i<<5)-i+t.charCodeAt(e),i|=0;return a.colors[Math.abs(i)%a.colors.length]}(t),"function"==typeof a.init&&a.init(n),n}var l;(a=t.exports=i.debug=i.default=i).coerce=function(t){return t instanceof Error?t.stack||t.message:t},a.disable=function(){a.enable("")},a.enable=function(t){a.save(t),a.names=[],a.skips=[];for(var e=("string"==typeof t?t:"").split(/[\s,]+/),i=e.length,n=0;n<i;n++)e[n]&&("-"===(t=e[n].replace(/\*/g,".*?"))[0]?a.skips.push(new RegExp("^"+t.substr(1)+"$")):a.names.push(new RegExp("^"+t+"$")))},a.enabled=function(t){var e,i;for(e=0,i=a.skips.length;e<i;e++)if(a.skips[e].test(t))return!1;for(e=0,i=a.names.length;e<i;e++)if(a.names[e].test(t))return!0;return!1},a.humanize=e(51),a.names=[],a.skips=[],a.formatters={}},function(e,t,i){(function(t){e.exports=function(){function u(t){return"function"==typeof t}function e(){var t=setTimeout;return function(){return t(i,1)}}function i(){for(var t=0;t<x;t+=2)(0,M[t])(M[t+1]),M[t]=void 0,M[t+1]=void 0;x=0}function a(t,e){var i=arguments,n=this,r=new this.constructor(h);void 0===r[D]&&v(r);var o,s=n._state;return s?(o=i[s-1],O(function(){return g(s,r,o,n._result)})):d(n,r,t,e),r}function l(t){if(t&&"object"==(void 0===t?"undefined":q(t))&&t.constructor===this)return t;var e=new this(h);return f(e,t),e}function h(){}function s(t){try{return t.then}catch(t){return U.error=t,U}}function c(t,e,i){var s,n,r,o;e.constructor===t.constructor&&i===a&&e.constructor.resolve===l?(r=t,(o=e)._state===N?p(r,o._result):o._state===F?_(r,o._result):d(o,void 0,function(t){return f(r,t)},function(t){return _(r,t)})):i===U?(_(t,U.error),U.error=null):void 0===i?p(t,e):u(i)?(s=e,n=i,O(function(r){var o=!1,t=function(t,e,i,n){try{t.call(e,function(t){o||(o=!0,s!==t?f(r,t):p(r,t))},function(t){o||(o=!0,_(r,t))})}catch(t){return t}}(n,s,0,0,r._label);!o&&t&&(o=!0,_(r,t))},t)):p(t,e)}function f(t,e){var i,n;t===e?_(t,new TypeError("You cannot resolve a promise with itself")):(n=void 0===(i=e)?"undefined":q(i),null===i||"object"!==n&&"function"!==n?p(t,e):c(t,e,s(e)))}function n(t){t._onerror&&t._onerror(t._result),m(t)}function p(t,e){t._state===k&&(t._result=e,t._state=N,0!==t._subscribers.length&&O(m,t))}function _(t,e){t._state===k&&(t._state=F,t._result=e,O(n,t))}function d(t,e,i,n){var r=t._subscribers,o=r.length;t._onerror=null,r[o]=e,r[o+N]=i,r[o+F]=n,0===o&&t._state&&O(m,t)}function m(t){var e=t._subscribers,i=t._state;if(0!==e.length){for(var n=void 0,r=void 0,o=t._result,s=0;s<e.length;s+=3)n=e[s],r=e[s+i],n?g(i,n,r,o):r(o);t._subscribers.length=0}}function t(){this.error=null}function g(t,e,i,n){var r=u(i),o=void 0,s=void 0,a=void 0,l=void 0;if(r){if((o=function(t,e){try{return t(e)}catch(t){return B.error=t,B}}(i,n))===B?(l=!0,s=o.error,o.error=null):a=!0,e===o)return void _(e,new TypeError("A promises callback cannot return that same promise."))}else o=n,a=!0;e._state!==k||(r&&a?f(e,o):l?_(e,s):t===N?p(e,o):t===F&&_(e,o))}function v(t){t[D]=j++,t._state=void 0,t._result=void 0,t._subscribers=[]}function r(t,e){this._instanceConstructor=t,this.promise=new t(h),this.promise[D]||v(this.promise),T(e)?(this.length=e.length,this._remaining=e.length,this._result=new Array(this.length),0===this.length?p(this.promise,this._result):(this.length=this.length||0,this._enumerate(e),0===this._remaining&&p(this.promise,this._result))):_(this.promise,new Error("Array Methods must be provided an Array"))}function y(t){this[D]=j++,this._result=this._state=void 0,this._subscribers=[],h!==t&&("function"!=typeof t&&function(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}(),this instanceof y?function(e,t){try{t(function(t){f(e,t)},function(t){_(e,t)})}catch(t){_(e,t)}}(this,t):function(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}())}var o,$,w,b,T=Array.isArray?Array.isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)},x=0,S=void 0,P=void 0,O=function(t,e){M[x]=t,M[x+1]=e,2===(x+=2)&&(P?P(i):R())},E="undefined"!=typeof window?window:void 0,A=E||{},C=A.MutationObserver||A.WebKitMutationObserver,L="undefined"==typeof self&&void 0!==G&&"[object process]"==={}.toString.call(G),I="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,M=new Array(1e3),R=void 0;R=L?function(){return G.nextTick(i)}:C?($=0,w=new C(i),b=document.createTextNode(""),w.observe(b,{characterData:!0}),function(){b.data=$=++$%2}):I?((o=new MessageChannel).port1.onmessage=i,function(){return o.port2.postMessage(0)}):void 0===E?function(){try{var t=(void 0)(56);return void 0!==(S=t.runOnLoop||t.runOnContext)?function(){S(i)}:e()}catch(t){return e()}}():e();var D=Math.random().toString(36).substring(16),k=void 0,N=1,F=2,U=new t,B=new t,j=0;return r.prototype._enumerate=function(t){for(var e=0;this._state===k&&e<t.length;e++)this._eachEntry(t[e],e)},r.prototype._eachEntry=function(e,t){var i=this._instanceConstructor,n=i.resolve;if(n===l){var r=s(e);if(r===a&&e._state!==k)this._settledAt(e._state,t,e._result);else if("function"!=typeof r)this._remaining--,this._result[t]=e;else if(i===y){var o=new i(h);c(o,e,r),this._willSettleAt(o,t)}else this._willSettleAt(new i(function(t){return t(e)}),t)}else this._willSettleAt(n(e),t)},r.prototype._settledAt=function(t,e,i){var n=this.promise;n._state===k&&(this._remaining--,t===F?_(n,i):this._result[e]=i),0===this._remaining&&p(n,this._result)},r.prototype._willSettleAt=function(t,e){var i=this;d(t,void 0,function(t){return i._settledAt(N,e,t)},function(t){return i._settledAt(F,e,t)})},y.all=function(t){return new r(this,t).promise},y.race=function(r){var o=this;return new o(T(r)?function(t,e){for(var i=r.length,n=0;n<i;n++)o.resolve(r[n]).then(t,e)}:function(t,e){return e(new TypeError("You must pass an array to race."))})},y.resolve=l,y.reject=function(t){var e=new this(h);return _(e,t),e},y._setScheduler=function(t){P=t},y._setAsap=function(t){O=t},y._asap=O,y.prototype={constructor:y,then:a,catch:function(t){return this.then(null,t)}},y.polyfill=function(){var t=void 0;if("undefined"!=typeof self)t=self;else try{t=Function("return this")()}catch(t){throw new Error("polyfill failed because global object is unavailable in this environment")}var e=t.Promise;if(e){var i=null;try{i=Object.prototype.toString.call(e.resolve())}catch(t){}if("[object Promise]"===i&&!e.cast)return}t.Promise=y},y.Promise=y}()}).call(t,i(8))},function(t,e,i){function u(){}function o(t,e,i){this.fn=t,this.context=e,this.once=i||!1}function n(){this._events=new u,this._eventsCount=0}var r=Object.prototype.hasOwnProperty,p="~";Object.create&&(u.prototype=Object.create(null),(new u).__proto__||(p=!1)),n.prototype.eventNames=function(){var t,e,i=[];if(0===this._eventsCount)return i;for(e in t=this._events)r.call(t,e)&&i.push(p?e.slice(1):e);return Object.getOwnPropertySymbols?i.concat(Object.getOwnPropertySymbols(t)):i},n.prototype.listeners=function(t,e){var i=p?p+t:t,n=this._events[i];if(e)return!!n;if(!n)return[];if(n.fn)return[n.fn];for(var r=0,o=n.length,s=new Array(o);r<o;r++)s[r]=n[r].fn;return s},n.prototype.emit=function(t,e,i,n,r,o){var s=p?p+t:t;if(!this._events[s])return!1;var a,l,u=this._events[s],h=arguments.length;if(u.fn){switch(u.once&&this.removeListener(t,u.fn,void 0,!0),h){case 1:return u.fn.call(u.context),!0;case 2:return u.fn.call(u.context,e),!0;case 3:return u.fn.call(u.context,e,i),!0;case 4:return u.fn.call(u.context,e,i,n),!0;case 5:return u.fn.call(u.context,e,i,n,r),!0;case 6:return u.fn.call(u.context,e,i,n,r,o),!0}for(l=1,a=new Array(h-1);l<h;l++)a[l-1]=arguments[l];u.fn.apply(u.context,a)}else{var c,f=u.length;for(l=0;l<f;l++)switch(u[l].once&&this.removeListener(t,u[l].fn,void 0,!0),h){case 1:u[l].fn.call(u[l].context);break;case 2:u[l].fn.call(u[l].context,e);break;case 3:u[l].fn.call(u[l].context,e,i);break;case 4:u[l].fn.call(u[l].context,e,i,n);break;default:if(!a)for(c=1,a=new Array(h-1);c<h;c++)a[c-1]=arguments[c];u[l].fn.apply(u[l].context,a)}}return!0},n.prototype.on=function(t,e,i){var n=new o(e,i||this),r=p?p+t:t;return this._events[r]?this._events[r].fn?this._events[r]=[this._events[r],n]:this._events[r].push(n):(this._events[r]=n,this._eventsCount++),this},n.prototype.once=function(t,e,i){var n=new o(e,i||this,!0),r=p?p+t:t;return this._events[r]?this._events[r].fn?this._events[r]=[this._events[r],n]:this._events[r].push(n):(this._events[r]=n,this._eventsCount++),this},n.prototype.removeListener=function(t,e,i,n){var r=p?p+t:t;if(!this._events[r])return this;if(!e)return 0==--this._eventsCount?this._events=new u:delete this._events[r],this;var o=this._events[r];if(o.fn)o.fn!==e||n&&!o.once||i&&o.context!==i||(0==--this._eventsCount?this._events=new u:delete this._events[r]);else{for(var s=0,a=[],l=o.length;s<l;s++)(o[s].fn!==e||n&&!o[s].once||i&&o[s].context!==i)&&a.push(o[s]);a.length?this._events[r]=1===a.length?a[0]:a:0==--this._eventsCount?this._events=new u:delete this._events[r]}return this},n.prototype.removeAllListeners=function(t){var e;return t?(e=p?p+t:t,this._events[e]&&(0==--this._eventsCount?this._events=new u:delete this._events[e])):(this._events=new u,this._eventsCount=0),this},n.prototype.off=n.prototype.removeListener,n.prototype.addListener=n.prototype.on,n.prototype.setMaxListeners=function(){return this},n.prefixed=p,n.EventEmitter=n,t.exports=n},function(t,e){function i(t){return!!t.constructor&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)}t.exports=function(t){return null!=t&&(i(t)||"function"==typeof(e=t).readFloatLE&&"function"==typeof e.slice&&i(e.slice(0,0))||!!t._isBuffer);var e}},function(t,e,i){var n,r;r={},(n={}).length=0,n.getItem=function(t){return r[t]||null},n.setItem=function(t,e){void 0===e?n.removeItem(t):(r.hasOwnProperty(t)||n.length++,r[t]=""+e)},n.removeItem=function(t){r.hasOwnProperty(t)&&(delete r[t],n.length--)},n.key=function(t){return Object.keys(r)[t]||null},n.clear=function(){r={},n.length=0},t.exports=n},function(t,e,i){var v,y,$,w,n;v=i(44),y=i(12).utf8,$=i(48),w=i(12).bin,(n=function t(e,i){e.constructor==String?e=i&&"binary"===i.encoding?w.stringToBytes(e):y.stringToBytes(e):$(e)?e=Array.prototype.slice.call(e,0):Array.isArray(e)||(e=e.toString());for(var n=v.bytesToWords(e),r=8*e.length,o=1732584193,s=-271733879,a=-1732584194,l=271733878,u=0;u<n.length;u++)n[u]=16711935&(n[u]<<8|n[u]>>>24)|4278255360&(n[u]<<24|n[u]>>>8);n[r>>>5]|=128<<r%32,n[14+(r+64>>>9<<4)]=r;var h=t._ff,c=t._gg,f=t._hh,p=t._ii;for(u=0;u<n.length;u+=16){var _=o,d=s,m=a,g=l;s=p(s=p(s=p(s=p(s=f(s=f(s=f(s=f(s=c(s=c(s=c(s=c(s=h(s=h(s=h(s=h(s,a=h(a,l=h(l,o=h(o,s,a,l,n[u+0],7,-680876936),s,a,n[u+1],12,-389564586),o,s,n[u+2],17,606105819),l,o,n[u+3],22,-1044525330),a=h(a,l=h(l,o=h(o,s,a,l,n[u+4],7,-176418897),s,a,n[u+5],12,1200080426),o,s,n[u+6],17,-1473231341),l,o,n[u+7],22,-45705983),a=h(a,l=h(l,o=h(o,s,a,l,n[u+8],7,1770035416),s,a,n[u+9],12,-1958414417),o,s,n[u+10],17,-42063),l,o,n[u+11],22,-1990404162),a=h(a,l=h(l,o=h(o,s,a,l,n[u+12],7,1804603682),s,a,n[u+13],12,-40341101),o,s,n[u+14],17,-1502002290),l,o,n[u+15],22,1236535329),a=c(a,l=c(l,o=c(o,s,a,l,n[u+1],5,-165796510),s,a,n[u+6],9,-1069501632),o,s,n[u+11],14,643717713),l,o,n[u+0],20,-373897302),a=c(a,l=c(l,o=c(o,s,a,l,n[u+5],5,-701558691),s,a,n[u+10],9,38016083),o,s,n[u+15],14,-660478335),l,o,n[u+4],20,-405537848),a=c(a,l=c(l,o=c(o,s,a,l,n[u+9],5,568446438),s,a,n[u+14],9,-1019803690),o,s,n[u+3],14,-187363961),l,o,n[u+8],20,1163531501),a=c(a,l=c(l,o=c(o,s,a,l,n[u+13],5,-1444681467),s,a,n[u+2],9,-51403784),o,s,n[u+7],14,1735328473),l,o,n[u+12],20,-1926607734),a=f(a,l=f(l,o=f(o,s,a,l,n[u+5],4,-378558),s,a,n[u+8],11,-2022574463),o,s,n[u+11],16,1839030562),l,o,n[u+14],23,-35309556),a=f(a,l=f(l,o=f(o,s,a,l,n[u+1],4,-1530992060),s,a,n[u+4],11,1272893353),o,s,n[u+7],16,-155497632),l,o,n[u+10],23,-1094730640),a=f(a,l=f(l,o=f(o,s,a,l,n[u+13],4,681279174),s,a,n[u+0],11,-358537222),o,s,n[u+3],16,-722521979),l,o,n[u+6],23,76029189),a=f(a,l=f(l,o=f(o,s,a,l,n[u+9],4,-640364487),s,a,n[u+12],11,-421815835),o,s,n[u+15],16,530742520),l,o,n[u+2],23,-995338651),a=p(a,l=p(l,o=p(o,s,a,l,n[u+0],6,-198630844),s,a,n[u+7],10,1126891415),o,s,n[u+14],15,-1416354905),l,o,n[u+5],21,-57434055),a=p(a,l=p(l,o=p(o,s,a,l,n[u+12],6,1700485571),s,a,n[u+3],10,-1894986606),o,s,n[u+10],15,-1051523),l,o,n[u+1],21,-2054922799),a=p(a,l=p(l,o=p(o,s,a,l,n[u+8],6,1873313359),s,a,n[u+15],10,-30611744),o,s,n[u+6],15,-1560198380),l,o,n[u+13],21,1309151649),a=p(a,l=p(l,o=p(o,s,a,l,n[u+4],6,-145523070),s,a,n[u+11],10,-1120210379),o,s,n[u+2],15,718787259),l,o,n[u+9],21,-343485551),o=o+_>>>0,s=s+d>>>0,a=a+m>>>0,l=l+g>>>0}return v.endian([o,s,a,l])})._ff=function(t,e,i,n,r,o,s){var a=t+(e&i|~e&n)+(r>>>0)+s;return(a<<o|a>>>32-o)+e},n._gg=function(t,e,i,n,r,o,s){var a=t+(e&n|i&~n)+(r>>>0)+s;return(a<<o|a>>>32-o)+e},n._hh=function(t,e,i,n,r,o,s){var a=t+(e^i^n)+(r>>>0)+s;return(a<<o|a>>>32-o)+e},n._ii=function(t,e,i,n,r,o,s){var a=t+(i^(e|~n))+(r>>>0)+s;return(a<<o|a>>>32-o)+e},n._blocksize=16,n._digestsize=16,t.exports=function(t,e){if(null==t)throw new Error("Illegal argument "+t);var i=v.wordsToBytes(n(t,e));return e&&e.asBytes?i:e&&e.asString?w.bytesToString(i):v.bytesToHex(i)}},function(t,e){function o(t,e,i){if(!(t<e))return t<1.5*e?Math.floor(t/e)+" "+i:Math.ceil(t/e)+" "+i+"s"}var s=864e5;t.exports=function(t,e){e=e||{};var i,n,r=void 0===t?"undefined":q(t);if("string"===r&&0<t.length)return function(t){if(!(100<(t=String(t)).length)){var e=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(t);if(e){var i=parseFloat(e[1]);switch((e[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*i;case"days":case"day":case"d":return i*s;case"hours":case"hour":case"hrs":case"hr":case"h":return 36e5*i;case"minutes":case"minute":case"mins":case"min":case"m":return 6e4*i;case"seconds":case"second":case"secs":case"sec":case"s":return 1e3*i;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return i;default:return}}}}(t);if("number"===r&&!1===isNaN(t))return e.long?o(n=t,s,"day")||o(n,36e5,"hour")||o(n,6e4,"minute")||o(n,1e3,"second")||n+" ms":s<=(i=t)?Math.round(i/s)+"d":36e5<=i?Math.round(i/36e5)+"h":6e4<=i?Math.round(i/6e4)+"m":1e3<=i?Math.round(i/1e3)+"s":i+"ms";throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))}},function(t,e){function i(){this._defaults=[]}["use","on","once","set","query","type","accept","auth","withCredentials","sortQuery","retry","ok","redirects","timeout","buffer","serialize","parse","ca","key","pfx","cert"].forEach(function(t){i.prototype[t]=function(){return this._defaults.push({fn:t,arguments:arguments}),this}}),i.prototype._setDefaults=function(e){this._defaults.forEach(function(t){e[t.fn].apply(e,t.arguments)})},t.exports=i},function(t,e,i){function n(t){if(t)return function(t){for(var e in n.prototype)t[e]=n.prototype[e];return t}(t)}var r=i(13);(t.exports=n).prototype.clearTimeout=function(){return clearTimeout(this._timer),clearTimeout(this._responseTimeoutTimer),delete this._timer,delete this._responseTimeoutTimer,this},n.prototype.parse=function(t){return this._parser=t,this},n.prototype.responseType=function(t){return this._responseType=t,this},n.prototype.serialize=function(t){return this._serializer=t,this},n.prototype.timeout=function(t){if(!t||"object"!=(void 0===t?"undefined":q(t)))return this._timeout=t,this._responseTimeout=0,this;for(var e in t)switch(e){case"deadline":this._timeout=t.deadline;break;case"response":this._responseTimeout=t.response;break;default:console.warn("Unknown timeout option",e)}return this},n.prototype.retry=function(t,e){return 0!==arguments.length&&!0!==t||(t=1),t<=0&&(t=0),this._maxRetries=t,this._retries=0,this._retryCallback=e,this};var o=["ECONNRESET","ETIMEDOUT","EADDRINFO","ESOCKETTIMEDOUT"];n.prototype._shouldRetry=function(t,e){if(!this._maxRetries||this._retries++>=this._maxRetries)return!1;if(this._retryCallback)try{var i=this._retryCallback(t,e);if(!0===i)return!0;if(!1===i)return!1}catch(t){console.error(t)}if(e&&e.status&&500<=e.status&&501!=e.status)return!0;if(t){if(t.code&&~o.indexOf(t.code))return!0;if(t.timeout&&"ECONNABORTED"==t.code)return!0;if(t.crossDomain)return!0}return!1},n.prototype._retry=function(){return this.clearTimeout(),this.req&&(this.req=null,this.req=this.request()),this._aborted=!1,this.timedout=!1,this._end()},n.prototype.then=function(t,e){if(!this._fullfilledPromise){var r=this;this._endCalled&&console.warn("Warning: superagent request was sent twice, because both .end() and .then() were called. Never call .end() if you use promises"),this._fullfilledPromise=new Promise(function(i,n){r.end(function(t,e){t?n(t):i(e)})})}return this._fullfilledPromise.then(t,e)},n.prototype.catch=function(t){return this.then(void 0,t)},n.prototype.use=function(t){return t(this),this},n.prototype.ok=function(t){if("function"!=typeof t)throw Error("Callback required");return this._okCallback=t,this},n.prototype._isResponseOK=function(t){return!!t&&(this._okCallback?this._okCallback(t):200<=t.status&&t.status<300)},n.prototype.getHeader=n.prototype.get=function(t){return this._header[t.toLowerCase()]},n.prototype.set=function(t,e){if(r(t)){for(var i in t)this.set(i,t[i]);return this}return this._header[t.toLowerCase()]=e,this.header[t]=e,this},n.prototype.unset=function(t){return delete this._header[t.toLowerCase()],delete this.header[t],this},n.prototype.field=function(t,e){if(null==t)throw new Error(".field(name, val) name can not be empty");if(this._data&&console.error(".field() can't be used if .send() is used. Please use only .send() or only .field() & .attach()"),r(t)){for(var i in t)this.field(i,t[i]);return this}if(Array.isArray(e)){for(var n in e)this.field(t,e[n]);return this}if(null==e)throw new Error(".field(name, val) val can not be empty");return"boolean"==typeof e&&(e=""+e),this._getFormData().append(t,e),this},n.prototype.abort=function(){return this._aborted||(this._aborted=!0,this.xhr&&this.xhr.abort(),this.req&&this.req.abort(),this.clearTimeout(),this.emit("abort")),this},n.prototype._auth=function(t,e,i,n){switch(i.type){case"basic":this.set("Authorization","Basic "+n(t+":"+e));break;case"auto":this.username=t,this.password=e;break;case"bearer":this.set("Authorization","Bearer "+t)}return this},n.prototype.withCredentials=function(t){return null==t&&(t=!0),this._withCredentials=t,this},n.prototype.redirects=function(t){return this._maxRedirects=t,this},n.prototype.maxResponseSize=function(t){if("number"!=typeof t)throw TypeError("Invalid argument");return this._maxResponseSize=t,this},n.prototype.toJSON=function(){return{method:this.method,url:this.url,data:this._data,headers:this._header}},n.prototype.send=function(t){var e=r(t),i=this._header["content-type"];if(this._formData&&console.error(".send() can't be used if .attach() or .field() is used. Please use only .send() or only .field() & .attach()"),e&&!this._data)Array.isArray(t)?this._data=[]:this._isHost(t)||(this._data={});else if(t&&this._data&&this._isHost(this._data))throw Error("Can't merge these send calls");if(e&&r(this._data))for(var n in t)this._data[n]=t[n];else this._data="string"==typeof t?(i||this.type("form"),"application/x-www-form-urlencoded"==(i=this._header["content-type"])?this._data?this._data+"&"+t:t:(this._data||"")+t):t;return!e||this._isHost(t)||i||this.type("json"),this},n.prototype.sortQuery=function(t){return this._sort=void 0===t||t,this},n.prototype._finalizeQueryString=function(){var t=this._query.join("&");if(t&&(this.url+=(0<=this.url.indexOf("?")?"&":"?")+t),this._query.length=0,this._sort){var e=this.url.indexOf("?");if(0<=e){var i=this.url.substring(e+1).split("&");"function"==typeof this._sort?i.sort(this._sort):i.sort(),this.url=this.url.substring(0,e)+"?"+i.join("&")}}},n.prototype._appendQueryString=function(){console.trace("Unsupported")},n.prototype._timeoutError=function(t,e,i){if(!this._aborted){var n=new Error(t+e+"ms exceeded");n.timeout=e,n.code="ECONNABORTED",n.errno=i,this.timedout=!0,this.abort(),this.callback(n)}},n.prototype._setTimeouts=function(){var t=this;this._timeout&&!this._timer&&(this._timer=setTimeout(function(){t._timeoutError("Timeout of ",t._timeout,"ETIME")},this._timeout)),this._responseTimeout&&!this._responseTimeoutTimer&&(this._responseTimeoutTimer=setTimeout(function(){t._timeoutError("Response timeout of ",t._responseTimeout,"ETIMEDOUT")},this._responseTimeout))}},function(t,e,i){function n(t){if(t)return function(t){for(var e in n.prototype)t[e]=n.prototype[e];return t}(t)}var r=i(55);(t.exports=n).prototype.get=function(t){return this.header[t.toLowerCase()]},n.prototype._setHeaderProperties=function(t){var e=t["content-type"]||"";this.type=r.type(e);var i=r.params(e);for(var n in i)this[n]=i[n];this.links={};try{t.link&&(this.links=r.parseLinks(t.link))}catch(t){}},n.prototype._setStatusProperties=function(t){var e=t/100|0;this.status=this.statusCode=t,this.statusType=e,this.info=1==e,this.ok=2==e,this.redirect=3==e,this.clientError=4==e,this.serverError=5==e,this.error=(4==e||5==e)&&this.toError(),this.accepted=202==t,this.noContent=204==t,this.badRequest=400==t,this.unauthorized=401==t,this.notAcceptable=406==t,this.forbidden=403==t,this.notFound=404==t}},function(t,e,i){e.type=function(t){return t.split(/ *; */).shift()},e.params=function(t){return t.split(/ *; */).reduce(function(t,e){var i=e.split(/ *= */),n=i.shift(),r=i.shift();return n&&r&&(t[n]=r),t},{})},e.parseLinks=function(t){return t.split(/ *, */).reduce(function(t,e){var i=e.split(/ *; */),n=i[0].slice(1,-1);return t[i[1].split(/ *= */)[1].slice(1,-1)]=n,t},{})},e.cleanHeader=function(t,e){return delete t["content-type"],delete t["content-length"],delete t["transfer-encoding"],delete t.host,e&&delete t.cookie,t}},function(t,e){}])},"object"==q(o)&&"object"==q(t)?t.exports=r():(i=[],void 0!==(n="function"==typeof(e=r)?e.apply(o,i):e)&&(t.exports=n))}).call(o,e(18),e(19)(t))},function(t,e,i){"use strict";function n(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function o(e){if(h===setTimeout)return setTimeout(e,0);if((h===n||!h)&&setTimeout)return h=setTimeout,setTimeout(e,0);try{return h(e,0)}catch(t){try{return h.call(null,e,0)}catch(t){return h.call(this,e,0)}}}function s(){d&&p&&(d=!1,p.length?_=p.concat(_):m=-1,_.length&&a())}function a(){if(!d){var t=o(s);d=!0;for(var e=_.length;e;){for(p=_,_=[];++m<e;)p&&p[m].run();m=-1,e=_.length}p=null,d=!1,function(e){if(c===clearTimeout)return clearTimeout(e);if((c===r||!c)&&clearTimeout)return c=clearTimeout,clearTimeout(e);try{c(e)}catch(t){try{return c.call(null,e)}catch(t){return c.call(this,e)}}}(t)}}function l(t,e){this.fun=t,this.array=e}function u(){}var h,c,f=t.exports={};!function(){try{h="function"==typeof setTimeout?setTimeout:n}catch(t){h=n}try{c="function"==typeof clearTimeout?clearTimeout:r}catch(t){c=r}}();var p,_=[],d=!1,m=-1;f.nextTick=function(t){var e=new Array(arguments.length-1);if(1<arguments.length)for(var i=1;i<arguments.length;i++)e[i-1]=arguments[i];_.push(new l(t,e)),1!==_.length||d||o(a)},l.prototype.run=function(){this.fun.apply(null,this.array)},f.title="browser",f.browser=!0,f.env={},f.argv=[],f.version="",f.versions={},f.on=u,f.addListener=u,f.once=u,f.off=u,f.removeListener=u,f.removeAllListeners=u,f.emit=u,f.prependListener=u,f.prependOnceListener=u,f.listeners=function(t){return[]},f.binding=function(t){throw new Error("process.binding is not supported")},f.cwd=function(){return"/"},f.chdir=function(t){throw new Error("process.chdir is not supported")},f.umask=function(){return 0}},function(t,e,i){"use strict";t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e,i){"use strict";var n,r,h,o;"function"==typeof Symbol&&Symbol.iterator,function(s){function a(t,e,i,n){var r=s(i,e);r.addData(t),r.make(),n=n||0;var o=r.getModuleCount(),f=r.getModuleCount()+2*n;this.text=t,this.level=e,this.version=i,this.moduleCount=f,this.isDark=function(t,e){return e-=n,!((t-=n)<0||o<=t||e<0||o<=e)&&r.isDark(t,e)},this.addBlank=function(s,a,l,u){var h=this.isDark,c=1/f;this.isDark=function(t,e){var i=e*c,n=t*c,r=i+c,o=n+c;return h(t,e)&&(r<s||l<i||o<a||u<n)}}}function p(t,e,i,n,r){i=Math.max(1,i||1),n=Math.min(40,n||40);for(var o=i;o<=n;o+=1)try{return new a(t,e,o,r)}catch(t){}}function u(t,e,i,n,r,o,s,a){t.isDark(s,a)&&e.rect(n,r,o,o)}function h(t,e,i,n,r,o,s,a){var l,u,h,c,f,p,_,d,m,g,v,y,$,w,b,T,x,S,P,O=t.isDark,E=n+o,A=r+o,C=i.radius*o,L=s-1,I=s+1,M=a-1,R=a+1,D=O(s,a),k=O(L,M),N=O(L,a),F=O(L,R),U=O(s,R),B=O(I,R),j=O(I,a),G=O(I,M),z=O(s,M);D?(g=e,v=n,y=r,$=E,w=A,b=C,x=!N&&!U,S=!j&&!U,P=!j&&!z,(T=!N&&!z)?g.moveTo(v+b,y):g.moveTo(v,y),x?(g.lineTo($-b,y),g.arcTo($,y,$,w,b)):g.lineTo($,y),S?(g.lineTo($,w-b),g.arcTo($,w,v,w,b)):g.lineTo($,w),P?(g.lineTo(v+b,w),g.arcTo(v,w,v,y,b)):g.lineTo(v,w),T?(g.lineTo(v,y+b),g.arcTo(v,y,$,y,b)):g.lineTo(v,y)):(l=e,u=n,h=r,c=E,f=A,p=C,_=N&&U&&F,d=j&&U&&B,m=j&&z&&G,N&&z&&k&&(l.moveTo(u+p,h),l.lineTo(u,h),l.lineTo(u,h+p),l.arcTo(u,h,u+p,h,p)),_&&(l.moveTo(c-p,h),l.lineTo(c,h),l.lineTo(c,h+p),l.arcTo(c,h,c-p,h,p)),d&&(l.moveTo(c-p,f),l.lineTo(c,f),l.lineTo(c,f-p),l.arcTo(c,f,c-p,f,p)),m&&(l.moveTo(u+p,f),l.lineTo(u,f),l.lineTo(u,f-p),l.arcTo(u,f,u+p,f,p)))}function n(t,e){var i=p(e.text,e.ecLevel,e.minVersion,e.maxVersion,e.quiet);if(!i)return null;var n=m(t).data("qrcode",i),r=n[0].getContext("2d");return function(t,e,i){m(i.background).is("img")?e.drawImage(i.background,0,0,i.size,i.size):i.background&&(e.fillStyle=i.background,e.fillRect(i.left,i.top,i.size,i.size));var n,r,o,s,a,l,u,h,c,f,p,_,d=i.mode;1===d||2===d?function(t,e,i){var n=i.size,r="bold "+i.mSize*n+"px "+i.fontname,o=m("<canvas/>")[0].getContext("2d");o.font=r;var s=o.measureText(i.label).width,a=i.mSize,l=s/n,u=(1-l)*i.mPosX,h=(1-a)*i.mPosY,c=u+l,f=h+a;1===i.mode?t.addBlank(0,h-.01,n,f+.01):t.addBlank(u-.01,h-.01,c+.01,f+.01),e.fillStyle=i.fontcolor,e.font=r,e.fillText(i.label,u*n,h*n+.75*i.mSize*n)}(t,e,i):(3===d||4===d)&&(n=t,r=e,s=(o=i).size,a=o.image.naturalWidth||1,l=o.image.naturalHeight||1,p=(c=(1-(h=(u=o.mSize)*a/l))*o.mPosX)+h,_=(f=(1-u)*o.mPosY)+u,3===o.mode?n.addBlank(0,f-.01,s,_+.01):n.addBlank(c-.01,f-.01,p+.01,_+.01),r.drawImage(o.image,c*s,f*s,h*s,u*s))}(i,r,e),function(t,e,i){var n,r,o=t.moduleCount,s=i.size/o,a=u;for(c&&0<i.radius&&i.radius<=.5&&(a=h),e.beginPath(),n=0;n<o;n+=1)for(r=0;r<o;r+=1)a(t,e,i,i.left+r*s,i.top+n*s,s,n,r);if(m(i.fill).is("img")){e.strokeStyle="rgba(0,0,0,0.5)",e.lineWidth=2,e.stroke();var l=e.globalCompositeOperation;e.globalCompositeOperation="destination-out",e.fill(),e.globalCompositeOperation=l,e.clip(),e.drawImage(i.fill,0,0,i.size,i.size),e.restore()}else e.fillStyle=i.fill,e.fill()}(i,r,e),n}function r(t){return n(m("<canvas/>").attr("width",t.size).attr("height",t.size),t)}var t,m=jQuery,o=(t=document.createElement("canvas"),Boolean(t.getContext&&t.getContext("2d"))),c="[object Opera]"!==Object.prototype.toString.call(window.opera),e={render:"canvas",minVersion:1,maxVersion:40,ecLevel:"L",left:0,top:0,size:200,fill:"#000",background:null,text:"no text",radius:0,quiet:0,mode:0,mSize:.1,mPosX:.5,mPosY:.5,label:"no label",fontname:"sans",fontcolor:"#000",image:null};m.fn.qrcode=function(t){var i=m.extend({},e,t);return this.each(function(){var t,e;"canvas"===this.nodeName.toLowerCase()?n(this,i):m(this).append((t=i,o&&"canvas"===t.render?r(t):o&&"image"===t.render?(e=t,m("<img/>").attr("src",r(e)[0].toDataURL("image/png"))):function(t){var e=p(t.text,t.ecLevel,t.minVersion,t.maxVersion,t.quiet);if(!e)return null;var i,n,r=t.size,o=t.background,s=Math.floor,a=e.moduleCount,l=s(r/a),u=s(.5*(r-l*a)),h={position:"relative",left:0,top:0,padding:0,margin:0,width:r,height:r},c={position:"absolute",padding:0,margin:0,width:l,height:l,"background-color":t.fill},f=m("<div/>").data("qrcode",e).css(h);for(o&&f.css("background-color",o),i=0;i<a;i+=1)for(n=0;n<a;n+=1)e.isDark(i,n)&&m("<div/>").css(c).css({left:u+n*l,top:u+i*l}).appendTo(f);return f}(t)))})}}((o=function(){function g(n,r){if(void 0===n.length)throw new Error(n.length+"/"+r);var e=function(){for(var t=0;t<n.length&&0==n[t];)t+=1;for(var e=new Array(n.length-t+r),i=0;i<n.length-t;i+=1)e[i]=n[i+t];return e}(),o={getAt:function(t){return e[t]},getLength:function(){return e.length},multiply:function(t){for(var e=new Array(o.getLength()+t.getLength()-1),i=0;i<o.getLength();i+=1)for(var n=0;n<t.getLength();n+=1)e[i+n]^=s.gexp(s.glog(o.getAt(i))+s.glog(t.getAt(n)));return g(e,0)},mod:function(t){if(o.getLength()-t.getLength()<0)return o;for(var e=s.glog(o.getAt(0))-s.glog(t.getAt(0)),i=new Array(o.getLength()),n=0;n<o.getLength();n+=1)i[n]=o.getAt(n);for(n=0;n<t.getLength();n+=1)i[n]^=s.gexp(s.glog(t.getAt(n))+e);return g(i,0).mod(t)}};return o}var e=function(t,e){var a=t,s=v[e],h=null,c=0,i=null,n=new Array,l={},r=function(t,e){h=function(t){for(var e=new Array(t),i=0;i<t;i+=1){e[i]=new Array(t);for(var n=0;n<t;n+=1)e[i][n]=null}return e}(c=4*a+17),o(0,0),o(c-7,0),o(0,c-7),f(),u(),_(t,e),7<=a&&p(t),null==i&&(i=m(a,s,n)),d(i,e)},o=function(t,e){for(var i=-1;i<=7;i+=1)if(!(t+i<=-1||c<=t+i))for(var n=-1;n<=7;n+=1)e+n<=-1||c<=e+n||(h[t+i][e+n]=0<=i&&i<=6&&(0==n||6==n)||0<=n&&n<=6&&(0==i||6==i)||2<=i&&i<=4&&2<=n&&n<=4)},u=function(){for(var t=8;t<c-8;t+=1)null==h[t][6]&&(h[t][6]=t%2==0);for(var e=8;e<c-8;e+=1)null==h[6][e]&&(h[6][e]=e%2==0)},f=function(){for(var t=y.getPatternPosition(a),e=0;e<t.length;e+=1)for(var i=0;i<t.length;i+=1){var n=t[e],r=t[i];if(null==h[n][r])for(var o=-2;o<=2;o+=1)for(var s=-2;s<=2;s+=1)h[n+o][r+s]=-2==o||2==o||-2==s||2==s||0==o&&0==s}},p=function(t){for(var e=y.getBCHTypeNumber(a),i=0;i<18;i+=1){var n=!t&&1==(e>>i&1);h[Math.floor(i/3)][i%3+c-8-3]=n}for(i=0;i<18;i+=1)n=!t&&1==(e>>i&1),h[i%3+c-8-3][Math.floor(i/3)]=n},_=function(t,e){for(var i=s<<3|e,n=y.getBCHTypeInfo(i),r=0;r<15;r+=1){var o=!t&&1==(n>>r&1);r<6?h[r][8]=o:r<8?h[r+1][8]=o:h[c-15+r][8]=o}for(r=0;r<15;r+=1)o=!t&&1==(n>>r&1),r<8?h[8][c-r-1]=o:r<9?h[8][15-r-1+1]=o:h[8][15-r-1]=o;h[c-8][8]=!t},d=function(t,e){for(var i=-1,n=c-1,r=7,o=0,s=y.getMaskFunction(e),a=c-1;0<a;a-=2)for(6==a&&(a-=1);;){for(var l=0;l<2;l+=1)if(null==h[n][a-l]){var u=!1;o<t.length&&(u=1==(t[o]>>>r&1)),s(n,a-l)&&(u=!u),h[n][a-l]=u,-1==(r-=1)&&(o+=1,r=7)}if((n+=i)<0||c<=n){n-=i,i=-i;break}}},m=function(t,e,i){for(var n=$.getRSBlocks(t,e),r=w(),o=0;o<i.length;o+=1){var s=i[o];r.put(s.getMode(),4),r.put(s.getLength(),y.getLengthInBits(s.getMode(),t)),s.write(r)}var a=0;for(o=0;o<n.length;o+=1)a+=n[o].dataCount;if(r.getLengthInBits()>8*a)throw new Error("code length overflow. ("+r.getLengthInBits()+">"+8*a+")");for(r.getLengthInBits()+4<=8*a&&r.put(0,4);r.getLengthInBits()%8!=0;)r.putBit(!1);for(;!(r.getLengthInBits()>=8*a||(r.put(236,8),r.getLengthInBits()>=8*a));)r.put(17,8);return function(t,e){for(var i=0,n=0,r=0,o=new Array(e.length),s=new Array(e.length),a=0;a<e.length;a+=1){var l=e[a].dataCount,u=e[a].totalCount-l;n=Math.max(n,l),r=Math.max(r,u),o[a]=new Array(l);for(var h=0;h<o[a].length;h+=1)o[a][h]=255&t.getBuffer()[h+i];i+=l;var c=y.getErrorCorrectPolynomial(u),f=g(o[a],c.getLength()-1).mod(c);for(s[a]=new Array(c.getLength()-1),h=0;h<s[a].length;h+=1){var p=h+f.getLength()-s[a].length;s[a][h]=0<=p?f.getAt(p):0}}var _=0;for(h=0;h<e.length;h+=1)_+=e[h].totalCount;var d=new Array(_),m=0;for(h=0;h<n;h+=1)for(a=0;a<e.length;a+=1)h<o[a].length&&(d[m]=o[a][h],m+=1);for(h=0;h<r;h+=1)for(a=0;a<e.length;a+=1)h<s[a].length&&(d[m]=s[a][h],m+=1);return d}(r,n)};return l.addData=function(t){var e=b(t);n.push(e),i=null},l.isDark=function(t,e){if(t<0||c<=t||e<0||c<=e)throw new Error(t+","+e);return h[t][e]},l.getModuleCount=function(){return c},l.make=function(){r(!1,function(){for(var t=0,e=0,i=0;i<8;i+=1){r(!0,i);var n=y.getLostPoint(l);(0==i||n<t)&&(t=n,e=i)}return e}())},l.createTableTag=function(t,e){t=t||2;var i="";i+='<table style="',i+=" border-width: 0px; border-style: none;",i+=" border-collapse: collapse;",i+=" padding: 0px; margin: "+(e=void 0===e?4*t:e)+"px;",i+='">',i+="<tbody>";for(var n=0;n<l.getModuleCount();n+=1){i+="<tr>";for(var r=0;r<l.getModuleCount();r+=1)i+='<td style="',i+=" border-width: 0px; border-style: none;",i+=" border-collapse: collapse;",i+=" padding: 0px; margin: 0px;",i+=" width: "+t+"px;",i+=" height: "+t+"px;",i+=" background-color: ",i+=l.isDark(n,r)?"#000000":"#ffffff",i+=";",i+='"/>';i+="</tr>"}return(i+="</tbody>")+"</table>"},l.createImgTag=function(r,t){r=r||2,t=void 0===t?4*r:t;var e=l.getModuleCount()*r+2*t,o=t,s=e-t;return T(e,e,function(t,e){if(o<=t&&t<s&&o<=e&&e<s){var i=Math.floor((t-o)/r),n=Math.floor((e-o)/r);return l.isDark(n,i)?0:1}return 1})},l};e.stringToBytes=function(t){for(var e=new Array,i=0;i<t.length;i+=1){var n=t.charCodeAt(i);e.push(255&n)}return e},e.createStringToBytes=function(a,l){var o=function(){for(var e=u(a),t=function(){var t=e.read();if(-1==t)throw new Error;return t},i=0,n={};;){var r=e.read();if(-1==r)break;var o=t(),s=t()<<8|t();n[String.fromCharCode(r<<8|o)]=s,i+=1}if(i!=l)throw new Error(i+" != "+l);return n}(),s="?".charCodeAt(0);return function(t){for(var e=new Array,i=0;i<t.length;i+=1){var n=t.charCodeAt(i);if(n<128)e.push(n);else{var r=o[t.charAt(i)];"number"==typeof r?(255&r)==r?e.push(r):(e.push(r>>>8),e.push(255&r)):e.push(s)}}return e}};var f,t,i,n,r,v={L:1,M:0,Q:3,H:2},y=(i=[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],r=function(t){for(var e=0;0!=t;)e+=1,t>>>=1;return e},(n={}).getBCHTypeInfo=function(t){for(var e=t<<10;0<=r(e)-r(1335);)e^=1335<<r(e)-r(1335);return 21522^(t<<10|e)},n.getBCHTypeNumber=function(t){for(var e=t<<12;0<=r(e)-r(7973);)e^=7973<<r(e)-r(7973);return t<<12|e},n.getPatternPosition=function(t){return i[t-1]},n.getMaskFunction=function(t){switch(t){case 0:return function(t,e){return(t+e)%2==0};case 1:return function(t,e){return t%2==0};case 2:return function(t,e){return e%3==0};case 3:return function(t,e){return(t+e)%3==0};case 4:return function(t,e){return(Math.floor(t/2)+Math.floor(e/3))%2==0};case 5:return function(t,e){return t*e%2+t*e%3==0};case 6:return function(t,e){return(t*e%2+t*e%3)%2==0};case 7:return function(t,e){return(t*e%3+(t+e)%2)%2==0};default:throw new Error("bad maskPattern:"+t)}},n.getErrorCorrectPolynomial=function(t){for(var e=g([1],0),i=0;i<t;i+=1)e=e.multiply(g([1,s.gexp(i)],0));return e},n.getLengthInBits=function(t,e){if(1<=e&&e<10)switch(t){case 1:return 10;case 2:return 9;case 4:case 8:return 8;default:throw new Error("mode:"+t)}else if(e<27)switch(t){case 1:return 12;case 2:return 11;case 4:return 16;case 8:return 10;default:throw new Error("mode:"+t)}else{if(!(e<41))throw new Error("type:"+e);switch(t){case 1:return 14;case 2:return 13;case 4:return 16;case 8:return 12;default:throw new Error("mode:"+t)}}},n.getLostPoint=function(t){for(var e=t.getModuleCount(),i=0,n=0;n<e;n+=1)for(var r=0;r<e;r+=1){for(var o=0,s=t.isDark(n,r),a=-1;a<=1;a+=1)if(!(n+a<0||e<=n+a))for(var l=-1;l<=1;l+=1)r+l<0||e<=r+l||(0!=a||0!=l)&&s==t.isDark(n+a,r+l)&&(o+=1);5<o&&(i+=3+o-5)}for(n=0;n<e-1;n+=1)for(r=0;r<e-1;r+=1){var u=0;t.isDark(n,r)&&(u+=1),t.isDark(n+1,r)&&(u+=1),t.isDark(n,r+1)&&(u+=1),t.isDark(n+1,r+1)&&(u+=1),(0==u||4==u)&&(i+=3)}for(n=0;n<e;n+=1)for(r=0;r<e-6;r+=1)t.isDark(n,r)&&!t.isDark(n,r+1)&&t.isDark(n,r+2)&&t.isDark(n,r+3)&&t.isDark(n,r+4)&&!t.isDark(n,r+5)&&t.isDark(n,r+6)&&(i+=40);for(r=0;r<e;r+=1)for(n=0;n<e-6;n+=1)t.isDark(n,r)&&!t.isDark(n+1,r)&&t.isDark(n+2,r)&&t.isDark(n+3,r)&&t.isDark(n+4,r)&&!t.isDark(n+5,r)&&t.isDark(n+6,r)&&(i+=40);var h=0;for(r=0;r<e;r+=1)for(n=0;n<e;n+=1)t.isDark(n,r)&&(h+=1);return i+Math.abs(100*h/e/e-50)/5*10},n),s=function(){for(var e=new Array(256),i=new Array(256),t=0;t<8;t+=1)e[t]=1<<t;for(t=8;t<256;t+=1)e[t]=e[t-4]^e[t-5]^e[t-6]^e[t-8];for(t=0;t<255;t+=1)i[e[t]]=t;return{glog:function(t){if(t<1)throw new Error("glog("+t+")");return i[t]},gexp:function(t){for(;t<0;)t+=255;for(;256<=t;)t-=255;return e[t]}}}(),$=(f=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12,7,37,13],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],(t={}).getRSBlocks=function(t,i){var e,n,r=function(t,e){switch(i){case v.L:return f[4*(t-1)+0];case v.M:return f[4*(t-1)+1];case v.Q:return f[4*(t-1)+2];case v.H:return f[4*(t-1)+3];default:return}}(t);if(void 0===r)throw new Error("bad rs block @ typeNumber:"+t+"/errorCorrectLevel:"+i);for(var o=r.length/3,s=new Array,a=0;a<o;a+=1)for(var l=r[3*a+0],u=r[3*a+1],h=r[3*a+2],c=0;c<l;c+=1)s.push((e=h,n=void 0,(n={}).totalCount=u,n.dataCount=e,n));return s},t),w=function(){var i=new Array,n=0,r={getBuffer:function(){return i},getAt:function(t){var e=Math.floor(t/8);return 1==(i[e]>>>7-t%8&1)},put:function(t,e){for(var i=0;i<e;i+=1)r.putBit(1==(t>>>e-i-1&1))},getLengthInBits:function(){return n},putBit:function(t){var e=Math.floor(n/8);i.length<=e&&i.push(0),t&&(i[e]|=128>>>n%8),n+=1}};return r},b=function(t){var i=e.stringToBytes(t);return{getMode:function(){return 4},getLength:function(t){return i.length},write:function(t){for(var e=0;e<i.length;e+=1)t.put(i[e],8)}}},m=function(){var i=new Array,r={writeByte:function(t){i.push(255&t)},writeShort:function(t){r.writeByte(t),r.writeByte(t>>>8)},writeBytes:function(t,e,i){e=e||0,i=i||t.length;for(var n=0;n<i;n+=1)r.writeByte(t[n+e])},writeString:function(t){for(var e=0;e<t.length;e+=1)r.writeByte(t.charCodeAt(e))},toByteArray:function(){return i},toString:function(){var t="";t+="[";for(var e=0;e<i.length;e+=1)0<e&&(t+=","),t+=i[e];return t+"]"}};return r},u=function(t){var i=t,n=0,r=0,o=0,e={read:function(){for(;o<8;){if(n>=i.length){if(0==o)return-1;throw new Error("unexpected end of file./"+o)}var t=i.charAt(n);if(n+=1,"="==t)return o=0,-1;t.match(/^\s$/)||(r=r<<6|s(t.charCodeAt(0)),o+=6)}var e=r>>>o-8&255;return o-=8,e}},s=function(t){if(65<=t&&t<=90)return t-65;if(97<=t&&t<=122)return t-97+26;if(48<=t&&t<=57)return t-48+52;if(43==t)return 62;if(47==t)return 63;throw new Error("c:"+t)};return e},T=function(t,e,i,n){for(var r=function(t,e){var n=t,r=e,_=new Array(t*e),i={setPixel:function(t,e,i){_[e*n+t]=i},write:function(t){t.writeString("GIF87a"),t.writeShort(n),t.writeShort(r),t.writeByte(128),t.writeByte(0),t.writeByte(0),t.writeByte(0),t.writeByte(0),t.writeByte(0),t.writeByte(255),t.writeByte(255),t.writeByte(255),t.writeString(","),t.writeShort(0),t.writeShort(0),t.writeShort(n),t.writeShort(r),t.writeByte(0);var e=o(2);t.writeByte(2);for(var i=0;255<e.length-i;)t.writeByte(255),t.writeBytes(e,i,255),i+=255;t.writeByte(e.length-i),t.writeBytes(e,i,e.length-i),t.writeByte(0),t.writeString(";")}},o=function(t){for(var e=1<<t,i=1+(1<<t),n=t+1,r=d(),o=0;o<e;o+=1)r.add(String.fromCharCode(o));r.add(String.fromCharCode(e)),r.add(String.fromCharCode(i));var s,a,l,u=m(),h=(s=u,l=a=0,{write:function(t,e){if(t>>>e!=0)throw new Error("length over");for(;8<=a+e;)s.writeByte(255&(t<<a|l)),e-=8-a,t>>>=8-a,a=l=0;l|=t<<a,a+=e},flush:function(){0<a&&s.writeByte(l)}});h.write(e,n);var c=0,f=String.fromCharCode(_[c]);for(c+=1;c<_.length;){var p=String.fromCharCode(_[c]);c+=1,r.contains(f+p)?f+=p:(h.write(r.indexOf(f),n),r.size()<4095&&(r.size()==1<<n&&(n+=1),r.add(f+p)),f=p)}return h.write(r.indexOf(f),n),h.write(i,n),h.flush(),u.toByteArray()},d=function(){var e={},i=0,n={add:function(t){if(n.contains(t))throw new Error("dup key:"+t);e[t]=i,i+=1},size:function(){return i},indexOf:function(t){return e[t]},contains:function(t){return void 0!==e[t]}};return n};return i}(t,e),o=0;o<e;o+=1)for(var s=0;s<t;s+=1)r.setPixel(s,o,i(s,o));var a=m();r.write(a);for(var l=function(){var i=0,n=0,r=0,o="",t={},s=function(t){o+=String.fromCharCode(e(63&t))},e=function(t){if(t<0);else{if(t<26)return 65+t;if(t<52)return t-26+97;if(t<62)return t-52+48;if(62==t)return 43;if(63==t)return 47}throw new Error("n:"+t)};return t.writeByte=function(t){for(i=i<<8|255&t,n+=8,r+=1;6<=n;)s(i>>>n-6),n-=6},t.flush=function(){if(0<n&&(s(i<<6-n),n=i=0),r%3!=0)for(var t=3-r%3,e=0;e<t;e+=1)o+="="},t.toString=function(){return o},t}(),u=a.toByteArray(),h=0;h<u.length;h+=1)l.writeByte(u[h]);l.flush();var c="";return c+="<img",c+=' src="',c+="data:image/gif;base64,",c+=l,c+='"',c+=' width="',c+=t,c+='"',c+=' height="',c+=e,c+='"',n&&(c+=' alt="',c+=n,c+='"'),c+"/>"};return e}(),void 0!==(r="function"==typeof(n=function(){return o})?n.apply(e,[]):n)&&(t.exports=r),o.stringToBytes=function(t){return function(t){for(var e=[],i=0;i<t.length;i++){var n=t.charCodeAt(i);n<128?e.push(n):n<2048?e.push(192|n>>6,128|63&n):n<55296||57344<=n?e.push(224|n>>12,128|n>>6&63,128|63&n):(i++,n=65536+((1023&n)<<10|1023&t.charCodeAt(i)),e.push(240|n>>18,128|n>>12&63,128|n>>6&63,128|63&n))}return e}(t)},o)),(h=jQuery).fn.share=function(t){var e=h(document.head),i={url:location.href,site_url:location.origin,source:e.find("[name=site], [name=Site]").attr("content")||document.title,title:e.find("[name=title], [name=Title]").attr("content")||document.title,description:e.find("[name=description], [name=Description]").attr("content")||"",image:h("img:first").prop("src")||"",imageSelector:void 0,weiboKey:"",wechatQrcodeTitle:"微信扫一扫：分享",wechatQrcodeHelper:"<p>微信里点“发现”，扫一下</p><p>二维码便可将本文分享至朋友圈。</p>",wechatQrcodeSize:100,mobileSites:[],sites:["weibo","qq","wechat","tencent","douban","qzone","linkedin","diandian","facebook","twitter","google"],disabled:[],initialized:!1},a=h.extend({},i,t),l={qzone:"http://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_onekey?url={{URL}}&title={{TITLE}}&desc={{DESCRIPTION}}&summary={{SUMMARY}}&site={{SOURCE}}",qq:"http://connect.qq.com/widget/shareqq/index.html?url={{URL}}&title={{TITLE}}&source={{SOURCE}}&desc={{DESCRIPTION}}&pics={{IMAGE}}",tencent:"http://share.v.t.qq.com/index.php?c=share&a=index&title={{TITLE}}&url={{URL}}&pic={{IMAGE}}",weibo:"http://service.weibo.com/share/share.php?url={{URL}}&title={{TITLE}}&pic={{IMAGE}}&appkey={{WEIBOKEY}}",wechat:"javascript:;",douban:"http://shuo.douban.com/!service/share?href={{URL}}&name={{TITLE}}&text={{DESCRIPTION}}&image={{IMAGE}}&starid=0&aid=0&style=11",diandian:"http://www.diandian.com/share?lo={{URL}}&ti={{TITLE}}&type=link",linkedin:"http://www.linkedin.com/shareArticle?mini=true&ro=true&title={{TITLE}}&url={{URL}}&summary={{SUMMARY}}&source={{SOURCE}}&armin=armin",facebook:"https://www.facebook.com/sharer/sharer.php?u={{URL}}",twitter:"https://twitter.com/intent/tweet?text={{TITLE}}&url={{URL}}&via={{SITE_URL}}",google:"https://plus.google.com/share?url={{URL}}"},u={qzone:"QQ空间",qq:"QQ",tencent:"腾讯微博",weibo:"微博",wechat:"微信",douban:"豆瓣",diandian:"点点",linkedin:"LinkedIn",facebook:"Facebook",twitter:"Twitter",google:"Google"};this.each(function(){if(h(this).data("initialized"))return!0;var t=h.extend({},a,h(this).data());t.imageSelector&&(t.image=h(t.imageSelector).map(function(){return h(this).prop("src")}).get().join("||"));var e,i,r,o,n,s=h(this).addClass("share-component social-share");r=s,n=function(t){0===t.mobileSites.length&&t.sites.length&&(t.mobileSites=t.sites);var n=(h(window).width()<=768?t.mobileSites:t.sites.length?t.sites:[]).slice(0),e=t.disabled;return"string"==typeof n&&(n=n.split(/\s*,\s*/)),"string"==typeof e&&(e=e.split(/\s*,\s*/)),/MicroMessenger/i.test(navigator.userAgent)&&e.push("wechat"),e.length&&h.each(e,function(t,e){var i=h.inArray(e,n);-1!==i&&n.splice(i,1)}),n}(o=t),"prepend"==o.mode&&n.reverse(),n.length&&h.each(n,function(t,e){var i=function(t,e){var i=l[t];for(var n in e.summary=e.description,e)if(e.hasOwnProperty(n)){var r=t+n.replace(/^[a-z]/,function(t){return t.toUpperCase()}),o=encodeURIComponent(void 0===e[r]?e[n]:e[r]);i=i.replace(new RegExp("{{"+n.toUpperCase()+"}}","g"),o)}return i}(e,o),n=o.initialized?r.find(".icon-"+e):h('<a class="social-share-icon icon-'+e+'"></a>');return!n.length||(n.prop("aria-label","分享到 "+u[e]),n.prop("href",i),"wechat"===e?n.prop("tabindex",-1):n.prop("target","_blank"),void(o.initialized||("prepend"==o.mode?r.prepend(n):r.append(n))))}),e=t,(i=s.find("a.icon-wechat")).length&&(i.append('<div class="wechat-qrcode"><h4>'+e.wechatQrcodeTitle+'</h4><div class="qrcode"></div><div class="help">'+e.wechatQrcodeHelper+"</div></div>"),i.find(".qrcode").qrcode({render:"image",size:e.wechatQrcodeSize,text:e.url}),i.offset().top<100&&i.find(".wechat-qrcode").addClass("bottom")),h(this).data("initialized",!0)})},h(function(){h(".share-component,.social-share").share()})},function(t,e,i){"use strict";var n=i(22);if(!NexT.utils.isMobile()){new n($(".site-nav")[0],{tolerance:5,offset:205,classes:{initial:"head-animated",pinned:"slideDown",unpinned:"slideUp"}}).init(),$.scrollto=function(t,e){$(t).click(function(){return $(this).addClass("active").siblings().removeClass("active"),$("html, body").animate({scrollTop:$("body").offset().top},e),!1})};var r=$(".back-to-top"),o=$(window).height()-980+"px";$(window).scroll(function(){700<$(window).scrollTop()&&"-900px"===r.css("top")?r.css("top",o):$(window).scrollTop()<=700&&"-900px"!==r.css("top")&&r.css("top","-900px")}),$.scrollto(".back-to-top",800)}},function(t,e,i){"use strict";var n,r,a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};void 0!==(r="function"==typeof(n=function(){function t(t){this.callback=t,this.ticking=!1}function n(t,e){var i;e=function t(e){if(arguments.length<=0)throw new Error("Missing arguments in extend function");var i,n,r,o=e||{};for(n=1;n<arguments.length;n++){var s=arguments[n]||{};for(i in s)"object"!==a(o[i])||(r=o[i])&&"undefined"!=typeof window&&(r===window||r.nodeType)?o[i]=o[i]||s[i]:o[i]=t(o[i],s[i])}return o}(e,n.options),this.lastKnownScrollY=0,this.elem=t,this.tolerance=(i=e.tolerance)===Object(i)?i:{down:i,up:i},this.classes=e.classes,this.offset=e.offset,this.scroller=e.scroller,this.initialised=!1,this.onPin=e.onPin,this.onUnpin=e.onUnpin,this.onTop=e.onTop,this.onNotTop=e.onNotTop,this.onBottom=e.onBottom,this.onNotBottom=e.onNotBottom}var e={bind:!!function(){}.bind,classList:"classList"in document.documentElement,rAF:!!(window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame)};return window.requestAnimationFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame,t.prototype={constructor:t,update:function(){this.callback&&this.callback(),this.ticking=!1},requestTick:function(){this.ticking||(requestAnimationFrame(this.rafCallback||(this.rafCallback=this.update.bind(this))),this.ticking=!0)},handleEvent:function(){this.requestTick()}},n.prototype={constructor:n,init:function(){if(n.cutsTheMustard)return this.debouncer=new t(this.update.bind(this)),this.elem.classList.add(this.classes.initial),setTimeout(this.attachEvent.bind(this),100),this},destroy:function(){var t=this.classes;for(var e in this.initialised=!1,t)t.hasOwnProperty(e)&&this.elem.classList.remove(t[e]);this.scroller.removeEventListener("scroll",this.debouncer,!1)},attachEvent:function(){this.initialised||(this.lastKnownScrollY=this.getScrollY(),this.initialised=!0,this.scroller.addEventListener("scroll",this.debouncer,!1),this.debouncer.handleEvent())},unpin:function(){var t=this.elem.classList,e=this.classes;!t.contains(e.pinned)&&t.contains(e.unpinned)||(t.add(e.unpinned),t.remove(e.pinned),this.onUnpin&&this.onUnpin.call(this))},pin:function(){var t=this.elem.classList,e=this.classes;t.contains(e.unpinned)&&(t.remove(e.unpinned),t.add(e.pinned),this.onPin&&this.onPin.call(this))},top:function(){var t=this.elem.classList,e=this.classes;t.contains(e.top)||(t.add(e.top),t.remove(e.notTop),this.onTop&&this.onTop.call(this))},notTop:function(){var t=this.elem.classList,e=this.classes;t.contains(e.notTop)||(t.add(e.notTop),t.remove(e.top),this.onNotTop&&this.onNotTop.call(this))},bottom:function(){var t=this.elem.classList,e=this.classes;t.contains(e.bottom)||(t.add(e.bottom),t.remove(e.notBottom),this.onBottom&&this.onBottom.call(this))},notBottom:function(){var t=this.elem.classList,e=this.classes;t.contains(e.notBottom)||(t.add(e.notBottom),t.remove(e.bottom),this.onNotBottom&&this.onNotBottom.call(this))},getScrollY:function(){return void 0!==this.scroller.pageYOffset?this.scroller.pageYOffset:void 0!==this.scroller.scrollTop?this.scroller.scrollTop:(document.documentElement||document.body.parentNode||document.body).scrollTop},getViewportHeight:function(){return window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight},getElementPhysicalHeight:function(t){return Math.max(t.offsetHeight,t.clientHeight)},getScrollerPhysicalHeight:function(){return this.scroller===window||this.scroller===document.body?this.getViewportHeight():this.getElementPhysicalHeight(this.scroller)},getDocumentHeight:function(){var t=document.body,e=document.documentElement;return Math.max(t.scrollHeight,e.scrollHeight,t.offsetHeight,e.offsetHeight,t.clientHeight,e.clientHeight)},getElementHeight:function(t){return Math.max(t.scrollHeight,t.offsetHeight,t.clientHeight)},getScrollerHeight:function(){return this.scroller===window||this.scroller===document.body?this.getDocumentHeight():this.getElementHeight(this.scroller)},isOutOfBounds:function(t){var e=t<0,i=t+this.getScrollerPhysicalHeight()>this.getScrollerHeight();return e||i},toleranceExceeded:function(t,e){return Math.abs(t-this.lastKnownScrollY)>=this.tolerance[e]},shouldUnpin:function(t,e){var i=t>this.lastKnownScrollY,n=t>=this.offset;return i&&n&&e},shouldPin:function(t,e){var i=t<this.lastKnownScrollY,n=t<=this.offset;return i&&e||n},update:function(){var t=this.getScrollY(),e=t>this.lastKnownScrollY?"down":"up",i=this.toleranceExceeded(t,e);this.isOutOfBounds(t)||(t<=this.offset?this.top():this.notTop(),t+this.getViewportHeight()>=this.getScrollerHeight()?this.bottom():this.notBottom(),this.shouldUnpin(t,i)?this.unpin():this.shouldPin(t,i)&&this.pin(),this.lastKnownScrollY=t)}},n.options={tolerance:{up:0,down:0},offset:0,scroller:window,classes:{pinned:"headroom--pinned",unpinned:"headroom--unpinned",top:"headroom--top",notTop:"headroom--not-top",bottom:"headroom--bottom",notBottom:"headroom--not-bottom",initial:"headroom"}},n.cutsTheMustard=void 0!==e&&e.rAF&&e.bind&&e.classList,n})?n.apply(e,[]):n)&&(t.exports=r)},function(t,e,i){"use strict";!function t(){window.setTimeout(function(){t()},1e3);var e=new Date(window.CONFIG.since),i=((new Date).getTime()-e.getTime())/864e5,n=Math.floor(i),r=24*(i-n),o=Math.floor(r),s=60*(r-o),a=Math.floor(60*(r-o)),l=Math.floor(60*(s-a));$("#since").html(n+"天"+o+"小时"+a+"分"+l+"秒")}()},function(t,e,i){"use strict";if(window.CONFIG.favicon.visibilitychange){var n,r=document.title;document.addEventListener("visibilitychange",function(){document.hidden?($('[rel="icon"]').attr("href",window.CONFIG.favicon.hidden),document.title=window.CONFIG.favicon.hide_text,clearTimeout(n)):($('[rel="icon"]').attr("href",window.CONFIG.favicon.narmal),document.title=window.CONFIG.favicon.show_text+r,n=setTimeout(function(){document.title=r},2e3))})}},function(t,e,i){"use strict";var n=i(26).TweenLite,r=document.getElementById("animate"),o=document.getElementById("guide"),s=o.getElementsByTagName("span"),a=r.getElementsByTagName("span"),l=s.length,u=function(t){setTimeout(function(){n.fromTo(a[t],.4,{opacity:0,y:40},{opacity:1,y:0,ease:Power3.easeOut}),n.fromTo(a[t],.4,{scale:0},{scale:1,ease:Back.easeOut})},200*t)},h=function(t,e){t.style.fontSize=e+"px",t.style.height=e+"px",t.style.lineHeight=e+"px"},c=function(){var t=window.innerWidth/9;100<t&&(t=100),h(r,t),h(o,t),function(){for(var t=0;t<l;t++){var e=s[t],i=a[t],n=e.getBoundingClientRect();i.style.left=n.left+"px"}}()};setTimeout(function(){c(),function(){for(var t=0;t<l;t++)u(t)}(),window.addEventListener("resize",c)},100)},function(nt,rt,t){"use strict";(function(t){var it,ie="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ne=void 0!==nt&&nt.exports&&void 0!==t?t:window;(ne._gsQueue||(ne._gsQueue=[])).push(function(){var t,l,e,T,w,b,x,g,i,v,S,y,$,p,_,m,n;ne._gsDefine("TweenMax",["core.Animation","core.SimpleTimeline","TweenLite"],function(n,h,v){var m=function(t){var e,i=[],n=t.length;for(e=0;e!==n;i.push(t[e++]));return i},g=function(t,e,i){var n,r,o=t.cycle;for(n in o)r=o[n],t[n]="function"==typeof r?r(i,e[i]):r[i%r.length];delete t.cycle},y=function t(e,i,n){v.call(this,e,i,n),this._cycle=0,this._yoyo=!0===this.vars.yoyo||!!this.vars.yoyoEase,this._repeat=this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||0,this._repeat&&this._uncache(!0),this.render=t.prototype.render},$=v._internals,w=$.isSelector,b=$.isArray,t=y.prototype=v.to({},.1,{}),T=[];y.version="1.20.3",t.constructor=y,t.kill()._gc=!1,y.killTweensOf=y.killDelayedCallsTo=v.killTweensOf,y.getTweensOf=v.getTweensOf,y.lagSmoothing=v.lagSmoothing,y.ticker=v.ticker,y.render=v.render,t.invalidate=function(){return this._yoyo=!0===this.vars.yoyo||!!this.vars.yoyoEase,this._repeat=this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||0,this._yoyoEase=null,this._uncache(!0),v.prototype.invalidate.call(this)},t.updateTo=function(t,e){var i,n=this.ratio,r=this.vars.immediateRender||t.immediateRender;for(i in e&&this._startTime<this._timeline._time&&(this._startTime=this._timeline._time,this._uncache(!1),this._gc?this._enabled(!0,!1):this._timeline.insert(this,this._startTime-this._delay)),t)this.vars[i]=t[i];if(this._initted||r)if(e)this._initted=!1,r&&this.render(0,!0,!0);else if(this._gc&&this._enabled(!0,!1),this._notifyPluginsOfEnabled&&this._firstPT&&v._onPluginEvent("_onDisable",this),.998<this._time/this._duration){var o=this._totalTime;this.render(0,!0,!1),this._initted=!1,this.render(o,!0,!1)}else if(this._initted=!1,this._init(),0<this._time||r)for(var s,a=1/(1-n),l=this._firstPT;l;)s=l.s+l.c,l.c*=a,l.s=s-l.c,l=l._next;return this},t.render=function(t,e,i){this._initted||0===this._duration&&this.vars.repeat&&this.invalidate();var n,r,o,s,a,l,u,h,c,f=this._dirty?this.totalDuration():this._totalDuration,p=this._time,_=this._totalTime,d=this._cycle,m=this._duration,g=this._rawPrevTime;if(f-1e-7<=t&&0<=t?(this._totalTime=f,this._cycle=this._repeat,this._yoyo&&0!=(1&this._cycle)?(this._time=0,this.ratio=this._ease._calcEnd?this._ease.getRatio(0):0):(this._time=m,this.ratio=this._ease._calcEnd?this._ease.getRatio(1):1),this._reversed||(n=!0,r="onComplete",i=i||this._timeline.autoRemoveChildren),0===m&&(this._initted||!this.vars.lazy||i)&&(this._startTime===this._timeline._duration&&(t=0),(g<0||t<=0&&-1e-7<=t||1e-10===g&&"isPause"!==this.data)&&g!==t&&(i=!0,1e-10<g&&(r="onReverseComplete")),this._rawPrevTime=h=!e||t||g===t?t:1e-10)):t<1e-7?(this._totalTime=this._time=this._cycle=0,this.ratio=this._ease._calcEnd?this._ease.getRatio(0):0,(0!==_||0===m&&0<g)&&(r="onReverseComplete",n=this._reversed),t<0&&(this._active=!1,0===m&&(this._initted||!this.vars.lazy||i)&&(0<=g&&(i=!0),this._rawPrevTime=h=!e||t||g===t?t:1e-10)),this._initted||(i=!0)):(this._totalTime=this._time=t,0!==this._repeat&&(s=m+this._repeatDelay,this._cycle=this._totalTime/s>>0,0!==this._cycle&&this._cycle===this._totalTime/s&&_<=t&&this._cycle--,this._time=this._totalTime-this._cycle*s,this._yoyo&&0!=(1&this._cycle)&&(this._time=m-this._time,(c=this._yoyoEase||this.vars.yoyoEase)&&(this._yoyoEase||(!0!==c||this._initted?this._yoyoEase=c=!0===c?this._ease:c instanceof Ease?c:Ease.map[c]:(c=this.vars.ease,this._yoyoEase=c=c?c instanceof Ease?c:"function"==typeof c?new Ease(c,this.vars.easeParams):Ease.map[c]||v.defaultEase:v.defaultEase)),this.ratio=c?1-c.getRatio((m-this._time)/m):0)),this._time>m?this._time=m:this._time<0&&(this._time=0)),this._easeType&&!c?(a=this._time/m,(1===(l=this._easeType)||3===l&&.5<=a)&&(a=1-a),3===l&&(a*=2),1===(u=this._easePower)?a*=a:2===u?a*=a*a:3===u?a*=a*a*a:4===u&&(a*=a*a*a*a),1===l?this.ratio=1-a:2===l?this.ratio=a:this._time/m<.5?this.ratio=a/2:this.ratio=1-a/2):c||(this.ratio=this._ease.getRatio(this._time/m))),p!==this._time||i||d!==this._cycle){if(!this._initted){if(this._init(),!this._initted||this._gc)return;if(!i&&this._firstPT&&(!1!==this.vars.lazy&&this._duration||this.vars.lazy&&!this._duration))return this._time=p,this._totalTime=_,this._rawPrevTime=g,this._cycle=d,$.lazyTweens.push(this),void(this._lazy=[t,e]);!this._time||n||c?n&&this._ease._calcEnd&&!c&&(this.ratio=this._ease.getRatio(0===this._time?0:1)):this.ratio=this._ease.getRatio(this._time/m)}for(!1!==this._lazy&&(this._lazy=!1),this._active||!this._paused&&this._time!==p&&0<=t&&(this._active=!0),0===_&&(2===this._initted&&0<t&&this._init(),this._startAt&&(0<=t?this._startAt.render(t,!0,i):r||(r="_dummyGS")),this.vars.onStart&&(0===this._totalTime&&0!==m||e||this._callback("onStart"))),o=this._firstPT;o;)o.f?o.t[o.p](o.c*this.ratio+o.s):o.t[o.p]=o.c*this.ratio+o.s,o=o._next;this._onUpdate&&(t<0&&this._startAt&&this._startTime&&this._startAt.render(t,!0,i),e||(this._totalTime!==_||r)&&this._callback("onUpdate")),this._cycle!==d&&(e||this._gc||this.vars.onRepeat&&this._callback("onRepeat")),r&&(this._gc&&!i||(t<0&&this._startAt&&!this._onUpdate&&this._startTime&&this._startAt.render(t,!0,i),n&&(this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!e&&this.vars[r]&&this._callback(r),0===m&&1e-10===this._rawPrevTime&&1e-10!==h&&(this._rawPrevTime=0)))}else _!==this._totalTime&&this._onUpdate&&(e||this._callback("onUpdate"))},y.to=function(t,e,i){return new y(t,e,i)},y.from=function(t,e,i){return i.runBackwards=!0,i.immediateRender=0!=i.immediateRender,new y(t,e,i)},y.fromTo=function(t,e,i,n){return n.startAt=i,n.immediateRender=0!=n.immediateRender&&0!=i.immediateRender,new y(t,e,n)},y.staggerTo=y.allTo=function(t,e,i,n,r,o,s){n=n||0;var a,l,u,h,c=0,f=[],p=function(){i.onComplete&&i.onComplete.apply(i.onCompleteScope||this,arguments),r.apply(s||i.callbackScope||this,o||T)},_=i.cycle,d=i.startAt&&i.startAt.cycle;for(b(t)||("string"==typeof t&&(t=v.selector(t)||t),w(t)&&(t=m(t))),t=t||[],n<0&&((t=m(t)).reverse(),n*=-1),a=t.length-1,u=0;u<=a;u++){for(h in l={},i)l[h]=i[h];if(_&&(g(l,t,u),null!=l.duration&&(e=l.duration,delete l.duration)),d){for(h in d=l.startAt={},i.startAt)d[h]=i.startAt[h];g(l.startAt,t,u)}l.delay=c+(l.delay||0),u===a&&r&&(l.onComplete=p),f[u]=new y(t[u],e,l),c+=n}return f},y.staggerFrom=y.allFrom=function(t,e,i,n,r,o,s){return i.runBackwards=!0,i.immediateRender=0!=i.immediateRender,y.staggerTo(t,e,i,n,r,o,s)},y.staggerFromTo=y.allFromTo=function(t,e,i,n,r,o,s,a){return n.startAt=i,n.immediateRender=0!=n.immediateRender&&0!=i.immediateRender,y.staggerTo(t,e,n,r,o,s,a)},y.delayedCall=function(t,e,i,n,r){return new y(e,0,{delay:t,onComplete:e,onCompleteParams:i,callbackScope:n,onReverseComplete:e,onReverseCompleteParams:i,immediateRender:!1,useFrames:r,overwrite:0})},y.set=function(t,e){return new y(t,0,e)},y.isTweening=function(t){return 0<v.getTweensOf(t,!0).length};var e=function t(e,i){for(var n=[],r=0,o=e._first;o;)o instanceof v?n[r++]=o:(i&&(n[r++]=o),r=(n=n.concat(t(o,i))).length),o=o._next;return n},c=y.getAllTweens=function(t){return e(n._rootTimeline,t).concat(e(n._rootFramesTimeline,t))};y.killAll=function(t,e,i,n){null==e&&(e=!0),null==i&&(i=!0);var r,o,s,a=c(0!=n),l=a.length,u=e&&i&&n;for(s=0;s<l;s++)o=a[s],(u||o instanceof h||(r=o.target===o.vars.onComplete)&&i||e&&!r)&&(t?o.totalTime(o._reversed?0:o.totalDuration()):o._enabled(!1,!1))},y.killChildTweensOf=function(t,e){if(null!=t){var i,n,r,o,s,a=$.tweenLookup;if("string"==typeof t&&(t=v.selector(t)||t),w(t)&&(t=m(t)),b(t))for(o=t.length;-1<--o;)y.killChildTweensOf(t[o],e);else{for(r in i=[],a)for(n=a[r].target.parentNode;n;)n===t&&(i=i.concat(a[r].tweens)),n=n.parentNode;for(s=i.length,o=0;o<s;o++)e&&i[o].totalTime(i[o].totalDuration()),i[o]._enabled(!1,!1)}}};var r=function(t,e,i,n){e=!1!==e,i=!1!==i;for(var r,o,s=c(n=!1!==n),a=e&&i&&n,l=s.length;-1<--l;)o=s[l],(a||o instanceof h||(r=o.target===o.vars.onComplete)&&i||e&&!r)&&o.paused(t)};return y.pauseAll=function(t,e,i){r(!0,t,e,i)},y.resumeAll=function(t,e,i){r(!1,t,e,i)},y.globalTimeScale=function(t){var e=n._rootTimeline,i=v.ticker.time;return arguments.length?(t=t||1e-10,e._startTime=i-(i-e._startTime)*e._timeScale/t,e=n._rootFramesTimeline,i=v.ticker.frame,e._startTime=i-(i-e._startTime)*e._timeScale/t,e._timeScale=n._rootTimeline._timeScale=t,t):e._timeScale},t.progress=function(t,e){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&0!=(1&this._cycle)?1-t:t)+this._cycle*(this._duration+this._repeatDelay),e):this._time/this.duration()},t.totalProgress=function(t,e){return arguments.length?this.totalTime(this.totalDuration()*t,e):this._totalTime/this.totalDuration()},t.time=function(t,e){return arguments.length?(this._dirty&&this.totalDuration(),t>this._duration&&(t=this._duration),this._yoyo&&0!=(1&this._cycle)?t=this._duration-t+this._cycle*(this._duration+this._repeatDelay):0!==this._repeat&&(t+=this._cycle*(this._duration+this._repeatDelay)),this.totalTime(t,e)):this._time},t.duration=function(t){return arguments.length?n.prototype.duration.call(this,t):this._duration},t.totalDuration=function(t){return arguments.length?-1===this._repeat?this:this.duration((t-this._repeat*this._repeatDelay)/(this._repeat+1)):(this._dirty&&(this._totalDuration=-1===this._repeat?999999999999:this._duration*(this._repeat+1)+this._repeatDelay*this._repeat,this._dirty=!1),this._totalDuration)},t.repeat=function(t){return arguments.length?(this._repeat=t,this._uncache(!0)):this._repeat},t.repeatDelay=function(t){return arguments.length?(this._repeatDelay=t,this._uncache(!0)):this._repeatDelay},t.yoyo=function(t){return arguments.length?(this._yoyo=t,this):this._yoyo},y},!0),ne._gsDefine("TimelineLite",["core.Animation","core.SimpleTimeline","TweenLite"],function(h,c,f){var p=function(t){c.call(this,t),this._labels={},this.autoRemoveChildren=!0===this.vars.autoRemoveChildren,this.smoothChildTiming=!0===this.vars.smoothChildTiming,this._sortChildren=!0,this._onUpdate=this.vars.onUpdate;var e,i,n=this.vars;for(i in n)e=n[i],d(e)&&-1!==e.join("").indexOf("{self}")&&(n[i]=this._swapSelfInParams(e));d(n.tweens)&&this.add(n.tweens,0,n.align,n.stagger)},t=f._internals,e=p._internals={},_=t.isSelector,d=t.isArray,m=t.lazyTweens,g=t.lazyRender,s=ne._gsDefine.globals,v=function(t){var e,i={};for(e in t)i[e]=t[e];return i},y=function(t,e,i){var n,r,o=t.cycle;for(n in o)r=o[n],t[n]="function"==typeof r?r(i,e[i]):r[i%r.length];delete t.cycle},o=e.pauseCallback=function(){},$=function(t){var e,i=[],n=t.length;for(e=0;e!==n;i.push(t[e++]));return i},i=p.prototype=new c;return p.version="1.20.3",i.constructor=p,i.kill()._gc=i._forcingPlayhead=i._hasPause=!1,i.to=function(t,e,i,n){var r=i.repeat&&s.TweenMax||f;return e?this.add(new r(t,e,i),n):this.set(t,i,n)},i.from=function(t,e,i,n){return this.add((i.repeat&&s.TweenMax||f).from(t,e,i),n)},i.fromTo=function(t,e,i,n,r){var o=n.repeat&&s.TweenMax||f;return e?this.add(o.fromTo(t,e,i,n),r):this.set(t,n,r)},i.staggerTo=function(t,e,i,n,r,o,s,a){var l,u,h=new p({onComplete:o,onCompleteParams:s,callbackScope:a,smoothChildTiming:this.smoothChildTiming}),c=i.cycle;for("string"==typeof t&&(t=f.selector(t)||t),_(t=t||[])&&(t=$(t)),(n=n||0)<0&&((t=$(t)).reverse(),n*=-1),u=0;u<t.length;u++)(l=v(i)).startAt&&(l.startAt=v(l.startAt),l.startAt.cycle&&y(l.startAt,t,u)),c&&(y(l,t,u),null!=l.duration&&(e=l.duration,delete l.duration)),h.to(t[u],e,l,u*n);return this.add(h,r)},i.staggerFrom=function(t,e,i,n,r,o,s,a){return i.immediateRender=0!=i.immediateRender,i.runBackwards=!0,this.staggerTo(t,e,i,n,r,o,s,a)},i.staggerFromTo=function(t,e,i,n,r,o,s,a,l){return n.startAt=i,n.immediateRender=0!=n.immediateRender&&0!=i.immediateRender,this.staggerTo(t,e,n,r,o,s,a,l)},i.call=function(t,e,i,n){return this.add(f.delayedCall(0,t,e,i),n)},i.set=function(t,e,i){return i=this._parseTimeOrLabel(i,0,!0),null==e.immediateRender&&(e.immediateRender=i===this._time&&!this._paused),this.add(new f(t,0,e),i)},p.exportRoot=function(t,e){null==(t=t||{}).smoothChildTiming&&(t.smoothChildTiming=!0);var i,n,r,o,s=new p(t),a=s._timeline;for(null==e&&(e=!0),a._remove(s,!0),s._startTime=0,s._rawPrevTime=s._time=s._totalTime=a._time,r=a._first;r;)o=r._next,e&&r instanceof f&&r.target===r.vars.onComplete||((n=r._startTime-r._delay)<0&&(i=1),s.add(r,n)),r=o;return a.add(s,0),i&&s.totalDuration(),s},i.add=function(t,e,i,n){var r,o,s,a,l,u;if("number"!=typeof e&&(e=this._parseTimeOrLabel(e,0,!0,t)),!(t instanceof h)){if(t instanceof Array||t&&t.push&&d(t)){for(i=i||"normal",n=n||0,r=e,o=t.length,s=0;s<o;s++)d(a=t[s])&&(a=new p({tweens:a})),this.add(a,r),"string"!=typeof a&&"function"!=typeof a&&("sequence"===i?r=a._startTime+a.totalDuration()/a._timeScale:"start"===i&&(a._startTime-=a.delay())),r+=n;return this._uncache(!0)}if("string"==typeof t)return this.addLabel(t,e);if("function"!=typeof t)throw"Cannot add "+t+" into the timeline; it is not a tween, timeline, function, or string.";t=f.delayedCall(0,t)}if(c.prototype.add.call(this,t,e),t._time&&t.render((this.rawTime()-t._startTime)*t._timeScale,!1,!1),(this._gc||this._time===this._duration)&&!this._paused&&this._duration<this.duration())for(u=(l=this).rawTime()>t._startTime;l._timeline;)u&&l._timeline.smoothChildTiming?l.totalTime(l._totalTime,!0):l._gc&&l._enabled(!0,!1),l=l._timeline;return this},i.remove=function(t){if(t instanceof h){this._remove(t,!1);var e=t._timeline=t.vars.useFrames?h._rootFramesTimeline:h._rootTimeline;return t._startTime=(t._paused?t._pauseTime:e._time)-(t._reversed?t.totalDuration()-t._totalTime:t._totalTime)/t._timeScale,this}if(t instanceof Array||t&&t.push&&d(t)){for(var i=t.length;-1<--i;)this.remove(t[i]);return this}return"string"==typeof t?this.removeLabel(t):this.kill(null,t)},i._remove=function(t,e){return c.prototype._remove.call(this,t,e),this._last?this._time>this.duration()&&(this._time=this._duration,this._totalTime=this._totalDuration):this._time=this._totalTime=this._duration=this._totalDuration=0,this},i.append=function(t,e){return this.add(t,this._parseTimeOrLabel(null,e,!0,t))},i.insert=i.insertMultiple=function(t,e,i,n){return this.add(t,e||0,i,n)},i.appendMultiple=function(t,e,i,n){return this.add(t,this._parseTimeOrLabel(null,e,!0,t),i,n)},i.addLabel=function(t,e){return this._labels[t]=this._parseTimeOrLabel(e),this},i.addPause=function(t,e,i,n){var r=f.delayedCall(0,o,i,n||this);return r.vars.onComplete=r.vars.onReverseComplete=e,r.data="isPause",this._hasPause=!0,this.add(r,t)},i.removeLabel=function(t){return delete this._labels[t],this},i.getLabelTime=function(t){return null!=this._labels[t]?this._labels[t]:-1},i._parseTimeOrLabel=function(t,e,i,n){var r,o;if(n instanceof h&&n.timeline===this)this.remove(n);else if(n&&(n instanceof Array||n.push&&d(n)))for(o=n.length;-1<--o;)n[o]instanceof h&&n[o].timeline===this&&this.remove(n[o]);if(r="number"!=typeof t||e?99999999999<this.duration()?this.recent().endTime(!1):this._duration:0,"string"==typeof e)return this._parseTimeOrLabel(e,i&&"number"==typeof t&&null==this._labels[e]?t-r:0,i);if(e=e||0,"string"!=typeof t||!isNaN(t)&&null==this._labels[t])null==t&&(t=r);else{if(-1===(o=t.indexOf("=")))return null==this._labels[t]?i?this._labels[t]=r+e:e:this._labels[t]+e;e=parseInt(t.charAt(o-1)+"1",10)*Number(t.substr(o+1)),t=1<o?this._parseTimeOrLabel(t.substr(0,o-1),0,i):r}return Number(t)+e},i.seek=function(t,e){return this.totalTime("number"==typeof t?t:this._parseTimeOrLabel(t),!1!==e)},i.stop=function(){return this.paused(!0)},i.gotoAndPlay=function(t,e){return this.play(t,e)},i.gotoAndStop=function(t,e){return this.pause(t,e)},i.render=function(t,e,i){this._gc&&this._enabled(!0,!1);var n,r,o,s,a,l,u,h=this._time,c=this._dirty?this.totalDuration():this._totalDuration,f=this._startTime,p=this._timeScale,_=this._paused;if(h!==this._time&&(t+=this._time-h),c-1e-7<=t&&0<=t)this._totalTime=this._time=c,this._reversed||this._hasPausedChild()||(r=!0,s="onComplete",a=!!this._timeline.autoRemoveChildren,0===this._duration&&(t<=0&&-1e-7<=t||this._rawPrevTime<0||1e-10===this._rawPrevTime)&&this._rawPrevTime!==t&&this._first&&(a=!0,1e-10<this._rawPrevTime&&(s="onReverseComplete"))),this._rawPrevTime=this._duration||!e||t||this._rawPrevTime===t?t:1e-10,t=c+1e-4;else if(t<1e-7)if(this._totalTime=this._time=0,(0!==h||0===this._duration&&1e-10!==this._rawPrevTime&&(0<this._rawPrevTime||t<0&&0<=this._rawPrevTime))&&(s="onReverseComplete",r=this._reversed),t<0)this._active=!1,this._timeline.autoRemoveChildren&&this._reversed?(a=r=!0,s="onReverseComplete"):0<=this._rawPrevTime&&this._first&&(a=!0),this._rawPrevTime=t;else{if(this._rawPrevTime=this._duration||!e||t||this._rawPrevTime===t?t:1e-10,0===t&&r)for(n=this._first;n&&0===n._startTime;)n._duration||(r=!1),n=n._next;t=0,this._initted||(a=!0)}else{if(this._hasPause&&!this._forcingPlayhead&&!e){if(h<=t)for(n=this._first;n&&n._startTime<=t&&!l;)n._duration||"isPause"!==n.data||n.ratio||0===n._startTime&&0===this._rawPrevTime||(l=n),n=n._next;else for(n=this._last;n&&n._startTime>=t&&!l;)n._duration||"isPause"===n.data&&0<n._rawPrevTime&&(l=n),n=n._prev;l&&(this._time=t=l._startTime,this._totalTime=t+this._cycle*(this._totalDuration+this._repeatDelay))}this._totalTime=this._time=this._rawPrevTime=t}if(this._time!==h&&this._first||i||a||l){if(this._initted||(this._initted=!0),this._active||!this._paused&&this._time!==h&&0<t&&(this._active=!0),0===h&&this.vars.onStart&&(0===this._time&&this._duration||e||this._callback("onStart")),(u=this._time)>=h)for(n=this._first;n&&(o=n._next,u===this._time&&(!this._paused||_));)(n._active||n._startTime<=u&&!n._paused&&!n._gc)&&(l===n&&this.pause(),n._reversed?n.render((n._dirty?n.totalDuration():n._totalDuration)-(t-n._startTime)*n._timeScale,e,i):n.render((t-n._startTime)*n._timeScale,e,i)),n=o;else for(n=this._last;n&&(o=n._prev,u===this._time&&(!this._paused||_));){if(n._active||n._startTime<=h&&!n._paused&&!n._gc){if(l===n){for(l=n._prev;l&&l.endTime()>this._time;)l.render(l._reversed?l.totalDuration()-(t-l._startTime)*l._timeScale:(t-l._startTime)*l._timeScale,e,i),l=l._prev;l=null,this.pause()}n._reversed?n.render((n._dirty?n.totalDuration():n._totalDuration)-(t-n._startTime)*n._timeScale,e,i):n.render((t-n._startTime)*n._timeScale,e,i)}n=o}this._onUpdate&&(e||(m.length&&g(),this._callback("onUpdate"))),s&&(this._gc||f!==this._startTime&&p===this._timeScale||(0===this._time||c>=this.totalDuration())&&(r&&(m.length&&g(),this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!e&&this.vars[s]&&this._callback(s)))}},i._hasPausedChild=function(){for(var t=this._first;t;){if(t._paused||t instanceof p&&t._hasPausedChild())return!0;t=t._next}return!1},i.getChildren=function(t,e,i,n){n=n||-9999999999;for(var r=[],o=this._first,s=0;o;)o._startTime<n||(o instanceof f?!1!==e&&(r[s++]=o):(!1!==i&&(r[s++]=o),!1!==t&&(s=(r=r.concat(o.getChildren(!0,e,i))).length))),o=o._next;return r},i.getTweensOf=function(t,e){var i,n,r=this._gc,o=[],s=0;for(r&&this._enabled(!0,!0),n=(i=f.getTweensOf(t)).length;-1<--n;)(i[n].timeline===this||e&&this._contains(i[n]))&&(o[s++]=i[n]);return r&&this._enabled(!1,!0),o},i.recent=function(){return this._recent},i._contains=function(t){for(var e=t.timeline;e;){if(e===this)return!0;e=e.timeline}return!1},i.shiftChildren=function(t,e,i){i=i||0;for(var n,r=this._first,o=this._labels;r;)r._startTime>=i&&(r._startTime+=t),r=r._next;if(e)for(n in o)o[n]>=i&&(o[n]+=t);return this._uncache(!0)},i._kill=function(t,e){if(!t&&!e)return this._enabled(!1,!1);for(var i=e?this.getTweensOf(e):this.getChildren(!0,!0,!1),n=i.length,r=!1;-1<--n;)i[n]._kill(t,e)&&(r=!0);return r},i.clear=function(t){var e=this.getChildren(!1,!0,!0),i=e.length;for(this._time=this._totalTime=0;-1<--i;)e[i]._enabled(!1,!1);return!1!==t&&(this._labels={}),this._uncache(!0)},i.invalidate=function(){for(var t=this._first;t;)t.invalidate(),t=t._next;return h.prototype.invalidate.call(this)},i._enabled=function(t,e){if(t===this._gc)for(var i=this._first;i;)i._enabled(t,!0),i=i._next;return c.prototype._enabled.call(this,t,e)},i.totalTime=function(t,e,i){this._forcingPlayhead=!0;var n=h.prototype.totalTime.apply(this,arguments);return this._forcingPlayhead=!1,n},i.duration=function(t){return arguments.length?(0!==this.duration()&&0!==t&&this.timeScale(this._duration/t),this):(this._dirty&&this.totalDuration(),this._duration)},i.totalDuration=function(t){if(arguments.length)return t&&this.totalDuration()?this.timeScale(this._totalDuration/t):this;if(this._dirty){for(var e,i,n=0,r=this._last,o=999999999999;r;)e=r._prev,r._dirty&&r.totalDuration(),r._startTime>o&&this._sortChildren&&!r._paused&&!this._calculatingDuration?(this._calculatingDuration=1,this.add(r,r._startTime-r._delay),this._calculatingDuration=0):o=r._startTime,r._startTime<0&&!r._paused&&(n-=r._startTime,this._timeline.smoothChildTiming&&(this._startTime+=r._startTime/this._timeScale,this._time-=r._startTime,this._totalTime-=r._startTime,this._rawPrevTime-=r._startTime),this.shiftChildren(-r._startTime,!1,-9999999999),o=0),n<(i=r._startTime+r._totalDuration/r._timeScale)&&(n=i),r=e;this._duration=this._totalDuration=n,this._dirty=!1}return this._totalDuration},i.paused=function(t){if(!t)for(var e=this._first,i=this._time;e;)e._startTime===i&&"isPause"===e.data&&(e._rawPrevTime=0),e=e._next;return h.prototype.paused.apply(this,arguments)},i.usesFrames=function(){for(var t=this._timeline;t._timeline;)t=t._timeline;return t===h._rootFramesTimeline},i.rawTime=function(t){return t&&(this._paused||this._repeat&&0<this.time()&&this.totalProgress()<1)?this._totalTime%(this._duration+this._repeatDelay):this._paused?this._totalTime:(this._timeline.rawTime(t)-this._startTime)*this._timeScale},p},!0),ne._gsDefine("TimelineMax",["TimelineLite","TweenLite","easing.Ease"],function(e,a,t){var i=function(t){e.call(this,t),this._repeat=this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||0,this._cycle=0,this._yoyo=!0===this.vars.yoyo,this._dirty=!0},n=a._internals,P=n.lazyTweens,O=n.lazyRender,l=ne._gsDefine.globals,u=new t(null,null,1,0),r=i.prototype=new e;return r.constructor=i,r.kill()._gc=!1,i.version="1.20.3",r.invalidate=function(){return this._yoyo=!0===this.vars.yoyo,this._repeat=this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||0,this._uncache(!0),e.prototype.invalidate.call(this)},r.addCallback=function(t,e,i,n){return this.add(a.delayedCall(0,t,i,n),e)},r.removeCallback=function(t,e){if(t)if(null==e)this._kill(null,t);else for(var i=this.getTweensOf(t,!1),n=i.length,r=this._parseTimeOrLabel(e);-1<--n;)i[n]._startTime===r&&i[n]._enabled(!1,!1);return this},r.removePause=function(t){return this.removeCallback(e._internals.pauseCallback,t)},r.tweenTo=function(t,e){e=e||{};var i,n,r,o={ease:u,useFrames:this.usesFrames(),immediateRender:!1},s=e.repeat&&l.TweenMax||a;for(n in e)o[n]=e[n];return o.time=this._parseTimeOrLabel(t),i=Math.abs(Number(o.time)-this._time)/this._timeScale||.001,r=new s(this,i,o),o.onStart=function(){r.target.paused(!0),r.vars.time!==r.target.time()&&i===r.duration()&&r.duration(Math.abs(r.vars.time-r.target.time())/r.target._timeScale),e.onStart&&e.onStart.apply(e.onStartScope||e.callbackScope||r,e.onStartParams||[])},r},r.tweenFromTo=function(t,e,i){i=i||{},t=this._parseTimeOrLabel(t),i.startAt={onComplete:this.seek,onCompleteParams:[t],callbackScope:this},i.immediateRender=!1!==i.immediateRender;var n=this.tweenTo(e,i);return n.duration(Math.abs(n.vars.time-t)/this._timeScale||.001)},r.render=function(t,e,i){this._gc&&this._enabled(!0,!1);var n,r,o,s,a,l,u,h,c=this._time,f=this._dirty?this.totalDuration():this._totalDuration,p=this._duration,_=this._totalTime,d=this._startTime,m=this._timeScale,g=this._rawPrevTime,v=this._paused,y=this._cycle;if(c!==this._time&&(t+=this._time-c),f-1e-7<=t&&0<=t)this._locked||(this._totalTime=f,this._cycle=this._repeat),this._reversed||this._hasPausedChild()||(r=!0,s="onComplete",a=!!this._timeline.autoRemoveChildren,0===this._duration&&(t<=0&&-1e-7<=t||g<0||1e-10===g)&&g!==t&&this._first&&(a=!0,1e-10<g&&(s="onReverseComplete"))),this._rawPrevTime=this._duration||!e||t||this._rawPrevTime===t?t:1e-10,this._yoyo&&0!=(1&this._cycle)?this._time=t=0:t=(this._time=p)+1e-4;else if(t<1e-7)if(this._locked||(this._totalTime=this._cycle=0),((this._time=0)!==c||0===p&&1e-10!==g&&(0<g||t<0&&0<=g)&&!this._locked)&&(s="onReverseComplete",r=this._reversed),t<0)this._active=!1,this._timeline.autoRemoveChildren&&this._reversed?(a=r=!0,s="onReverseComplete"):0<=g&&this._first&&(a=!0),this._rawPrevTime=t;else{if(this._rawPrevTime=p||!e||t||this._rawPrevTime===t?t:1e-10,0===t&&r)for(n=this._first;n&&0===n._startTime;)n._duration||(r=!1),n=n._next;t=0,this._initted||(a=!0)}else if(0===p&&g<0&&(a=!0),this._time=this._rawPrevTime=t,this._locked||(this._totalTime=t,0!==this._repeat&&(l=p+this._repeatDelay,this._cycle=this._totalTime/l>>0,0!==this._cycle&&this._cycle===this._totalTime/l&&_<=t&&this._cycle--,this._time=this._totalTime-this._cycle*l,this._yoyo&&0!=(1&this._cycle)&&(this._time=p-this._time),this._time>p?t=(this._time=p)+1e-4:this._time<0?this._time=t=0:t=this._time)),this._hasPause&&!this._forcingPlayhead&&!e){if((t=this._time)>=c||this._repeat&&y!==this._cycle)for(n=this._first;n&&n._startTime<=t&&!u;)n._duration||"isPause"!==n.data||n.ratio||0===n._startTime&&0===this._rawPrevTime||(u=n),n=n._next;else for(n=this._last;n&&n._startTime>=t&&!u;)n._duration||"isPause"===n.data&&0<n._rawPrevTime&&(u=n),n=n._prev;u&&u._startTime<p&&(this._time=t=u._startTime,this._totalTime=t+this._cycle*(this._totalDuration+this._repeatDelay))}if(this._cycle!==y&&!this._locked){var $=this._yoyo&&0!=(1&y),w=$===(this._yoyo&&0!=(1&this._cycle)),b=this._totalTime,T=this._cycle,x=this._rawPrevTime,S=this._time;if(this._totalTime=y*p,this._cycle<y?$=!$:this._totalTime+=p,this._time=c,this._rawPrevTime=0===p?g-1e-4:g,this._cycle=y,this._locked=!0,c=$?0:p,this.render(c,e,0===p),e||this._gc||this.vars.onRepeat&&(this._cycle=T,this._locked=!1,this._callback("onRepeat")),c!==this._time)return;if(w&&(this._cycle=y,this._locked=!0,c=$?p+1e-4:-1e-4,this.render(c,!0,!1)),this._locked=!1,this._paused&&!v)return;this._time=S,this._totalTime=b,this._cycle=T,this._rawPrevTime=x}if(this._time!==c&&this._first||i||a||u){if(this._initted||(this._initted=!0),this._active||!this._paused&&this._totalTime!==_&&0<t&&(this._active=!0),0===_&&this.vars.onStart&&(0===this._totalTime&&this._totalDuration||e||this._callback("onStart")),(h=this._time)>=c)for(n=this._first;n&&(o=n._next,h===this._time&&(!this._paused||v));)(n._active||n._startTime<=this._time&&!n._paused&&!n._gc)&&(u===n&&this.pause(),n._reversed?n.render((n._dirty?n.totalDuration():n._totalDuration)-(t-n._startTime)*n._timeScale,e,i):n.render((t-n._startTime)*n._timeScale,e,i)),n=o;else for(n=this._last;n&&(o=n._prev,h===this._time&&(!this._paused||v));){if(n._active||n._startTime<=c&&!n._paused&&!n._gc){if(u===n){for(u=n._prev;u&&u.endTime()>this._time;)u.render(u._reversed?u.totalDuration()-(t-u._startTime)*u._timeScale:(t-u._startTime)*u._timeScale,e,i),u=u._prev;u=null,this.pause()}n._reversed?n.render((n._dirty?n.totalDuration():n._totalDuration)-(t-n._startTime)*n._timeScale,e,i):n.render((t-n._startTime)*n._timeScale,e,i)}n=o}this._onUpdate&&(e||(P.length&&O(),this._callback("onUpdate"))),s&&(this._locked||this._gc||d!==this._startTime&&m===this._timeScale||(0===this._time||f>=this.totalDuration())&&(r&&(P.length&&O(),this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!e&&this.vars[s]&&this._callback(s)))}else _!==this._totalTime&&this._onUpdate&&(e||this._callback("onUpdate"))},r.getActive=function(t,e,i){null==t&&(t=!0),null==e&&(e=!0),null==i&&(i=!1);var n,r,o=[],s=this.getChildren(t,e,i),a=0,l=s.length;for(n=0;n<l;n++)(r=s[n]).isActive()&&(o[a++]=r);return o},r.getLabelAfter=function(t){t||0!==t&&(t=this._time);var e,i=this.getLabelsArray(),n=i.length;for(e=0;e<n;e++)if(i[e].time>t)return i[e].name;return null},r.getLabelBefore=function(t){null==t&&(t=this._time);for(var e=this.getLabelsArray(),i=e.length;-1<--i;)if(e[i].time<t)return e[i].name;return null},r.getLabelsArray=function(){var t,e=[],i=0;for(t in this._labels)e[i++]={time:this._labels[t],name:t};return e.sort(function(t,e){return t.time-e.time}),e},r.invalidate=function(){return this._locked=!1,e.prototype.invalidate.call(this)},r.progress=function(t,e){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&0!=(1&this._cycle)?1-t:t)+this._cycle*(this._duration+this._repeatDelay),e):this._time/this.duration()||0},r.totalProgress=function(t,e){return arguments.length?this.totalTime(this.totalDuration()*t,e):this._totalTime/this.totalDuration()||0},r.totalDuration=function(t){return arguments.length?-1!==this._repeat&&t?this.timeScale(this.totalDuration()/t):this:(this._dirty&&(e.prototype.totalDuration.call(this),this._totalDuration=-1===this._repeat?999999999999:this._duration*(this._repeat+1)+this._repeatDelay*this._repeat),this._totalDuration)},r.time=function(t,e){return arguments.length?(this._dirty&&this.totalDuration(),t>this._duration&&(t=this._duration),this._yoyo&&0!=(1&this._cycle)?t=this._duration-t+this._cycle*(this._duration+this._repeatDelay):0!==this._repeat&&(t+=this._cycle*(this._duration+this._repeatDelay)),this.totalTime(t,e)):this._time},r.repeat=function(t){return arguments.length?(this._repeat=t,this._uncache(!0)):this._repeat},r.repeatDelay=function(t){return arguments.length?(this._repeatDelay=t,this._uncache(!0)):this._repeatDelay},r.yoyo=function(t){return arguments.length?(this._yoyo=t,this):this._yoyo},r.currentLabel=function(t){return arguments.length?this.seek(t,!0):this.getLabelBefore(this._time+1e-8)},i},!0),T=180/Math.PI,w=[],b=[],x=[],g={},i=ne._gsDefine.globals,v=function(t,e,i,n){i===n&&(i=n-(n-e)/1e6),t===e&&(e=t+(i-t)/1e6),this.a=t,this.b=e,this.c=i,this.d=n,this.da=n-t,this.ca=i-t,this.ba=e-t},S=function(t,e,i,n){var r={a:t},o={},s={},a={c:n},l=(t+e)/2,u=(e+i)/2,h=(i+n)/2,c=(l+u)/2,f=(u+h)/2,p=(f-c)/8;return r.b=l+(t-l)/4,o.b=c+p,r.c=o.a=(r.b+o.b)/2,o.c=s.a=(c+f)/2,s.b=f-p,a.b=h+(n-h)/4,s.c=a.a=(s.b+a.b)/2,[r,o,s,a]},y=function(t,e,i,n,r){var o,s,a,l,u,h,c,f,p,_,d,m,g,v=t.length-1,y=0,$=t[0].a;for(o=0;o<v;o++)s=(u=t[y]).a,a=u.d,l=t[y+1].d,f=r?(d=w[o],g=((m=b[o])+d)*e*.25/(n?.5:x[o]||.5),a-((h=a-(a-s)*(n?.5*e:0!==d?g/d:0))+(((c=a+(l-a)*(n?.5*e:0!==m?g/m:0))-h)*(3*d/(d+m)+.5)/4||0))):a-((h=a-(a-s)*e*.5)+(c=a+(l-a)*e*.5))/2,h+=f,c+=f,u.c=p=h,u.b=0!==o?$:$=u.a+.6*(u.c-u.a),u.da=a-s,u.ca=p-s,u.ba=$-s,i?(_=S(s,$,p,a),t.splice(y,1,_[0],_[1],_[2],_[3]),y+=4):y++,$=c;(u=t[y]).b=$,u.c=$+.4*(u.d-$),u.da=u.d-u.a,u.ca=u.c-u.a,u.ba=$-u.a,i&&(_=S(u.a,$,u.c,u.d),t.splice(y,1,_[0],_[1],_[2],_[3]))},$=function(t,e,i,n){var r,o,s,a,l,u,h=[];if(n)for(o=(t=[n].concat(t)).length;-1<--o;)"string"==typeof(u=t[o][e])&&"="===u.charAt(1)&&(t[o][e]=n[e]+Number(u.charAt(0)+u.substr(2)));if((r=t.length-2)<0)return h[0]=new v(t[0][e],0,0,t[0][e]),h;for(o=0;o<r;o++)s=t[o][e],a=t[o+1][e],h[o]=new v(s,0,0,a),i&&(l=t[o+2][e],w[o]=(w[o]||0)+(a-s)*(a-s),b[o]=(b[o]||0)+(l-a)*(l-a));return h[o]=new v(t[o][e],0,0,t[o+1][e]),h},p=function(t,e,i,n,r,o){var s,a,l,u,h,c,f,p,_={},d=[],m=o||t[0];for(a in r="string"==typeof r?","+r+",":",x,y,z,left,top,right,bottom,marginTop,marginLeft,marginRight,marginBottom,paddingLeft,paddingTop,paddingRight,paddingBottom,backgroundPosition,backgroundPosition_y,",null==e&&(e=1),t[0])d.push(a);if(1<t.length){for(p=t[t.length-1],f=!0,s=d.length;-1<--s;)if(a=d[s],.05<Math.abs(m[a]-p[a])){f=!1;break}f&&(t=t.concat(),o&&t.unshift(o),t.push(t[1]),o=t[t.length-3])}for(w.length=b.length=x.length=0,s=d.length;-1<--s;)a=d[s],g[a]=-1!==r.indexOf(","+a+","),_[a]=$(t,a,g[a],o);for(s=w.length;-1<--s;)w[s]=Math.sqrt(w[s]),b[s]=Math.sqrt(b[s]);if(!n){for(s=d.length;-1<--s;)if(g[a])for(c=(l=_[d[s]]).length-1,u=0;u<c;u++)h=l[u+1].da/b[u]+l[u].da/w[u]||0,x[u]=(x[u]||0)+h*h;for(s=x.length;-1<--s;)x[s]=Math.sqrt(x[s])}for(s=d.length,u=i?4:1;-1<--s;)l=_[a=d[s]],y(l,e,i,n,g[a]),f&&(l.splice(0,u),l.splice(l.length-u,u));return _},_=function(t,e,i){for(var n,r,o,s,a,l,u,h,c,f,p,_=1/i,d=t.length;-1<--d;)for(o=(f=t[d]).a,s=f.d-o,a=f.c-o,l=f.b-o,n=r=0,h=1;h<=i;h++)n=r-(r=((u=_*h)*u*s+3*(c=1-u)*(u*a+c*l))*u),e[p=d*i+h-1]=(e[p]||0)+n*n},n=(m=ne._gsDefine.plugin({propName:"bezier",priority:-1,version:"1.3.8",API:2,global:!0,init:function(t,e,i){this._target=t,e instanceof Array&&(e={values:e}),this._func={},this._mod={},this._props=[],this._timeRes=null==e.timeResolution?6:parseInt(e.timeResolution,10);var n,r,o,s,a,l=e.values||[],u={},h=l[0],c=e.autoRotate||i.vars.orientToBezier;for(n in this._autoRotate=c?c instanceof Array?c:[["x","y","rotation",!0===c?0:Number(c)||0]]:null,h)this._props.push(n);for(o=this._props.length;-1<--o;)n=this._props[o],this._overwriteProps.push(n),r=this._func[n]="function"==typeof t[n],u[n]=r?t[n.indexOf("set")||"function"!=typeof t["get"+n.substr(3)]?n:"get"+n.substr(3)]():parseFloat(t[n]),a||u[n]!==l[0][n]&&(a=u);if(this._beziers="cubic"!==e.type&&"quadratic"!==e.type&&"soft"!==e.type?p(l,isNaN(e.curviness)?1:e.curviness,!1,"thruBasic"===e.type,e.correlate,a):function(t,e,i){var n,r,o,s,a,l,u,h,c,f,p,_={},d="cubic"===(e=e||"soft")?3:2,m="soft"===e,g=[];if(m&&i&&(t=[i].concat(t)),null==t||t.length<d+1)throw"invalid Bezier data";for(c in t[0])g.push(c);for(l=g.length;-1<--l;){for(_[c=g[l]]=a=[],f=0,h=t.length,u=0;u<h;u++)n=null==i?t[u][c]:"string"==typeof(p=t[u][c])&&"="===p.charAt(1)?i[c]+Number(p.charAt(0)+p.substr(2)):Number(p),m&&1<u&&u<h-1&&(a[f++]=(n+a[f-2])/2),a[f++]=n;for(h=f-d+1,u=f=0;u<h;u+=d)n=a[u],r=a[u+1],o=a[u+2],s=2===d?0:a[u+3],a[f++]=p=3===d?new v(n,r,o,s):new v(n,(2*r+n)/3,(2*r+o)/3,o);a.length=f}return _}(l,e.type,u),this._segCount=this._beziers[n].length,this._timeRes){var f=function(t,e){var i,n,r,o,s=[],a=[],l=0,u=0,h=(e=e>>0||6)-1,c=[],f=[];for(i in t)_(t[i],s,e);for(r=s.length,n=0;n<r;n++)l+=Math.sqrt(s[n]),f[o=n%e]=l,o===h&&(u+=l,c[o=n/e>>0]=f,a[o]=u,l=0,f=[]);return{length:u,lengths:a,segments:c}}(this._beziers,this._timeRes);this._length=f.length,this._lengths=f.lengths,this._segments=f.segments,this._l1=this._li=this._s1=this._si=0,this._l2=this._lengths[0],this._curSeg=this._segments[0],this._s2=this._curSeg[0],this._prec=1/this._curSeg.length}if(c=this._autoRotate)for(this._initialRotations=[],c[0]instanceof Array||(this._autoRotate=c=[c]),o=c.length;-1<--o;){for(s=0;s<3;s++)n=c[o][s],this._func[n]="function"==typeof t[n]&&t[n.indexOf("set")||"function"!=typeof t["get"+n.substr(3)]?n:"get"+n.substr(3)];n=c[o][2],this._initialRotations[o]=(this._func[n]?this._func[n].call(this._target):this._target[n])||0,this._overwriteProps.push(n)}return this._startRatio=i.vars.runBackwards?1:0,!0},set:function(t){var e,i,n,r,o,s,a,l,u,h,c=this._segCount,f=this._func,p=this._target,_=t!==this._startRatio;if(this._timeRes){if(u=this._lengths,h=this._curSeg,t*=this._length,n=this._li,t>this._l2&&n<c-1){for(l=c-1;n<l&&(this._l2=u[++n])<=t;);this._l1=u[n-1],this._li=n,this._curSeg=h=this._segments[n],this._s2=h[this._s1=this._si=0]}else if(t<this._l1&&0<n){for(;0<n&&(this._l1=u[--n])>=t;);0===n&&t<this._l1?this._l1=0:n++,this._l2=u[n],this._li=n,this._curSeg=h=this._segments[n],this._s1=h[(this._si=h.length-1)-1]||0,this._s2=h[this._si]}if(e=n,t-=this._l1,n=this._si,t>this._s2&&n<h.length-1){for(l=h.length-1;n<l&&(this._s2=h[++n])<=t;);this._s1=h[n-1],this._si=n}else if(t<this._s1&&0<n){for(;0<n&&(this._s1=h[--n])>=t;);0===n&&t<this._s1?this._s1=0:n++,this._s2=h[n],this._si=n}s=(n+(t-this._s1)/(this._s2-this._s1))*this._prec||0}else s=(t-(e=t<0?0:1<=t?c-1:c*t>>0)*(1/c))*c;for(i=1-s,n=this._props.length;-1<--n;)r=this._props[n],a=(s*s*(o=this._beziers[r][e]).da+3*i*(s*o.ca+i*o.ba))*s+o.a,this._mod[r]&&(a=this._mod[r](a,p)),f[r]?p[r](a):p[r]=a;if(this._autoRotate){var d,m,g,v,y,$,w,b=this._autoRotate;for(n=b.length;-1<--n;)r=b[n][2],$=b[n][3]||0,w=!0===b[n][4]?1:T,o=this._beziers[b[n][0]],d=this._beziers[b[n][1]],o&&d&&(o=o[e],d=d[e],m=o.a+(o.b-o.a)*s,m+=((v=o.b+(o.c-o.b)*s)-m)*s,v+=(o.c+(o.d-o.c)*s-v)*s,g=d.a+(d.b-d.a)*s,g+=((y=d.b+(d.c-d.b)*s)-g)*s,y+=(d.c+(d.d-d.c)*s-y)*s,a=_?Math.atan2(y-g,v-m)*w+$:this._initialRotations[n],this._mod[r]&&(a=this._mod[r](a,p)),f[r]?p[r](a):p[r]=a)}}})).prototype,m.bezierThrough=p,m.cubicToQuadratic=S,m._autoCSS=!0,m.quadraticToCubic=function(t,e,i){return new v(t,(2*e+t)/3,(2*e+i)/3,i)},m._cssRegister=function(){var t=i.CSSPlugin;if(t){var e=t._internals,p=e._parseToProxy,_=e._setPluginRatio,d=e.CSSPropTween;e._registerComplexSpecialProp("bezier",{parser:function(t,e,i,n,r,o){e instanceof Array&&(e={values:e}),o=new m;var s,a,l,u=e.values,h=u.length-1,c=[],f={};if(h<0)return r;for(s=0;s<=h;s++)l=p(t,u[s],n,r,o,h!==s),c[s]=l.end;for(a in e)f[a]=e[a];return f.values=c,(r=new d(t,"bezier",0,0,l.pt,2)).data=l,r.plugin=o,r.setRatio=_,0===f.autoRotate&&(f.autoRotate=!0),!f.autoRotate||f.autoRotate instanceof Array||(s=!0===f.autoRotate?0:Number(f.autoRotate),f.autoRotate=null!=l.end.left?[["left","top","rotation",s,!1]]:null!=l.end.x&&[["x","y","rotation",s,!1]]),f.autoRotate&&(n._transform||n._enableTransforms(!1),l.autoRotate=n._target._gsTransform,l.proxy.rotation=l.autoRotate.rotation||0,n._overwriteProps.push("rotation")),o._onInitTween(l.proxy,f,n._tween),r}})}},n._mod=function(t){for(var e,i=this._overwriteProps,n=i.length;-1<--n;)(e=t[i[n]])&&"function"==typeof e&&(this._mod[i[n]]=e)},n._kill=function(t){var e,i,n=this._props;for(e in this._beziers)if(e in t)for(delete this._beziers[e],delete this._func[e],i=n.length;-1<--i;)n[i]===e&&n.splice(i,1);if(n=this._autoRotate)for(i=n.length;-1<--i;)t[n[i][2]]&&n.splice(i,1);return this._super._kill.call(this,t)},ne._gsDefine("plugins.CSSPlugin",["plugins.TweenPlugin","TweenLite"],function(o,B){var _,x,S,d,j=function t(){o.call(this,"css"),this._overwriteProps.length=0,this.setRatio=t.prototype.setRatio},u=ne._gsDefine.globals,m={},t=j.prototype=new o("css");(t.constructor=j).version="1.20.3",j.API=2,j.defaultTransformPerspective=0,j.defaultSkewType="compensated",j.defaultSmoothOrigin=!0,j.suffixMap={top:t="px",right:t,bottom:t,left:t,width:t,height:t,fontSize:t,padding:t,margin:t,perspective:t,lineHeight:""};var O,g,v,N,y,P,E,A,e,i,C=/(?:\-|\.|\b)(\d|\.|e\-)+/g,L=/(?:\d|\-\d|\.\d|\-\.\d|\+=\d|\-=\d|\+=.\d|\-=\.\d)+/g,$=/(?:\+=|\-=|\-|\b)[\d\-\.]+[a-zA-Z0-9]*(?:%|\b)/gi,h=/(?![+-]?\d*\.?\d+|[+-]|e[+-]\d+)[^0-9]/g,I=/(?:\d|\-|\+|=|#|\.)*/g,M=/opacity *= *([^)]*)/i,w=/opacity:([^;]*)/i,s=/alpha\(opacity *=.+?\)/i,b=/^(rgb|hsl)/,a=/([A-Z])/g,l=/-([a-z])/gi,T=/(^(?:url\(\"|url\())|(?:(\"\))$|\)$)/gi,c=function(t,e){return e.toUpperCase()},p=/(?:Left|Right|Width)/i,f=/(M11|M12|M21|M22)=[\d\-\.e]+/gi,R=/progid\:DXImageTransform\.Microsoft\.Matrix\(.+?\)/i,D=/,(?=[^\)]*(?:\(|$))/gi,k=/[\s,\(]/i,F=Math.PI/180,G=180/Math.PI,U={},n={style:{}},z=ne.document||{createElement:function(){return n}},q=function(t,e){return z.createElementNS?z.createElementNS(e||"http://www.w3.org/1999/xhtml",t):z.createElement(t)},Y=q("div"),H=q("img"),r=j._internals={_specialProps:m},V=(ne.navigator||{}).userAgent||"",X=(e=V.indexOf("Android"),i=q("a"),v=-1!==V.indexOf("Safari")&&-1===V.indexOf("Chrome")&&(-1===e||3<parseFloat(V.substr(e+8,2))),y=v&&parseFloat(V.substr(V.indexOf("Version/")+8,2))<6,N=-1!==V.indexOf("Firefox"),(/MSIE ([0-9]{1,}[\.0-9]{0,})/.exec(V)||/Trident\/.*rv:([0-9]{1,}[\.0-9]{0,})/.exec(V))&&(P=parseFloat(RegExp.$1)),!!i&&(i.style.cssText="top:1px;opacity:.55;",/^0.55/.test(i.style.opacity))),W=function(t){return M.test("string"==typeof t?t:(t.currentStyle?t.currentStyle.filter:t.style.filter)||"")?parseFloat(RegExp.$1)/100:1},Q=function(t){ne.console&&console.log(t)},J="",K="",Z=function(t,e){var i,n,r=(e=e||Y).style;if(void 0!==r[t])return t;for(t=t.charAt(0).toUpperCase()+t.substr(1),i=["O","Moz","ms","Ms","Webkit"],n=5;-1<--n&&void 0===r[i[n]+t];);return 0<=n?(J="-"+(K=3===n?"ms":i[n]).toLowerCase()+"-",K+t):null},tt=z.defaultView?z.defaultView.getComputedStyle:function(){},et=j.getStyle=function(t,e,i,n,r){var o;return X||"opacity"!==e?(!n&&t.style[e]?o=t.style[e]:(i=i||tt(t))?o=i[e]||i.getPropertyValue(e)||i.getPropertyValue(e.replace(a,"-$1").toLowerCase()):t.currentStyle&&(o=t.currentStyle[e]),null==r||o&&"none"!==o&&"auto"!==o&&"auto auto"!==o?o:r):W(t)},it=r.convertToPixels=function(t,e,i,n,r){if("px"===n||!n&&"lineHeight"!==e)return i;if("auto"===n||!i)return 0;var o,s,a,l=p.test(e),u=t,h=Y.style,c=i<0,f=1===i;if(c&&(i=-i),f&&(i*=100),"lineHeight"!==e||n)if("%"===n&&-1!==e.indexOf("border"))o=i/100*(l?t.clientWidth:t.clientHeight);else{if(h.cssText="border:0 solid red;position:"+et(t,"position")+";line-height:0;","%"!==n&&u.appendChild&&"v"!==n.charAt(0)&&"rem"!==n)h[l?"borderLeftWidth":"borderTopWidth"]=i+n;else{if(u=t.parentNode||z.body,-1!==et(u,"display").indexOf("flex")&&(h.position="absolute"),s=u._gsCache,a=B.ticker.frame,s&&l&&s.time===a)return s.width*i/100;h[l?"width":"height"]=i+n}u.appendChild(Y),o=parseFloat(Y[l?"offsetWidth":"offsetHeight"]),u.removeChild(Y),l&&"%"===n&&!1!==j.cacheWidths&&((s=u._gsCache=u._gsCache||{}).time=a,s.width=o/i*100),0!==o||r||(o=it(t,e,i,n,!0))}else s=tt(t).lineHeight,t.style.lineHeight=i,o=parseFloat(tt(t).lineHeight),t.style.lineHeight=s;return f&&(o/=100),c?-o:o},nt=r.calculateOffset=function(t,e,i){if("absolute"!==et(t,"position",i))return 0;var n="left"===e?"Left":"Top",r=et(t,"margin"+n,i);return t["offset"+n]-(it(t,e,parseFloat(r),r.replace(I,""))||0)},rt=function(t,e){var i,n,r,o={};if(e=e||tt(t,null))if(i=e.length)for(;-1<--i;)-1!==(r=e[i]).indexOf("-transform")&&Dt!==r||(o[r.replace(l,c)]=e.getPropertyValue(r));else for(i in e)-1!==i.indexOf("Transform")&&Rt!==i||(o[i]=e[i]);else if(e=t.currentStyle||t.style)for(i in e)"string"==typeof i&&void 0===o[i]&&(o[i.replace(l,c)]=e[i]);return X||(o.opacity=W(t)),n=Vt(t,e,!1),o.rotation=n.rotation,o.skewX=n.skewX,o.scaleX=n.scaleX,o.scaleY=n.scaleY,o.x=n.x,o.y=n.y,Nt&&(o.z=n.z,o.rotationX=n.rotationX,o.rotationY=n.rotationY,o.scaleZ=n.scaleZ),o.filters&&delete o.filters,o},ot=function(t,e,i,n,r){var o,s,a,l={},u=t.style;for(s in i)"cssText"!==s&&"length"!==s&&isNaN(s)&&(e[s]!==(o=i[s])||r&&r[s])&&-1===s.indexOf("Origin")&&("number"!=typeof o&&"string"!=typeof o||(l[s]="auto"!==o||"left"!==s&&"top"!==s?""!==o&&"auto"!==o&&"none"!==o||"string"!=typeof e[s]||""===e[s].replace(h,"")?o:0:nt(t,s),void 0!==u[s]&&(a=new $t(u,s,u[s],a))));if(n)for(s in n)"className"!==s&&(l[s]=n[s]);return{difs:l,firstMPT:a}},st={width:["Left","Right"],height:["Top","Bottom"]},at=["marginLeft","marginRight","marginTop","marginBottom"],lt=function(t,e,i){if("svg"===(t.nodeName+"").toLowerCase())return(i||tt(t))[e]||0;if(t.getCTM&&qt(t))return t.getBBox()[e]||0;var n=parseFloat("width"===e?t.offsetWidth:t.offsetHeight),r=st[e],o=r.length;for(i=i||tt(t,null);-1<--o;)n-=parseFloat(et(t,"padding"+r[o],i,!0))||0,n-=parseFloat(et(t,"border"+r[o]+"Width",i,!0))||0;return n},ut=function t(e,i){if("contain"===e||"auto"===e||"auto auto"===e)return e+" ";null!=e&&""!==e||(e="0 0");var n,r=e.split(" "),o=-1!==e.indexOf("left")?"0%":-1!==e.indexOf("right")?"100%":r[0],s=-1!==e.indexOf("top")?"0%":-1!==e.indexOf("bottom")?"100%":r[1];if(3<r.length&&!i){for(r=e.split(", ").join(",").split(","),e=[],n=0;n<r.length;n++)e.push(t(r[n]));return e.join(",")}return null==s?s="center"===o?"50%":"0":"center"===s&&(s="50%"),("center"===o||isNaN(parseFloat(o))&&-1===(o+"").indexOf("="))&&(o="50%"),e=o+" "+s+(2<r.length?" "+r[2]:""),i&&(i.oxp=-1!==o.indexOf("%"),i.oyp=-1!==s.indexOf("%"),i.oxr="="===o.charAt(1),i.oyr="="===s.charAt(1),i.ox=parseFloat(o.replace(h,"")),i.oy=parseFloat(s.replace(h,"")),i.v=e),i||e},ht=function(t,e){return"function"==typeof t&&(t=t(A,E)),"string"==typeof t&&"="===t.charAt(1)?parseInt(t.charAt(0)+"1",10)*parseFloat(t.substr(2)):parseFloat(t)-parseFloat(e)||0},ct=function(t,e){return"function"==typeof t&&(t=t(A,E)),null==t?e:"string"==typeof t&&"="===t.charAt(1)?parseInt(t.charAt(0)+"1",10)*parseFloat(t.substr(2))+e:parseFloat(t)||0},ft=function(t,e,i,n){var r,o,s,a;return"function"==typeof t&&(t=t(A,E)),(s=null==t?e:"number"==typeof t?t:(r=t.split("_"),o=((a="="===t.charAt(1))?parseInt(t.charAt(0)+"1",10)*parseFloat(r[0].substr(2)):parseFloat(r[0]))*(-1===t.indexOf("rad")?1:G)-(a?0:e),r.length&&(n&&(n[i]=e+o),-1!==t.indexOf("short")&&(o%=360)!=o%180&&(o=o<0?o+360:o-360),-1!==t.indexOf("_cw")&&o<0?o=(o+3599999999640)%360-360*(o/360|0):-1!==t.indexOf("ccw")&&0<o&&(o=(o-3599999999640)%360-360*(o/360|0))),e+o))<1e-6&&-1e-6<s&&(s=0),s},pt={aqua:[0,255,255],lime:[0,255,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,255],navy:[0,0,128],white:[255,255,255],fuchsia:[255,0,255],olive:[128,128,0],yellow:[255,255,0],orange:[255,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[255,0,0],pink:[255,192,203],cyan:[0,255,255],transparent:[255,255,255,0]},_t=function(t,e,i){return 255*(6*(t=t<0?t+1:1<t?t-1:t)<1?e+(i-e)*t*6:t<.5?i:3*t<2?e+(i-e)*(2/3-t)*6:e)+.5|0},dt=j.parseColor=function(t,e){var i,n,r,o,s,a,l,u,h,c,f;if(t)if("number"==typeof t)i=[t>>16,t>>8&255,255&t];else{if(","===t.charAt(t.length-1)&&(t=t.substr(0,t.length-1)),pt[t])i=pt[t];else if("#"===t.charAt(0))4===t.length&&(t="#"+(n=t.charAt(1))+n+(r=t.charAt(2))+r+(o=t.charAt(3))+o),i=[(t=parseInt(t.substr(1),16))>>16,t>>8&255,255&t];else if("hsl"===t.substr(0,3))if(i=f=t.match(C),e){if(-1!==t.indexOf("="))return t.match(L)}else s=Number(i[0])%360/360,a=Number(i[1])/100,n=2*(l=Number(i[2])/100)-(r=l<=.5?l*(a+1):l+a-l*a),3<i.length&&(i[3]=Number(i[3])),i[0]=_t(s+1/3,n,r),i[1]=_t(s,n,r),i[2]=_t(s-1/3,n,r);else i=t.match(C)||pt.transparent;i[0]=Number(i[0]),i[1]=Number(i[1]),i[2]=Number(i[2]),3<i.length&&(i[3]=Number(i[3]))}else i=pt.black;return e&&!f&&(n=i[0]/255,r=i[1]/255,o=i[2]/255,l=((u=Math.max(n,r,o))+(h=Math.min(n,r,o)))/2,u===h?s=a=0:(c=u-h,a=.5<l?c/(2-u-h):c/(u+h),s=u===n?(r-o)/c+(r<o?6:0):u===r?(o-n)/c+2:(n-r)/c+4,s*=60),i[0]=s+.5|0,i[1]=100*a+.5|0,i[2]=100*l+.5|0),i},mt=function(t,e){var i,n,r,o=t.match(gt)||[],s=0,a="";if(!o.length)return t;for(i=0;i<o.length;i++)n=o[i],s+=(r=t.substr(s,t.indexOf(n,s)-s)).length+n.length,3===(n=dt(n,e)).length&&n.push(1),a+=r+(e?"hsla("+n[0]+","+n[1]+"%,"+n[2]+"%,"+n[3]:"rgba("+n.join(","))+")";return a+t.substr(s)},gt="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3}){1,2}\\b";for(t in pt)gt+="|"+t+"\\b";gt=new RegExp(gt+")","gi"),j.colorStringFilter=function(t){var e,i=t[0]+" "+t[1];gt.test(i)&&(e=-1!==i.indexOf("hsl(")||-1!==i.indexOf("hsla("),t[0]=mt(t[0],e),t[1]=mt(t[1],e)),gt.lastIndex=0},B.defaultStringFilter||(B.defaultStringFilter=j.colorStringFilter);var vt=function(t,e,o,s){if(null==t)return function(t){return t};var a,l=e?(t.match(gt)||[""])[0]:"",u=t.split(l).join("").match($)||[],h=t.substr(0,t.indexOf(u[0])),c=")"===t.charAt(t.length-1)?")":"",f=-1!==t.indexOf(" ")?" ":",",p=u.length,_=0<p?u[0].replace(C,""):"";return p?a=e?function(t){var e,i,n,r;if("number"==typeof t)t+=_;else if(s&&D.test(t)){for(r=t.replace(D,"|").split("|"),n=0;n<r.length;n++)r[n]=a(r[n]);return r.join(",")}if(e=(t.match(gt)||[l])[0],n=(i=t.split(e).join("").match($)||[]).length,p>n--)for(;++n<p;)i[n]=o?i[(n-1)/2|0]:u[n];return h+i.join(f)+f+e+c+(-1!==t.indexOf("inset")?" inset":"")}:function(t){var e,i,n;if("number"==typeof t)t+=_;else if(s&&D.test(t)){for(i=t.replace(D,"|").split("|"),n=0;n<i.length;n++)i[n]=a(i[n]);return i.join(",")}if(n=(e=t.match($)||[]).length,p>n--)for(;++n<p;)e[n]=o?e[(n-1)/2|0]:u[n];return h+e.join(f)+c}:function(t){return t}},yt=function(u){return u=u.split(","),function(t,e,i,n,r,o,s){var a,l=(e+"").split(" ");for(s={},a=0;a<4;a++)s[u[a]]=l[a]=l[a]||l[(a-1)/2>>0];return n.parse(t,s,r,o)}},$t=(r._setPluginRatio=function(t){this.plugin.setRatio(t);for(var e,i,n,r,o,s=this.data,a=s.proxy,l=s.firstMPT;l;)e=a[l.v],l.r?e=Math.round(e):e<1e-6&&-1e-6<e&&(e=0),l.t[l.p]=e,l=l._next;if(s.autoRotate&&(s.autoRotate.rotation=s.mod?s.mod(a.rotation,this.t):a.rotation),1===t||0===t)for(l=s.firstMPT,o=1===t?"e":"b";l;){if((i=l.t).type){if(1===i.type){for(r=i.xs0+i.s+i.xs1,n=1;n<i.l;n++)r+=i["xn"+n]+i["xs"+(n+1)];i[o]=r}}else i[o]=i.s+i.xs0;l=l._next}},function(t,e,i,n,r){this.t=t,this.p=e,this.v=i,this.r=r,n&&((n._prev=this)._next=n)}),wt=(r._parseToProxy=function(t,e,i,n,r,o){var s,a,l,u,h,c=n,f={},p={},_=i._transform,d=U;for(i._transform=null,U=e,n=h=i.parse(t,e,n,r),U=d,o&&(i._transform=_,c&&(c._prev=null,c._prev&&(c._prev._next=null)));n&&n!==c;){if(n.type<=1&&(p[a=n.p]=n.s+n.c,f[a]=n.s,o||(u=new $t(n,"s",a,u,n.r),n.c=0),1===n.type))for(s=n.l;0<--s;)l="xn"+s,p[a=n.p+"_"+l]=n.data[l],f[a]=n[l],o||(u=new $t(n,l,a,u,n.rxp[l]));n=n._next}return{proxy:f,end:p,firstMPT:u,pt:h}},r.CSSPropTween=function(t,e,i,n,r,o,s,a,l,u,h){this.t=t,this.p=e,this.s=i,this.c=n,this.n=s||e,t instanceof wt||d.push(this.n),this.r=a,this.type=o||0,l&&(this.pr=l,_=!0),this.b=void 0===u?i:u,this.e=void 0===h?i+n:h,r&&((this._next=r)._prev=this)}),bt=function(t,e,i,n,r,o){var s=new wt(t,e,i,n-i,r,-1,o);return s.b=i,s.e=s.xs0=n,s},Tt=j.parseComplex=function(t,e,i,n,r,o,s,a,l,u){i=i||o||"","function"==typeof n&&(n=n(A,E)),s=new wt(t,e,0,0,s,u?2:1,null,!1,a,i,n),n+="",r&&gt.test(n+i)&&(j.colorStringFilter(n=[i,n]),i=n[0],n=n[1]);var h,c,f,p,_,d,m,g,v,y,$,w,b,T=i.split(", ").join(",").split(" "),x=n.split(", ").join(",").split(" "),S=T.length,P=!1!==O;for(-1===n.indexOf(",")&&-1===i.indexOf(",")||(x=-1!==(n+i).indexOf("rgb")||-1!==(n+i).indexOf("hsl")?(T=T.join(" ").replace(D,", ").split(" "),x.join(" ").replace(D,", ").split(" ")):(T=T.join(" ").split(",").join(", ").split(" "),x.join(" ").split(",").join(", ").split(" ")),S=T.length),S!==x.length&&(S=(T=(o||"").split(" ")).length),s.plugin=l,s.setRatio=u,h=gt.lastIndex=0;h<S;h++)if(p=T[h],_=x[h],(g=parseFloat(p))||0===g)s.appendXtra("",g,ht(_,g),_.replace(L,""),P&&-1!==_.indexOf("px"),!0);else if(r&&gt.test(p))w=")"+((w=_.indexOf(")")+1)?_.substr(w):""),b=-1!==_.indexOf("hsl")&&X,y=_,p=dt(p,b),_=dt(_,b),(v=6<p.length+_.length)&&!X&&0===_[3]?(s["xs"+s.l]+=s.l?" transparent":"transparent",s.e=s.e.split(x[h]).join("transparent")):(X||(v=!1),b?s.appendXtra(y.substr(0,y.indexOf("hsl"))+(v?"hsla(":"hsl("),p[0],ht(_[0],p[0]),",",!1,!0).appendXtra("",p[1],ht(_[1],p[1]),"%,",!1).appendXtra("",p[2],ht(_[2],p[2]),v?"%,":"%"+w,!1):s.appendXtra(y.substr(0,y.indexOf("rgb"))+(v?"rgba(":"rgb("),p[0],_[0]-p[0],",",!0,!0).appendXtra("",p[1],_[1]-p[1],",",!0).appendXtra("",p[2],_[2]-p[2],v?",":w,!0),v&&(p=p.length<4?1:p[3],s.appendXtra("",p,(_.length<4?1:_[3])-p,w,!1))),gt.lastIndex=0;else if(d=p.match(C)){if(!(m=_.match(L))||m.length!==d.length)return s;for(c=f=0;c<d.length;c++)$=d[c],y=p.indexOf($,f),s.appendXtra(p.substr(f,y-f),Number($),ht(m[c],$),"",P&&"px"===p.substr(y+$.length,2),0===c),f=y+$.length;s["xs"+s.l]+=p.substr(f)}else s["xs"+s.l]+=s.l||s["xs"+s.l]?" "+_:_;if(-1!==n.indexOf("=")&&s.data){for(w=s.xs0+s.data.s,h=1;h<s.l;h++)w+=s["xs"+h]+s.data["xn"+h];s.e=w+s["xs"+h]}return s.l||(s.type=-1,s.xs0=s.e),s.xfirst||s},xt=9;for((t=wt.prototype).l=t.pr=0;0<--xt;)t["xn"+xt]=0,t["xs"+xt]="";t.xs0="",t._next=t._prev=t.xfirst=t.data=t.plugin=t.setRatio=t.rxp=null,t.appendXtra=function(t,e,i,n,r,o){var s=this,a=s.l;return s["xs"+a]+=o&&(a||s["xs"+a])?" "+t:t||"",i||0===a||s.plugin?(s.l++,s.type=s.setRatio?2:1,s["xs"+s.l]=n||"",0<a?(s.data["xn"+a]=e+i,s.rxp["xn"+a]=r,s["xn"+a]=e,s.plugin||(s.xfirst=new wt(s,"xn"+a,e,i,s.xfirst||s,0,s.n,r,s.pr),s.xfirst.xs0=0)):(s.data={s:e+i},s.rxp={},s.s=e,s.c=i,s.r=r)):s["xs"+a]+=e+(n||""),s};var St=function(t,e){e=e||{},this.p=e.prefix&&Z(t)||t,m[t]=m[this.p]=this,this.format=e.formatter||vt(e.defaultValue,e.color,e.collapsible,e.multi),e.parser&&(this.parse=e.parser),this.clrs=e.color,this.multi=e.multi,this.keyword=e.keyword,this.dflt=e.defaultValue,this.pr=e.priority||0},Pt=r._registerComplexSpecialProp=function(t,e,i){"object"!==(void 0===e?"undefined":ie(e))&&(e={parser:i});var n,r=t.split(","),o=e.defaultValue;for(i=i||[o],n=0;n<r.length;n++)e.prefix=0===n&&e.prefix,e.defaultValue=i[n]||o,new St(r[n],e)},Ot=r._registerPluginProp=function(t){if(!m[t]){var l=t.charAt(0).toUpperCase()+t.substr(1)+"Plugin";Pt(t,{parser:function(t,e,i,n,r,o,s){var a=u.com.greensock.plugins[l];return a?(a._cssRegister(),m[i].parse(t,e,i,n,r,o,s)):(Q("Error: "+l+" js file not loaded."),r)}})}};(t=St.prototype).parseComplex=function(t,e,i,n,r,o){var s,a,l,u,h,c,f=this.keyword;if(this.multi&&(D.test(i)||D.test(e)?(a=e.replace(D,"|").split("|"),l=i.replace(D,"|").split("|")):f&&(a=[e],l=[i])),l){for(u=l.length>a.length?l.length:a.length,s=0;s<u;s++)e=a[s]=a[s]||this.dflt,i=l[s]=l[s]||this.dflt,f&&(h=e.indexOf(f))!==(c=i.indexOf(f))&&(-1===c?a[s]=a[s].split(f).join(""):-1===h&&(a[s]+=" "+f));e=a.join(", "),i=l.join(", ")}return Tt(t,this.p,e,i,this.clrs,this.dflt,n,this.pr,r,o)},t.parse=function(t,e,i,n,r,o,s){return this.parseComplex(t.style,this.format(et(t,this.p,S,!1,this.dflt)),this.format(e),r,o)},j.registerSpecialProp=function(t,l,u){Pt(t,{parser:function(t,e,i,n,r,o,s){var a=new wt(t,i,0,0,r,2,i,!1,u);return a.plugin=o,a.setRatio=l(t,e,n._tween,i),a},priority:u})},j.useSVGTransformAttr=!0;var Et,At,Ct,Lt,It,Mt="scaleX,scaleY,scaleZ,x,y,z,skewX,skewY,rotation,rotationX,rotationY,perspective,xPercent,yPercent".split(","),Rt=Z("transform"),Dt=J+"transform",kt=Z("transformOrigin"),Nt=null!==Z("perspective"),Ft=r.Transform=function(){this.perspective=parseFloat(j.defaultTransformPerspective)||0,this.force3D=!(!1===j.defaultForce3D||!Nt)&&(j.defaultForce3D||"auto")},Ut=ne.SVGElement,Bt=function(t,e,i){var n,r=z.createElementNS("http://www.w3.org/2000/svg",t),o=/([a-z])([A-Z])/g;for(n in i)r.setAttributeNS(null,n.replace(o,"$1-$2").toLowerCase(),i[n]);return e.appendChild(r),r},jt=z.documentElement||{},Gt=(It=P||/Android/i.test(V)&&!ne.chrome,z.createElementNS&&!It&&(Lt=(Ct=Bt("rect",At=Bt("svg",jt),{width:100,height:50,x:100})).getBoundingClientRect().width,Ct.style[kt]="50% 50%",Ct.style[Rt]="scaleX(0.5)",It=Lt===Ct.getBoundingClientRect().width&&!(N&&Nt),jt.removeChild(At)),It),zt=function(t,e,i,n,r,o){var s,a,l,u,h,c,f,p,_,d,m,g,v,y,$=t._gsTransform,w=Ht(t,!0);$&&(v=$.xOrigin,y=$.yOrigin),(!n||(s=n.split(" ")).length<2)&&(0===(f=t.getBBox()).x&&0===f.y&&f.width+f.height===0&&(f={x:parseFloat(t.hasAttribute("x")?t.getAttribute("x"):t.hasAttribute("cx")?t.getAttribute("cx"):0)||0,y:parseFloat(t.hasAttribute("y")?t.getAttribute("y"):t.hasAttribute("cy")?t.getAttribute("cy"):0)||0,width:0,height:0}),s=[(-1!==(e=ut(e).split(" "))[0].indexOf("%")?parseFloat(e[0])/100*f.width:parseFloat(e[0]))+f.x,(-1!==e[1].indexOf("%")?parseFloat(e[1])/100*f.height:parseFloat(e[1]))+f.y]),i.xOrigin=u=parseFloat(s[0]),i.yOrigin=h=parseFloat(s[1]),n&&w!==Yt&&(c=w[0],f=w[1],p=w[2],_=w[3],d=w[4],m=w[5],(g=c*_-f*p)&&(a=u*(_/g)+h*(-p/g)+(p*m-_*d)/g,l=u*(-f/g)+h*(c/g)-(c*m-f*d)/g,u=i.xOrigin=s[0]=a,h=i.yOrigin=s[1]=l)),$&&(o&&(i.xOffset=$.xOffset,i.yOffset=$.yOffset,$=i),r||!1!==r&&!1!==j.defaultSmoothOrigin?(a=u-v,l=h-y,$.xOffset+=a*w[0]+l*w[2]-a,$.yOffset+=a*w[1]+l*w[3]-l):$.xOffset=$.yOffset=0),o||t.setAttribute("data-svg-origin",s.join(" "))},qt=function(t){return!(!Ut||!t.getCTM||t.parentNode&&!t.ownerSVGElement||!function(e){try{return e.getBBox()}catch(t){return function t(e){var i,n=q("svg",this.ownerSVGElement&&this.ownerSVGElement.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),r=this.parentNode,o=this.nextSibling,s=this.style.cssText;if(jt.appendChild(n),n.appendChild(this),this.style.display="block",e)try{i=this.getBBox(),this._originalGetBBox=this.getBBox,this.getBBox=t}catch(t){}else this._originalGetBBox&&(i=this._originalGetBBox());return o?r.insertBefore(this,o):r.appendChild(this),jt.removeChild(n),this.style.cssText=s,i}.call(e,!0)}}(t))},Yt=[1,0,0,1,0,0],Ht=function(t,e){var i,n,r,o,s,a,l=t._gsTransform||new Ft,u=t.style;if(Rt?n=et(t,Dt,null,!0):t.currentStyle&&(n=(n=t.currentStyle.filter.match(f))&&4===n.length?[n[0].substr(4),Number(n[2].substr(4)),Number(n[1].substr(4)),n[3].substr(4),l.x||0,l.y||0].join(","):""),i=!n||"none"===n||"matrix(1, 0, 0, 1, 0, 0)"===n,!Rt||!(a=!tt(t)||"none"===tt(t).display)&&t.parentNode||(a&&(o=u.display,u.display="block"),t.parentNode||(s=1,jt.appendChild(t)),i=!(n=et(t,Dt,null,!0))||"none"===n||"matrix(1, 0, 0, 1, 0, 0)"===n,o?u.display=o:a&&Jt(u,"display"),s&&jt.removeChild(t)),(l.svg||t.getCTM&&qt(t))&&(i&&-1!==(u[Rt]+"").indexOf("matrix")&&(n=u[Rt],i=0),r=t.getAttribute("transform"),i&&r&&(-1!==r.indexOf("matrix")?(n=r,i=0):-1!==r.indexOf("translate")&&(n="matrix(1,0,0,1,"+r.match(/(?:\-|\b)[\d\-\.e]+\b/gi).join(",")+")",i=0))),i)return Yt;for(r=(n||"").match(C)||[],xt=r.length;-1<--xt;)o=Number(r[xt]),r[xt]=(s=o-(o|=0))?(1e5*s+(s<0?-.5:.5)|0)/1e5+o:o;return e&&6<r.length?[r[0],r[1],r[4],r[5],r[12],r[13]]:r},Vt=r.getTransform=function(t,e,i,n){if(t._gsTransform&&i&&!n)return t._gsTransform;var r,o,s,a,l,u,h=i&&t._gsTransform||new Ft,c=h.scaleX<0,f=Nt&&(parseFloat(et(t,kt,e,!1,"0 0 0").split(" ")[2])||h.zOrigin)||0,p=parseFloat(j.defaultTransformPerspective)||0;if(h.svg=!(!t.getCTM||!qt(t)),h.svg&&(zt(t,et(t,kt,e,!1,"50% 50%")+"",h,t.getAttribute("data-svg-origin")),Et=j.useSVGTransformAttr||Gt),(r=Ht(t))!==Yt){if(16===r.length){var _,d,m,g,v,y=r[0],$=r[1],w=r[2],b=r[3],T=r[4],x=r[5],S=r[6],P=r[7],O=r[8],E=r[9],A=r[10],C=r[12],L=r[13],I=r[14],M=r[11],R=Math.atan2(S,A);h.zOrigin&&(C=O*(I=-h.zOrigin)-r[12],L=E*I-r[13],I=A*I+h.zOrigin-r[14]),h.rotationX=R*G,R&&(_=T*(g=Math.cos(-R))+O*(v=Math.sin(-R)),d=x*g+E*v,m=S*g+A*v,O=T*-v+O*g,E=x*-v+E*g,A=S*-v+A*g,M=P*-v+M*g,T=_,x=d,S=m),R=Math.atan2(-w,A),h.rotationY=R*G,R&&(d=$*(g=Math.cos(-R))-E*(v=Math.sin(-R)),m=w*g-A*v,E=$*v+E*g,A=w*v+A*g,M=b*v+M*g,y=_=y*g-O*v,$=d,w=m),R=Math.atan2($,y),h.rotation=R*G,R&&(_=y*(g=Math.cos(R))+$*(v=Math.sin(R)),d=T*g+x*v,m=O*g+E*v,$=$*g-y*v,x=x*g-T*v,E=E*g-O*v,y=_,T=d,O=m),h.rotationX&&359.9<Math.abs(h.rotationX)+Math.abs(h.rotation)&&(h.rotationX=h.rotation=0,h.rotationY=180-h.rotationY),R=Math.atan2(T,x),h.scaleX=(1e5*Math.sqrt(y*y+$*$+w*w)+.5|0)/1e5,h.scaleY=(1e5*Math.sqrt(x*x+S*S)+.5|0)/1e5,h.scaleZ=(1e5*Math.sqrt(O*O+E*E+A*A)+.5|0)/1e5,y/=h.scaleX,T/=h.scaleY,$/=h.scaleX,x/=h.scaleY,2e-5<Math.abs(R)?(h.skewX=R*G,T=0,"simple"!==h.skewType&&(h.scaleY*=1/Math.cos(R))):h.skewX=0,h.perspective=M?1/(M<0?-M:M):0,h.x=C,h.y=L,h.z=I,h.svg&&(h.x-=h.xOrigin-(h.xOrigin*y-h.yOrigin*T),h.y-=h.yOrigin-(h.yOrigin*$-h.xOrigin*x))}else if(!Nt||n||!r.length||h.x!==r[4]||h.y!==r[5]||!h.rotationX&&!h.rotationY){var D=6<=r.length,k=D?r[0]:1,N=r[1]||0,F=r[2]||0,U=D?r[3]:1;h.x=r[4]||0,h.y=r[5]||0,s=Math.sqrt(k*k+N*N),a=Math.sqrt(U*U+F*F),l=k||N?Math.atan2(N,k)*G:h.rotation||0,u=F||U?Math.atan2(F,U)*G+l:h.skewX||0,h.scaleX=s,h.scaleY=a,h.rotation=l,h.skewX=u,Nt&&(h.rotationX=h.rotationY=h.z=0,h.perspective=p,h.scaleZ=1),h.svg&&(h.x-=h.xOrigin-(h.xOrigin*k+h.yOrigin*F),h.y-=h.yOrigin-(h.xOrigin*N+h.yOrigin*U))}for(o in 90<Math.abs(h.skewX)&&Math.abs(h.skewX)<270&&(c?(h.scaleX*=-1,h.skewX+=h.rotation<=0?180:-180,h.rotation+=h.rotation<=0?180:-180):(h.scaleY*=-1,h.skewX+=h.skewX<=0?180:-180)),h.zOrigin=f,h)h[o]<2e-5&&-2e-5<h[o]&&(h[o]=0)}return i&&(t._gsTransform=h).svg&&(Et&&t.style[Rt]?B.delayedCall(.001,function(){Jt(t.style,Rt)}):!Et&&t.getAttribute("transform")&&B.delayedCall(.001,function(){t.removeAttribute("transform")})),h},Xt=function(t){var e,i,n=this.data,r=-n.rotation*F,o=r+n.skewX*F,s=(Math.cos(r)*n.scaleX*1e5|0)/1e5,a=(Math.sin(r)*n.scaleX*1e5|0)/1e5,l=(Math.sin(o)*-n.scaleY*1e5|0)/1e5,u=(Math.cos(o)*n.scaleY*1e5|0)/1e5,h=this.t.style,c=this.t.currentStyle;if(c){i=a,a=-l,l=-i,e=c.filter,h.filter="";var f,p,_=this.t.offsetWidth,d=this.t.offsetHeight,m="absolute"!==c.position,g="progid:DXImageTransform.Microsoft.Matrix(M11="+s+", M12="+a+", M21="+l+", M22="+u,v=n.x+_*n.xPercent/100,y=n.y+d*n.yPercent/100;if(null!=n.ox&&(v+=(f=(n.oxp?_*n.ox*.01:n.ox)-_/2)-(f*s+(p=(n.oyp?d*n.oy*.01:n.oy)-d/2)*a),y+=p-(f*l+p*u)),g+=m?", Dx="+((f=_/2)-(f*s+(p=d/2)*a)+v)+", Dy="+(p-(f*l+p*u)+y)+")":", sizingMethod='auto expand')",-1!==e.indexOf("DXImageTransform.Microsoft.Matrix(")?h.filter=e.replace(R,g):h.filter=g+" "+e,0!==t&&1!==t||1===s&&0===a&&0===l&&1===u&&(m&&-1===g.indexOf("Dx=0, Dy=0")||M.test(e)&&100!==parseFloat(RegExp.$1)||-1===e.indexOf(e.indexOf("Alpha"))&&h.removeAttribute("filter")),!m){var $,w,b,T=P<8?1:-1;for(f=n.ieOffsetX||0,p=n.ieOffsetY||0,n.ieOffsetX=Math.round((_-((s<0?-s:s)*_+(a<0?-a:a)*d))/2+v),n.ieOffsetY=Math.round((d-((u<0?-u:u)*d+(l<0?-l:l)*_))/2+y),xt=0;xt<4;xt++)b=(i=-1!==($=c[w=at[xt]]).indexOf("px")?parseFloat($):it(this.t,w,parseFloat($),$.replace(I,""))||0)!==n[w]?xt<2?-n.ieOffsetX:-n.ieOffsetY:xt<2?f-n.ieOffsetX:p-n.ieOffsetY,h[w]=(n[w]=Math.round(i-b*(0===xt||2===xt?1:T)))+"px"}}},Wt=r.set3DTransformRatio=r.setTransformRatio=function(t){var e,i,n,r,o,s,a,l,u,h,c,f,p,_,d,m,g,v,y,$,w=this.data,b=this.t.style,T=w.rotation,x=w.rotationX,S=w.rotationY,P=w.scaleX,O=w.scaleY,E=w.scaleZ,A=w.x,C=w.y,L=w.z,I=w.svg,M=w.perspective,R=w.force3D,D=w.skewY,k=w.skewX;if(D&&(k+=D,T+=D),!((1!==t&&0!==t||"auto"!==R||this.tween._totalTime!==this.tween._totalDuration&&this.tween._totalTime)&&R||L||M||S||x||1!==E)||Et&&I||!Nt)T||k||I?(T*=F,$=k*F,i=Math.cos(T)*P,o=Math.sin(T)*P,n=Math.sin(T-$)*-O,s=Math.cos(T-$)*O,$&&"simple"===w.skewType&&(e=Math.tan($-D*F),n*=e=Math.sqrt(1+e*e),s*=e,D&&(e=Math.tan(D*F),i*=e=Math.sqrt(1+e*e),o*=e)),I&&(A+=w.xOrigin-(w.xOrigin*i+w.yOrigin*n)+w.xOffset,C+=w.yOrigin-(w.xOrigin*o+w.yOrigin*s)+w.yOffset,Et&&(w.xPercent||w.yPercent)&&(d=this.t.getBBox(),A+=.01*w.xPercent*d.width,C+=.01*w.yPercent*d.height),A<(d=1e-6)&&-d<A&&(A=0),C<d&&-d<C&&(C=0)),y=(1e5*i|0)/1e5+","+(1e5*o|0)/1e5+","+(1e5*n|0)/1e5+","+(1e5*s|0)/1e5+","+A+","+C+")",I&&Et?this.t.setAttribute("transform","matrix("+y):b[Rt]=(w.xPercent||w.yPercent?"translate("+w.xPercent+"%,"+w.yPercent+"%) matrix(":"matrix(")+y):b[Rt]=(w.xPercent||w.yPercent?"translate("+w.xPercent+"%,"+w.yPercent+"%) matrix(":"matrix(")+P+",0,0,"+O+","+A+","+C+")";else{if(N&&(P<(d=1e-4)&&-d<P&&(P=E=2e-5),O<d&&-d<O&&(O=E=2e-5),!M||w.z||w.rotationX||w.rotationY||(M=0)),T||k)T*=F,m=i=Math.cos(T),g=o=Math.sin(T),k&&(T-=k*F,m=Math.cos(T),g=Math.sin(T),"simple"===w.skewType&&(e=Math.tan((k-D)*F),m*=e=Math.sqrt(1+e*e),g*=e,w.skewY&&(e=Math.tan(D*F),i*=e=Math.sqrt(1+e*e),o*=e))),n=-g,s=m;else{if(!(S||x||1!==E||M||I))return void(b[Rt]=(w.xPercent||w.yPercent?"translate("+w.xPercent+"%,"+w.yPercent+"%) translate3d(":"translate3d(")+A+"px,"+C+"px,"+L+"px)"+(1!==P||1!==O?" scale("+P+","+O+")":""));i=s=1,n=o=0}h=1,r=a=l=u=c=f=0,p=M?-1/M:0,_=w.zOrigin,d=1e-6,(T=S*F)&&(m=Math.cos(T),c=p*(l=-(g=Math.sin(T))),r=i*g,a=o*g,p*=h=m,i*=m,o*=m),(T=x*F)&&(e=n*(m=Math.cos(T))+r*(g=Math.sin(T)),v=s*m+a*g,u=h*g,f=p*g,r=n*-g+r*m,a=s*-g+a*m,h*=m,p*=m,n=e,s=v),1!==E&&(r*=E,a*=E,h*=E,p*=E),1!==O&&(n*=O,s*=O,u*=O,f*=O),1!==P&&(i*=P,o*=P,l*=P,c*=P),(_||I)&&(_&&(A+=r*-_,C+=a*-_,L+=h*-_+_),I&&(A+=w.xOrigin-(w.xOrigin*i+w.yOrigin*n)+w.xOffset,C+=w.yOrigin-(w.xOrigin*o+w.yOrigin*s)+w.yOffset),A<d&&-d<A&&(A="0"),C<d&&-d<C&&(C="0"),L<d&&-d<L&&(L=0)),y=w.xPercent||w.yPercent?"translate("+w.xPercent+"%,"+w.yPercent+"%) matrix3d(":"matrix3d(",y+=(i<d&&-d<i?"0":i)+","+(o<d&&-d<o?"0":o)+","+(l<d&&-d<l?"0":l),y+=","+(c<d&&-d<c?"0":c)+","+(n<d&&-d<n?"0":n)+","+(s<d&&-d<s?"0":s),x||S||1!==E?(y+=","+(u<d&&-d<u?"0":u)+","+(f<d&&-d<f?"0":f)+","+(r<d&&-d<r?"0":r),y+=","+(a<d&&-d<a?"0":a)+","+(h<d&&-d<h?"0":h)+","+(p<d&&-d<p?"0":p)+","):y+=",0,0,0,0,1,0,",y+=A+","+C+","+L+","+(M?1+-L/M:1)+")",b[Rt]=y}};(t=Ft.prototype).x=t.y=t.z=t.skewX=t.skewY=t.rotation=t.rotationX=t.rotationY=t.zOrigin=t.xPercent=t.yPercent=t.xOffset=t.yOffset=0,t.scaleX=t.scaleY=t.scaleZ=1,Pt("transform,scale,scaleX,scaleY,scaleZ,x,y,z,rotation,rotationX,rotationY,rotationZ,skewX,skewY,shortRotation,shortRotationX,shortRotationY,shortRotationZ,transformOrigin,svgOrigin,transformPerspective,directionalRotation,parseTransform,force3D,skewType,xPercent,yPercent,smoothOrigin",{parser:function(t,e,i,n,r,o,s){if(n._lastParsedTransform===s)return r;var a,l=(n._lastParsedTransform=s).scale&&"function"==typeof s.scale?s.scale:0;"function"==typeof s[i]&&(a=s[i],s[i]=e),l&&(s.scale=l(A,t));var u,h,c,f,p,_,d,m,g,v=t._gsTransform,y=t.style,$=Mt.length,w=s,b={},T=Vt(t,S,!0,w.parseTransform),x=w.transform&&("function"==typeof w.transform?w.transform(A,E):w.transform);if(T.skewType=w.skewType||T.skewType||j.defaultSkewType,n._transform=T,x&&"string"==typeof x&&Rt)(h=Y.style)[Rt]=x,h.display="block",h.position="absolute",z.body.appendChild(Y),u=Vt(Y,null,!1),"simple"===T.skewType&&(u.scaleY*=Math.cos(u.skewX*F)),T.svg&&(_=T.xOrigin,d=T.yOrigin,u.x-=T.xOffset,u.y-=T.yOffset,(w.transformOrigin||w.svgOrigin)&&(x={},zt(t,ut(w.transformOrigin),x,w.svgOrigin,w.smoothOrigin,!0),_=x.xOrigin,d=x.yOrigin,u.x-=x.xOffset-T.xOffset,u.y-=x.yOffset-T.yOffset),(_||d)&&(m=Ht(Y,!0),u.x-=_-(_*m[0]+d*m[2]),u.y-=d-(_*m[1]+d*m[3]))),z.body.removeChild(Y),u.perspective||(u.perspective=T.perspective),null!=w.xPercent&&(u.xPercent=ct(w.xPercent,T.xPercent)),null!=w.yPercent&&(u.yPercent=ct(w.yPercent,T.yPercent));else if("object"===(void 0===w?"undefined":ie(w))){if(u={scaleX:ct(null!=w.scaleX?w.scaleX:w.scale,T.scaleX),scaleY:ct(null!=w.scaleY?w.scaleY:w.scale,T.scaleY),scaleZ:ct(w.scaleZ,T.scaleZ),x:ct(w.x,T.x),y:ct(w.y,T.y),z:ct(w.z,T.z),xPercent:ct(w.xPercent,T.xPercent),yPercent:ct(w.yPercent,T.yPercent),perspective:ct(w.transformPerspective,T.perspective)},null!=(p=w.directionalRotation))if("object"===(void 0===p?"undefined":ie(p)))for(h in p)w[h]=p[h];else w.rotation=p;"string"==typeof w.x&&-1!==w.x.indexOf("%")&&(u.x=0,u.xPercent=ct(w.x,T.xPercent)),"string"==typeof w.y&&-1!==w.y.indexOf("%")&&(u.y=0,u.yPercent=ct(w.y,T.yPercent)),u.rotation=ft("rotation"in w?w.rotation:"shortRotation"in w?w.shortRotation+"_short":"rotationZ"in w?w.rotationZ:T.rotation,T.rotation,"rotation",b),Nt&&(u.rotationX=ft("rotationX"in w?w.rotationX:"shortRotationX"in w?w.shortRotationX+"_short":T.rotationX||0,T.rotationX,"rotationX",b),u.rotationY=ft("rotationY"in w?w.rotationY:"shortRotationY"in w?w.shortRotationY+"_short":T.rotationY||0,T.rotationY,"rotationY",b)),u.skewX=ft(w.skewX,T.skewX),u.skewY=ft(w.skewY,T.skewY)}for(Nt&&null!=w.force3D&&(T.force3D=w.force3D,f=!0),(c=T.force3D||T.z||T.rotationX||T.rotationY||u.z||u.rotationX||u.rotationY||u.perspective)||null==w.scale||(u.scaleZ=1);-1<--$;)(1e-6<(x=u[g=Mt[$]]-T[g])||x<-1e-6||null!=w[g]||null!=U[g])&&(f=!0,r=new wt(T,g,T[g],x,r),g in b&&(r.e=b[g]),r.xs0=0,r.plugin=o,n._overwriteProps.push(r.n));return x=w.transformOrigin,T.svg&&(x||w.svgOrigin)&&(_=T.xOffset,d=T.yOffset,zt(t,ut(x),u,w.svgOrigin,w.smoothOrigin),r=bt(T,"xOrigin",(v?T:u).xOrigin,u.xOrigin,r,"transformOrigin"),r=bt(T,"yOrigin",(v?T:u).yOrigin,u.yOrigin,r,"transformOrigin"),_===T.xOffset&&d===T.yOffset||(r=bt(T,"xOffset",v?_:T.xOffset,T.xOffset,r,"transformOrigin"),r=bt(T,"yOffset",v?d:T.yOffset,T.yOffset,r,"transformOrigin")),x="0px 0px"),(x||Nt&&c&&T.zOrigin)&&(Rt?(f=!0,g=kt,x=(x||et(t,g,S,!1,"50% 50%"))+"",(r=new wt(y,g,0,0,r,-1,"transformOrigin")).b=y[g],r.plugin=o,r.xs0=r.e=Nt?(h=T.zOrigin,x=x.split(" "),T.zOrigin=(2<x.length&&(0===h||"0px"!==x[2])?parseFloat(x[2]):h)||0,r.xs0=r.e=x[0]+" "+(x[1]||"50%")+" 0px",(r=new wt(T,"zOrigin",0,0,r,-1,r.n)).b=h,T.zOrigin):x):ut(x+"",T)),f&&(n._transformType=T.svg&&Et||!c&&3!==this._transformType?2:3),a&&(s[i]=a),l&&(s.scale=l),r},prefix:!0}),Pt("boxShadow",{defaultValue:"0px 0px 0px 0px #999",prefix:!0,color:!0,multi:!0,keyword:"inset"}),Pt("borderRadius",{defaultValue:"0px",parser:function(t,e,i,n,r,o){e=this.format(e);var s,a,l,u,h,c,f,p,_,d,m,g,v,y,$,w,b=["borderTopLeftRadius","borderTopRightRadius","borderBottomRightRadius","borderBottomLeftRadius"],T=t.style;for(_=parseFloat(t.offsetWidth),d=parseFloat(t.offsetHeight),s=e.split(" "),a=0;a<b.length;a++)this.p.indexOf("border")&&(b[a]=Z(b[a])),-1!==(h=u=et(t,b[a],S,!1,"0px")).indexOf(" ")&&(h=(u=h.split(" "))[0],u=u[1]),c=l=s[a],f=parseFloat(h),g=h.substr((f+"").length),""===(m=(v="="===c.charAt(1))?(p=parseInt(c.charAt(0)+"1",10),c=c.substr(2),p*=parseFloat(c),c.substr((p+"").length-(p<0?1:0))||""):(p=parseFloat(c),c.substr((p+"").length)))&&(m=x[i]||g),m!==g&&(y=it(t,"borderLeft",f,g),$=it(t,"borderTop",f,g),u="%"===m?(h=y/_*100+"%",$/d*100+"%"):"em"===m?(h=y/(w=it(t,"borderLeft",1,"em"))+"em",$/w+"em"):(h=y+"px",$+"px"),v&&(c=parseFloat(h)+p+m,l=parseFloat(u)+p+m)),r=Tt(T,b[a],h+" "+u,c+" "+l,!1,"0px",r);return r},prefix:!0,formatter:vt("0px 0px 0px 0px",!1,!0)}),Pt("borderBottomLeftRadius,borderBottomRightRadius,borderTopLeftRadius,borderTopRightRadius",{defaultValue:"0px",parser:function(t,e,i,n,r,o){return Tt(t.style,i,this.format(et(t,i,S,!1,"0px 0px")),this.format(e),!1,"0px",r)},prefix:!0,formatter:vt("0px 0px",!1,!0)}),Pt("backgroundPosition",{defaultValue:"0 0",parser:function(t,e,i,n,r,o){var s,a,l,u,h,c,f="background-position",p=S||tt(t,null),_=this.format((p?P?p.getPropertyValue(f+"-x")+" "+p.getPropertyValue(f+"-y"):p.getPropertyValue(f):t.currentStyle.backgroundPositionX+" "+t.currentStyle.backgroundPositionY)||"0 0"),d=this.format(e);if(-1!==_.indexOf("%")!=(-1!==d.indexOf("%"))&&d.split(",").length<2&&(c=et(t,"backgroundImage").replace(T,""))&&"none"!==c){for(s=_.split(" "),a=d.split(" "),H.setAttribute("src",c),l=2;-1<--l;)(u=-1!==(_=s[l]).indexOf("%"))!=(-1!==a[l].indexOf("%"))&&(h=0===l?t.offsetWidth-H.width:t.offsetHeight-H.height,s[l]=u?parseFloat(_)/100*h+"px":parseFloat(_)/h*100+"%");_=s.join(" ")}return this.parseComplex(t.style,_,d,r,o)},formatter:ut}),Pt("backgroundSize",{defaultValue:"0 0",formatter:function(t){return ut(-1===(t+="").indexOf(" ")?t+" "+t:t)}}),Pt("perspective",{defaultValue:"0px",prefix:!0}),Pt("perspectiveOrigin",{defaultValue:"50% 50%",prefix:!0}),Pt("transformStyle",{prefix:!0}),Pt("backfaceVisibility",{prefix:!0}),Pt("userSelect",{prefix:!0}),Pt("margin",{parser:yt("marginTop,marginRight,marginBottom,marginLeft")}),Pt("padding",{parser:yt("paddingTop,paddingRight,paddingBottom,paddingLeft")}),Pt("clip",{defaultValue:"rect(0px,0px,0px,0px)",parser:function(t,e,i,n,r,o){var s,a,l;return e=P<9?(a=t.currentStyle,l=P<8?" ":",",s="rect("+a.clipTop+l+a.clipRight+l+a.clipBottom+l+a.clipLeft+")",this.format(e).split(",").join(l)):(s=this.format(et(t,this.p,S,!1,this.dflt)),this.format(e)),this.parseComplex(t.style,s,e,r,o)}}),Pt("textShadow",{defaultValue:"0px 0px 0px #999",color:!0,multi:!0}),Pt("autoRound,strictUnits",{parser:function(t,e,i,n,r){return r}}),Pt("border",{defaultValue:"0px solid #000",parser:function(t,e,i,n,r,o){var s=et(t,"borderTopWidth",S,!1,"0px"),a=this.format(e).split(" "),l=a[0].replace(I,"");return"px"!==l&&(s=parseFloat(s)/it(t,"borderTopWidth",1,l)+l),this.parseComplex(t.style,this.format(s+" "+et(t,"borderTopStyle",S,!1,"solid")+" "+et(t,"borderTopColor",S,!1,"#000")),a.join(" "),r,o)},color:!0,formatter:function(t){var e=t.split(" ");return e[0]+" "+(e[1]||"solid")+" "+(t.match(gt)||["#000"])[0]}}),Pt("borderWidth",{parser:yt("borderTopWidth,borderRightWidth,borderBottomWidth,borderLeftWidth")}),Pt("float,cssFloat,styleFloat",{parser:function(t,e,i,n,r,o){var s=t.style,a="cssFloat"in s?"cssFloat":"styleFloat";return new wt(s,a,0,0,r,-1,i,!1,0,s[a],e)}});var Qt=function(t){var e,i=this.t,n=i.filter||et(this.data,"filter")||"",r=this.s+this.c*t|0;100===r&&(e=-1===n.indexOf("atrix(")&&-1===n.indexOf("radient(")&&-1===n.indexOf("oader(")?(i.removeAttribute("filter"),!et(this.data,"filter")):(i.filter=n.replace(s,""),!0)),e||(this.xn1&&(i.filter=n=n||"alpha(opacity="+r+")"),-1===n.indexOf("pacity")?0===r&&this.xn1||(i.filter=n+" alpha(opacity="+r+")"):i.filter=n.replace(M,"opacity="+r))};Pt("opacity,alpha,autoAlpha",{defaultValue:"1",parser:function(t,e,i,n,r,o){var s=parseFloat(et(t,"opacity",S,!1,"1")),a=t.style,l="autoAlpha"===i;return"string"==typeof e&&"="===e.charAt(1)&&(e=("-"===e.charAt(0)?-1:1)*parseFloat(e.substr(2))+s),l&&1===s&&"hidden"===et(t,"visibility",S)&&0!==e&&(s=0),X?r=new wt(a,"opacity",s,e-s,r):((r=new wt(a,"opacity",100*s,100*(e-s),r)).xn1=l?1:0,a.zoom=1,r.type=2,r.b="alpha(opacity="+r.s+")",r.e="alpha(opacity="+(r.s+r.c)+")",r.data=t,r.plugin=o,r.setRatio=Qt),l&&((r=new wt(a,"visibility",0,0,r,-1,null,!1,0,0!==s?"inherit":"hidden",0===e?"hidden":"inherit")).xs0="inherit",n._overwriteProps.push(r.n),n._overwriteProps.push(i)),r}});var Jt=function(t,e){e&&(t.removeProperty?("ms"!==e.substr(0,2)&&"webkit"!==e.substr(0,6)||(e="-"+e),t.removeProperty(e.replace(a,"-$1").toLowerCase())):t.removeAttribute(e))},Kt=function(t){if(this.t._gsClassPT=this,1===t||0===t){this.t.setAttribute("class",0===t?this.b:this.e);for(var e=this.data,i=this.t.style;e;)e.v?i[e.p]=e.v:Jt(i,e.p),e=e._next;1===t&&this.t._gsClassPT===this&&(this.t._gsClassPT=null)}else this.t.getAttribute("class")!==this.e&&this.t.setAttribute("class",this.e)};Pt("className",{parser:function(t,e,i,n,r,o,s){var a,l,u,h,c,f=t.getAttribute("class")||"",p=t.style.cssText;if((r=n._classNamePT=new wt(t,i,0,0,r,2)).setRatio=Kt,r.pr=-11,_=!0,r.b=f,l=rt(t,S),u=t._gsClassPT){for(h={},c=u.data;c;)h[c.p]=1,c=c._next;u.setRatio(1)}return(t._gsClassPT=r).e="="!==e.charAt(1)?e:f.replace(new RegExp("(?:\\s|^)"+e.substr(2)+"(?![\\w-])"),"")+("+"===e.charAt(0)?" "+e.substr(2):""),t.setAttribute("class",r.e),a=ot(t,l,rt(t),s,h),t.setAttribute("class",f),r.data=a.firstMPT,t.style.cssText=p,r.xfirst=n.parse(t,a.difs,r,o)}});var Zt=function(t){if((1===t||0===t)&&this.data._totalTime===this.data._totalDuration&&"isFromStart"!==this.data.data){var e,i,n,r,o,s=this.t.style,a=m.transform.parse;if("all"===this.e)r=!(s.cssText="");else for(n=(e=this.e.split(" ").join("").split(",")).length;-1<--n;)i=e[n],m[i]&&(m[i].parse===a?r=!0:i="transformOrigin"===i?kt:m[i].p),Jt(s,i);r&&(Jt(s,Rt),(o=this.t._gsTransform)&&(o.svg&&(this.t.removeAttribute("data-svg-origin"),this.t.removeAttribute("transform")),delete this.t._gsTransform))}};for(Pt("clearProps",{parser:function(t,e,i,n,r){return(r=new wt(t,i,0,0,r,2)).setRatio=Zt,r.e=e,r.pr=-10,r.data=n._tween,_=!0,r}}),t="bezier,throwProps,physicsProps,physics2D".split(","),xt=t.length;xt--;)Ot(t[xt]);(t=j.prototype)._firstPT=t._lastParsedTransform=t._transform=null,t._onInitTween=function(t,e,i,n){if(!t.nodeType)return!1;this._target=E=t,this._tween=i,this._vars=e,A=n,O=e.autoRound,_=!1,x=e.suffixMap||j.suffixMap,S=tt(t,""),d=this._overwriteProps;var r,o,s,a,l,u,h,c,f,p=t.style;if(g&&""===p.zIndex&&("auto"!==(r=et(t,"zIndex",S))&&""!==r||this._addLazySet(p,"zIndex",0)),"string"==typeof e&&(a=p.cssText,r=rt(t,S),p.cssText=a+";"+e,r=ot(t,r,rt(t)).difs,!X&&w.test(e)&&(r.opacity=parseFloat(RegExp.$1)),e=r,p.cssText=a),e.className?this._firstPT=o=m.className.parse(t,e.className,"className",this,null,null,e):this._firstPT=o=this.parse(t,e,null),this._transformType){for(f=3===this._transformType,Rt?v&&(g=!0,""===p.zIndex&&("auto"!==(h=et(t,"zIndex",S))&&""!==h||this._addLazySet(p,"zIndex",0)),y&&this._addLazySet(p,"WebkitBackfaceVisibility",this._vars.WebkitBackfaceVisibility||(f?"visible":"hidden"))):p.zoom=1,s=o;s&&s._next;)s=s._next;c=new wt(t,"transform",0,0,null,2),this._linkCSSP(c,null,s),c.setRatio=Rt?Wt:Xt,c.data=this._transform||Vt(t,S,!0),c.tween=i,c.pr=-1,d.pop()}if(_){for(;o;){for(u=o._next,s=a;s&&s.pr>o.pr;)s=s._next;(o._prev=s?s._prev:l)?o._prev._next=o:a=o,(o._next=s)?s._prev=o:l=o,o=u}this._firstPT=a}return!0},t.parse=function(t,e,i,n){var r,o,s,a,l,u,h,c,f,p,_=t.style;for(r in e){if("function"==typeof(u=e[r])&&(u=u(A,E)),o=m[r])i=o.parse(t,u,r,this,i,n,e);else{if("--"===r.substr(0,2)){this._tween._propLookup[r]=this._addTween.call(this._tween,t.style,"setProperty",tt(t).getPropertyValue(r)+"",u+"",r,!1,r);continue}l=et(t,r,S)+"",f="string"==typeof u,"color"===r||"fill"===r||"stroke"===r||-1!==r.indexOf("Color")||f&&b.test(u)?(f||(u=(3<(u=dt(u)).length?"rgba(":"rgb(")+u.join(",")+")"),i=Tt(_,r,l,u,!0,"transparent",i,0,n)):f&&k.test(u)?i=Tt(_,r,l,u,!0,null,i,0,n):(h=(s=parseFloat(l))||0===s?l.substr((s+"").length):"",""!==l&&"auto"!==l||(h="width"===r||"height"===r?(s=lt(t,r,S),"px"):"left"===r||"top"===r?(s=nt(t,r,S),"px"):(s="opacity"!==r?0:1,"")),""===(c=(p=f&&"="===u.charAt(1))?(a=parseInt(u.charAt(0)+"1",10),u=u.substr(2),a*=parseFloat(u),u.replace(I,"")):(a=parseFloat(u),f?u.replace(I,""):""))&&(c=r in x?x[r]:h),u=a||0===a?(p?a+s:a)+c:e[r],h!==c&&(""===c&&"lineHeight"!==r||(a||0===a)&&s&&(s=it(t,r,s,h),"%"===c?(s/=it(t,r,100,"%")/100,!0!==e.strictUnits&&(l=s+"%")):"em"===c||"rem"===c||"vw"===c||"vh"===c?s/=it(t,r,1,c):"px"!==c&&(a=it(t,r,a,c),c="px"),p&&(a||0===a)&&(u=a+s+c))),p&&(a+=s),!s&&0!==s||!a&&0!==a?void 0!==_[r]&&(u||u+""!="NaN"&&null!=u)?(i=new wt(_,r,a||s||0,0,i,-1,r,!1,0,l,u)).xs0="none"!==u||"display"!==r&&-1===r.indexOf("Style")?u:l:Q("invalid "+r+" tween value: "+e[r]):(i=new wt(_,r,s,a-s,i,0,r,!1!==O&&("px"===c||"zIndex"===r),0,l,u)).xs0=c)}n&&i&&!i.plugin&&(i.plugin=n)}return i},t.setRatio=function(t){var e,i,n,r=this._firstPT;if(1!==t||this._tween._time!==this._tween._duration&&0!==this._tween._time)if(t||this._tween._time!==this._tween._duration&&0!==this._tween._time||-1e-6===this._tween._rawPrevTime)for(;r;){if(e=r.c*t+r.s,r.r?e=Math.round(e):e<1e-6&&-1e-6<e&&(e=0),r.type)if(1===r.type)if(2===(n=r.l))r.t[r.p]=r.xs0+e+r.xs1+r.xn1+r.xs2;else if(3===n)r.t[r.p]=r.xs0+e+r.xs1+r.xn1+r.xs2+r.xn2+r.xs3;else if(4===n)r.t[r.p]=r.xs0+e+r.xs1+r.xn1+r.xs2+r.xn2+r.xs3+r.xn3+r.xs4;else if(5===n)r.t[r.p]=r.xs0+e+r.xs1+r.xn1+r.xs2+r.xn2+r.xs3+r.xn3+r.xs4+r.xn4+r.xs5;else{for(i=r.xs0+e+r.xs1,n=1;n<r.l;n++)i+=r["xn"+n]+r["xs"+(n+1)];r.t[r.p]=i}else-1===r.type?r.t[r.p]=r.xs0:r.setRatio&&r.setRatio(t);else r.t[r.p]=e+r.xs0;r=r._next}else for(;r;)2!==r.type?r.t[r.p]=r.b:r.setRatio(t),r=r._next;else for(;r;){if(2!==r.type)if(r.r&&-1!==r.type)if(e=Math.round(r.s+r.c),r.type){if(1===r.type){for(n=r.l,i=r.xs0+e+r.xs1,n=1;n<r.l;n++)i+=r["xn"+n]+r["xs"+(n+1)];r.t[r.p]=i}}else r.t[r.p]=e+r.xs0;else r.t[r.p]=r.e;else r.setRatio(t);r=r._next}},t._enableTransforms=function(t){this._transform=this._transform||Vt(this._target,S,!0),this._transformType=this._transform.svg&&Et||!t&&3!==this._transformType?2:3};var te=function(t){this.t[this.p]=this.e,this.data._linkCSSP(this,this._next,null,!0)};t._addLazySet=function(t,e,i){var n=this._firstPT=new wt(t,e,0,0,this._firstPT,2);n.e=i,n.setRatio=te,n.data=this},t._linkCSSP=function(t,e,i,n){return t&&(e&&(e._prev=t),t._next&&(t._next._prev=t._prev),t._prev?t._prev._next=t._next:this._firstPT===t&&(this._firstPT=t._next,n=!0),i?i._next=t:n||null!==this._firstPT||(this._firstPT=t),t._next=e,t._prev=i),t},t._mod=function(t){for(var e=this._firstPT;e;)"function"==typeof t[e.p]&&t[e.p]===Math.round&&(e.r=1),e=e._next},t._kill=function(t){var e,i,n,r=t;if(t.autoAlpha||t.alpha){for(i in r={},t)r[i]=t[i];r.opacity=1,r.autoAlpha&&(r.visibility=1)}for(t.className&&(e=this._classNamePT)&&((n=e.xfirst)&&n._prev?this._linkCSSP(n._prev,e._next,n._prev._prev):n===this._firstPT&&(this._firstPT=e._next),e._next&&this._linkCSSP(e._next,e._next._next,n._prev),this._classNamePT=null),e=this._firstPT;e;)e.plugin&&e.plugin!==i&&e.plugin._kill&&(e.plugin._kill(t),i=e.plugin),e=e._next;return o.prototype._kill.call(this,r)};var ee=function t(e,i,n){var r,o,s,a;if(e.slice)for(o=e.length;-1<--o;)t(e[o],i,n);else for(o=(r=e.childNodes).length;-1<--o;)a=(s=r[o]).type,s.style&&(i.push(rt(s)),n&&n.push(s)),1!==a&&9!==a&&11!==a||!s.childNodes.length||t(s,i,n)};return j.cascadeTo=function(t,e,i){var n,r,o,s,a=B.to(t,e,i),l=[a],u=[],h=[],c=[],f=B._internals.reservedProps;for(t=a._targets||a.target,ee(t,u,c),a.render(e,!0,!0),ee(t,h),a.render(0,!0,!0),a._enabled(!0),n=c.length;-1<--n;)if((r=ot(c[n],u[n],h[n])).firstMPT){for(o in r=r.difs,i)f[o]&&(r[o]=i[o]);for(o in s={},r)s[o]=u[n][o];l.push(B.fromTo(c[n],e,s,r))}return l},o.activate([j]),j},!0),t=ne._gsDefine.plugin({propName:"roundProps",version:"1.6.0",priority:-1,API:2,init:function(t,e,i){return this._tween=i,!0}}),l=function(t){for(;t;)t.f||t.blob||(t.m=Math.round),t=t._next},(e=t.prototype)._onInitAllProps=function(){for(var t,e,i,n=this._tween,r=n.vars.roundProps.join?n.vars.roundProps:n.vars.roundProps.split(","),o=r.length,s={},a=n._propLookup.roundProps;-1<--o;)s[r[o]]=Math.round;for(o=r.length;-1<--o;)for(t=r[o],e=n._firstPT;e;)i=e._next,e.pg?e.t._mod(s):e.n===t&&(2===e.f&&e.t?l(e.t._firstPT):(this._add(e.t,t,e.s,e.c),i&&(i._prev=e._prev),e._prev?e._prev._next=i:n._firstPT===e&&(n._firstPT=i),e._next=e._prev=null,n._propLookup[t]=a)),e=i;return!1},e._add=function(t,e,i,n){this._addTween(t,e,i,i+n,e,Math.round),this._overwriteProps.push(e)},ne._gsDefine.plugin({propName:"attr",API:2,version:"0.6.1",init:function(t,e,i,n){var r,o;if("function"!=typeof t.setAttribute)return!1;for(r in e)"function"==typeof(o=e[r])&&(o=o(n,t)),this._addTween(t,"setAttribute",t.getAttribute(r)+"",o+"",r,!1,r),this._overwriteProps.push(r);return!0}}),ne._gsDefine.plugin({propName:"directionalRotation",version:"0.3.1",API:2,init:function(t,e,i,n){"object"!==(void 0===e?"undefined":ie(e))&&(e={rotation:e}),this.finals={};var r,o,s,a,l,u,h=!0===e.useRadians?2*Math.PI:360;for(r in e)"useRadians"!==r&&("function"==typeof(a=e[r])&&(a=a(n,t)),o=(u=(a+"").split("_"))[0],s=parseFloat("function"!=typeof t[r]?t[r]:t[r.indexOf("set")||"function"!=typeof t["get"+r.substr(3)]?r:"get"+r.substr(3)]()),l=(a=this.finals[r]="string"==typeof o&&"="===o.charAt(1)?s+parseInt(o.charAt(0)+"1",10)*Number(o.substr(2)):Number(o)||0)-s,u.length&&(-1!==(o=u.join("_")).indexOf("short")&&(l%=h)!=l%(h/2)&&(l=l<0?l+h:l-h),-1!==o.indexOf("_cw")&&l<0?l=(l+9999999999*h)%h-(l/h|0)*h:-1!==o.indexOf("ccw")&&0<l&&(l=(l-9999999999*h)%h-(l/h|0)*h)),(1e-6<l||l<-1e-6)&&(this._addTween(t,r,s,s+l,r),this._overwriteProps.push(r)));return!0},set:function(t){var e;if(1!==t)this._super.setRatio.call(this,t);else for(e=this._firstPT;e;)e.f?e.t[e.p](this.finals[e.p]):e.t[e.p]=this.finals[e.p],e=e._next}})._autoCSS=!0,ne._gsDefine("easing.Back",["easing.Ease"],function(m){var i,e,t,n=ne.GreenSockGlobals||ne,r=n.com.greensock,o=2*Math.PI,s=Math.PI/2,a=r._class,l=function(t,e){var i=a("easing."+t,function(){},!0),n=i.prototype=new m;return n.constructor=i,n.getRatio=e,i},u=m.register||function(){},h=function(t,e,i,n,r){var o=a("easing."+t,{easeOut:new e,easeIn:new i,easeInOut:new n},!0);return u(o,t),o},g=function(t,e,i){this.t=t,this.v=e,i&&(((this.next=i).prev=this).c=i.v-e,this.gap=i.t-t)},c=function(t,e){var i=a("easing."+t,function(t){this._p1=t||0===t?t:1.70158,this._p2=1.525*this._p1},!0),n=i.prototype=new m;return n.constructor=i,n.getRatio=e,n.config=function(t){return new i(t)},i},f=h("Back",c("BackOut",function(t){return(t-=1)*t*((this._p1+1)*t+this._p1)+1}),c("BackIn",function(t){return t*t*((this._p1+1)*t-this._p1)}),c("BackInOut",function(t){return(t*=2)<1?.5*t*t*((this._p2+1)*t-this._p2):.5*((t-=2)*t*((this._p2+1)*t+this._p2)+2)})),p=a("easing.SlowMo",function(t,e,i){e=e||0===e?e:.7,null==t?t=.7:1<t&&(t=1),this._p=1!==t?e:0,this._p1=(1-t)/2,this._p2=t,this._p3=this._p1+this._p2,this._calcEnd=!0===i},!0),_=p.prototype=new m;return _.constructor=p,_.getRatio=function(t){var e=t+(.5-t)*this._p;return t<this._p1?this._calcEnd?1-(t=1-t/this._p1)*t:e-(t=1-t/this._p1)*t*t*t*e:t>this._p3?this._calcEnd?1===t?0:1-(t=(t-this._p3)/this._p1)*t:e+(t-e)*(t=(t-this._p3)/this._p1)*t*t*t:this._calcEnd?1:e},p.ease=new p(.7,.7),_.config=p.config=function(t,e,i){return new p(t,e,i)},(_=(i=a("easing.SteppedEase",function(t,e){t=t||1,this._p1=1/t,this._p2=t+(e?0:1),this._p3=e?1:0},!0)).prototype=new m).constructor=i,_.getRatio=function(t){return t<0?t=0:1<=t&&(t=.999999999),((this._p2*t|0)+this._p3)*this._p1},_.config=i.config=function(t,e){return new i(t,e)},(_=(e=a("easing.RoughEase",function(t){for(var e,i,n,r,o,s,a=(t=t||{}).taper||"none",l=[],u=0,h=0|(t.points||20),c=h,f=!1!==t.randomize,p=!0===t.clamp,_=t.template instanceof m?t.template:null,d="number"==typeof t.strength?.4*t.strength:.4;-1<--c;)e=f?Math.random():1/h*c,i=_?_.getRatio(e):e,n="none"===a?d:"out"===a?(r=1-e)*r*d:"in"===a?e*e*d:(r=e<.5?2*e:2*(1-e))*r*.5*d,f?i+=Math.random()*n-.5*n:c%2?i+=.5*n:i-=.5*n,p&&(1<i?i=1:i<0&&(i=0)),l[u++]={x:e,y:i};for(l.sort(function(t,e){return t.x-e.x}),s=new g(1,1,null),c=h;-1<--c;)o=l[c],s=new g(o.x,o.y,s);this._prev=new g(0,0,0!==s.t?s:s.next)},!0)).prototype=new m).constructor=e,_.getRatio=function(t){var e=this._prev;if(t>e.t){for(;e.next&&t>=e.t;)e=e.next;e=e.prev}else for(;e.prev&&t<=e.t;)e=e.prev;return(this._prev=e).v+(t-e.t)/e.gap*e.c},_.config=function(t){return new e(t)},e.ease=new e,h("Bounce",l("BounceOut",function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375}),l("BounceIn",function(t){return(t=1-t)<1/2.75?1-7.5625*t*t:t<2/2.75?1-(7.5625*(t-=1.5/2.75)*t+.75):t<2.5/2.75?1-(7.5625*(t-=2.25/2.75)*t+.9375):1-(7.5625*(t-=2.625/2.75)*t+.984375)}),l("BounceInOut",function(t){var e=t<.5;return(t=e?1-2*t:2*t-1)<1/2.75?t*=7.5625*t:t=t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375,e?.5*(1-t):.5*t+.5})),h("Circ",l("CircOut",function(t){return Math.sqrt(1-(t-=1)*t)}),l("CircIn",function(t){return-(Math.sqrt(1-t*t)-1)}),l("CircInOut",function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)})),h("Elastic",(t=function(t,e,i){var n=a("easing."+t,function(t,e){this._p1=1<=t?t:1,this._p2=(e||i)/(t<1?t:1),this._p3=this._p2/o*(Math.asin(1/this._p1)||0),this._p2=o/this._p2},!0),r=n.prototype=new m;return r.constructor=n,r.getRatio=e,r.config=function(t,e){return new n(t,e)},n})("ElasticOut",function(t){return this._p1*Math.pow(2,-10*t)*Math.sin((t-this._p3)*this._p2)+1},.3),t("ElasticIn",function(t){return-this._p1*Math.pow(2,10*(t-=1))*Math.sin((t-this._p3)*this._p2)},.3),t("ElasticInOut",function(t){return(t*=2)<1?this._p1*Math.pow(2,10*(t-=1))*Math.sin((t-this._p3)*this._p2)*-.5:this._p1*Math.pow(2,-10*(t-=1))*Math.sin((t-this._p3)*this._p2)*.5+1},.45)),h("Expo",l("ExpoOut",function(t){return 1-Math.pow(2,-10*t)}),l("ExpoIn",function(t){return Math.pow(2,10*(t-1))-.001}),l("ExpoInOut",function(t){return(t*=2)<1?.5*Math.pow(2,10*(t-1)):.5*(2-Math.pow(2,-10*(t-1)))})),h("Sine",l("SineOut",function(t){return Math.sin(t*s)}),l("SineIn",function(t){return 1-Math.cos(t*s)}),l("SineInOut",function(t){return-.5*(Math.cos(Math.PI*t)-1)})),a("easing.EaseLookup",{find:function(t){return m.map[t]}},!0),u(n.SlowMo,"SlowMo","ease,"),u(e,"RoughEase","ease,"),u(i,"SteppedEase","ease,"),f},!0)}),ne._gsDefine&&ne._gsQueue.pop()(),function(c,t){var e,i,p={},r=c.document,_=c.GreenSockGlobals=c.GreenSockGlobals||c;if(!_.TweenLite){var n,o,s,d,m,g=function(t){var e,i=t.split("."),n=_;for(e=0;e<i.length;e++)n[i[e]]=n=n[i[e]]||{};return n},f=g("com.greensock"),l=function(t){var e,i=[],n=t.length;for(e=0;e!==n;i.push(t[e++]));return i},v=function(){},y=(e=Object.prototype.toString,i=e.call([]),function(t){return null!=t&&(t instanceof Array||"object"===(void 0===t?"undefined":ie(t))&&!!t.push&&e.call(t)===i)}),$={},a=function a(l,u,h,c){this.sc=$[l]?$[l].sc:[],($[l]=this).gsClass=null,this.func=h;var f=[];this.check=function(t){for(var e,i,n,r,o=u.length,s=o;-1<--o;)(e=$[u[o]]||new a(u[o],[])).gsClass?(f[o]=e.gsClass,s--):t&&e.sc.push(this);if(0===s&&h){if(n=(i=("com.greensock."+l).split(".")).pop(),r=g(i.join("."))[n]=this.gsClass=h.apply(h,f),c)if(_[n]=p[n]=r,void 0!==nt&&nt.exports)if("TweenMax"===l)for(o in nt.exports=p.TweenMax=r,p)r[o]=p[o];else p.TweenMax&&(p.TweenMax[n]=r);else void 0!==(it=function(){return r}.apply(rt,[]))&&(nt.exports=it);for(o=0;o<this.sc.length;o++)this.sc[o].check()}},this.check(!0)},u=c._gsDefine=function(t,e,i,n){return new a(t,e,i,n)},w=f._class=function(t,e,i){return e=e||function(){},u(t,[],function(){return e},i),e};u.globals=_;var h=[0,0,1,1],b=w("easing.Ease",function(t,e,i,n){this._func=t,this._type=i||0,this._power=n||0,this._params=e?h.concat(e):h},!0),T=b.map={},x=b.register=function(t,e,i,n){for(var r,o,s,a,l=e.split(","),u=l.length,h=(i||"easeIn,easeOut,easeInOut").split(",");-1<--u;)for(o=l[u],r=n?w("easing."+o,null,!0):f.easing[o]||{},s=h.length;-1<--s;)a=h[s],T[o+"."+a]=T[a+o]=r[a]=t.getRatio?t:t[a]||new t};for((s=b.prototype)._calcEnd=!1,s.getRatio=function(t){if(this._func)return this._params[0]=t,this._func.apply(null,this._params);var e=this._type,i=this._power,n=1===e?1-t:2===e?t:t<.5?2*t:2*(1-t);return 1===i?n*=n:2===i?n*=n*n:3===i?n*=n*n*n:4===i&&(n*=n*n*n*n),1===e?1-n:2===e?n:t<.5?n/2:1-n/2},o=(n=["Linear","Quad","Cubic","Quart","Quint,Strong"]).length;-1<--o;)s=n[o]+",Power"+o,x(new b(null,null,1,o),s,"easeOut",!0),x(new b(null,null,2,o),s,"easeIn"+(0===o?",easeNone":"")),x(new b(null,null,3,o),s,"easeInOut");T.linear=f.easing.Linear.easeIn,T.swing=f.easing.Quad.easeInOut;var S=w("events.EventDispatcher",function(t){this._listeners={},this._eventTarget=t||this});(s=S.prototype).addEventListener=function(t,e,i,n,r){r=r||0;var o,s,a=this._listeners[t],l=0;for(this!==d||m||d.wake(),null==a&&(this._listeners[t]=a=[]),s=a.length;-1<--s;)(o=a[s]).c===e&&o.s===i?a.splice(s,1):0===l&&o.pr<r&&(l=s+1);a.splice(l,0,{c:e,s:i,up:n,pr:r})},s.removeEventListener=function(t,e){var i,n=this._listeners[t];if(n)for(i=n.length;-1<--i;)if(n[i].c===e)return void n.splice(i,1)},s.dispatchEvent=function(t){var e,i,n,r=this._listeners[t];if(r)for(1<(e=r.length)&&(r=r.slice(0)),i=this._eventTarget;-1<--e;)(n=r[e])&&(n.up?n.c.call(n.s||i,{type:t,target:i}):n.c.call(n.s||i))};var P=c.requestAnimationFrame,O=c.cancelAnimationFrame,E=Date.now||function(){return(new Date).getTime()},A=E();for(o=(n=["ms","moz","webkit","o"]).length;-1<--o&&!P;)P=c[n[o]+"RequestAnimationFrame"],O=c[n[o]+"CancelAnimationFrame"]||c[n[o]+"CancelRequestAnimationFrame"];w("Ticker",function(t,e){var o,s,a,l,u,h=this,c=E(),i=!(!1===e||!P)&&"auto",f=500,p=33,n=function t(e){var i,n,r=E()-A;f<r&&(c+=r-p),A+=r,h.time=(A-c)/1e3,i=h.time-u,(!o||0<i||!0===e)&&(h.frame++,u+=i+(l<=i?.004:l-i),n=!0),!0!==e&&(a=s(t)),n&&h.dispatchEvent("tick")};S.call(h),h.time=h.frame=0,h.tick=function(){n(!0)},h.lagSmoothing=function(t,e){if(!arguments.length)return f<1e10;f=t||1e10,p=Math.min(e,f,0)},h.sleep=function(){null!=a&&(i&&O?O(a):clearTimeout(a),s=v,a=null,h===d&&(m=!1))},h.wake=function(t){null!==a?h.sleep():t?c+=-A+(A=E()):10<h.frame&&(A=E()-f+5),s=0===o?v:i&&P?P:function(t){return setTimeout(t,1e3*(u-h.time)+1|0)},h===d&&(m=!0),n(2)},h.fps=function(t){if(!arguments.length)return o;l=1/((o=t)||60),u=this.time+l,h.wake()},h.useRAF=function(t){if(!arguments.length)return i;h.sleep(),i=t,h.fps(o)},h.fps(t),setTimeout(function(){"auto"===i&&h.frame<5&&"hidden"!==r.visibilityState&&h.useRAF(!1)},1500)}),(s=f.Ticker.prototype=new f.events.EventDispatcher).constructor=f.Ticker;var C=w("core.Animation",function(t,e){if(this.vars=e=e||{},this._duration=this._totalDuration=t||0,this._delay=Number(e.delay)||0,this._timeScale=1,this._active=!0===e.immediateRender,this.data=e.data,this._reversed=!0===e.reversed,X){m||d.wake();var i=this.vars.useFrames?V:X;i.add(this,i._time),this.vars.paused&&this.paused(!0)}});d=C.ticker=new f.Ticker,(s=C.prototype)._dirty=s._gc=s._initted=s._paused=!1,s._totalTime=s._time=0,s._rawPrevTime=-1,s._next=s._last=s._onUpdate=s._timeline=s.timeline=null,s._paused=!1,function t(){m&&2e3<E()-A&&("hidden"!==r.visibilityState||!d.lagSmoothing())&&d.wake();var e=setTimeout(t,2e3);e.unref&&e.unref()}(),s.play=function(t,e){return null!=t&&this.seek(t,e),this.reversed(!1).paused(!1)},s.pause=function(t,e){return null!=t&&this.seek(t,e),this.paused(!0)},s.resume=function(t,e){return null!=t&&this.seek(t,e),this.paused(!1)},s.seek=function(t,e){return this.totalTime(Number(t),!1!==e)},s.restart=function(t,e){return this.reversed(!1).paused(!1).totalTime(t?-this._delay:0,!1!==e,!0)},s.reverse=function(t,e){return null!=t&&this.seek(t||this.totalDuration(),e),this.reversed(!0).paused(!1)},s.render=function(t,e,i){},s.invalidate=function(){return this._time=this._totalTime=0,this._initted=this._gc=!1,this._rawPrevTime=-1,!this._gc&&this.timeline||this._enabled(!0),this},s.isActive=function(){var t,e=this._timeline,i=this._startTime;return!e||!this._gc&&!this._paused&&e.isActive()&&(t=e.rawTime(!0))>=i&&t<i+this.totalDuration()/this._timeScale-1e-7},s._enabled=function(t,e){return m||d.wake(),this._gc=!t,this._active=this.isActive(),!0!==e&&(t&&!this.timeline?this._timeline.add(this,this._startTime-this._delay):!t&&this.timeline&&this._timeline._remove(this,!0)),!1},s._kill=function(t,e){return this._enabled(!1,!1)},s.kill=function(t,e){return this._kill(t,e),this},s._uncache=function(t){for(var e=t?this:this.timeline;e;)e._dirty=!0,e=e.timeline;return this},s._swapSelfInParams=function(t){for(var e=t.length,i=t.concat();-1<--e;)"{self}"===t[e]&&(i[e]=this);return i},s._callback=function(t){var e=this.vars,i=e[t],n=e[t+"Params"],r=e[t+"Scope"]||e.callbackScope||this;switch(n?n.length:0){case 0:i.call(r);break;case 1:i.call(r,n[0]);break;case 2:i.call(r,n[0],n[1]);break;default:i.apply(r,n)}},s.eventCallback=function(t,e,i,n){if("on"===(t||"").substr(0,2)){var r=this.vars;if(1===arguments.length)return r[t];null==e?delete r[t]:(r[t]=e,r[t+"Params"]=y(i)&&-1!==i.join("").indexOf("{self}")?this._swapSelfInParams(i):i,r[t+"Scope"]=n),"onUpdate"===t&&(this._onUpdate=e)}return this},s.delay=function(t){return arguments.length?(this._timeline.smoothChildTiming&&this.startTime(this._startTime+t-this._delay),this._delay=t,this):this._delay},s.duration=function(t){return arguments.length?(this._duration=this._totalDuration=t,this._uncache(!0),this._timeline.smoothChildTiming&&0<this._time&&this._time<this._duration&&0!==t&&this.totalTime(this._totalTime*(t/this._duration),!0),this):(this._dirty=!1,this._duration)},s.totalDuration=function(t){return this._dirty=!1,arguments.length?this.duration(t):this._totalDuration},s.time=function(t,e){return arguments.length?(this._dirty&&this.totalDuration(),this.totalTime(t>this._duration?this._duration:t,e)):this._time},s.totalTime=function(t,e,i){if(m||d.wake(),!arguments.length)return this._totalTime;if(this._timeline){if(t<0&&!i&&(t+=this.totalDuration()),this._timeline.smoothChildTiming){this._dirty&&this.totalDuration();var n=this._totalDuration,r=this._timeline;if(n<t&&!i&&(t=n),this._startTime=(this._paused?this._pauseTime:r._time)-(this._reversed?n-t:t)/this._timeScale,r._dirty||this._uncache(!1),r._timeline)for(;r._timeline;)r._timeline._time!==(r._startTime+r._totalTime)/r._timeScale&&r.totalTime(r._totalTime,!0),r=r._timeline}this._gc&&this._enabled(!0,!1),this._totalTime===t&&0!==this._duration||(R.length&&Q(),this.render(t,e,!1),R.length&&Q())}return this},s.progress=s.totalProgress=function(t,e){var i=this.duration();return arguments.length?this.totalTime(i*t,e):i?this._time/i:this.ratio},s.startTime=function(t){return arguments.length?(t!==this._startTime&&(this._startTime=t,this.timeline&&this.timeline._sortChildren&&this.timeline.add(this,t-this._delay)),this):this._startTime},s.endTime=function(t){return this._startTime+(0!=t?this.totalDuration():this.duration())/this._timeScale},s.timeScale=function(t){if(!arguments.length)return this._timeScale;var e,i;for(t=t||1e-10,this._timeline&&this._timeline.smoothChildTiming&&(i=(e=this._pauseTime)||0===e?e:this._timeline.totalTime(),this._startTime=i-(i-this._startTime)*this._timeScale/t),this._timeScale=t,i=this.timeline;i&&i.timeline;)i._dirty=!0,i.totalDuration(),i=i.timeline;return this},s.reversed=function(t){return arguments.length?(t!=this._reversed&&(this._reversed=t,this.totalTime(this._timeline&&!this._timeline.smoothChildTiming?this.totalDuration()-this._totalTime:this._totalTime,!0)),this):this._reversed},s.paused=function(t){if(!arguments.length)return this._paused;var e,i,n=this._timeline;return t!=this._paused&&n&&(m||t||d.wake(),i=(e=n.rawTime())-this._pauseTime,!t&&n.smoothChildTiming&&(this._startTime+=i,this._uncache(!1)),this._pauseTime=t?e:null,this._paused=t,this._active=this.isActive(),!t&&0!==i&&this._initted&&this.duration()&&(e=n.smoothChildTiming?this._totalTime:(e-this._startTime)/this._timeScale,this.render(e,e===this._totalTime,!0))),this._gc&&!t&&this._enabled(!0,!1),this};var L=w("core.SimpleTimeline",function(t){C.call(this,0,t),this.autoRemoveChildren=this.smoothChildTiming=!0});(s=L.prototype=new C).constructor=L,s.kill()._gc=!1,s._first=s._last=s._recent=null,s._sortChildren=!1,s.add=s.insert=function(t,e,i,n){var r,o;if(t._startTime=Number(e||0)+t._delay,t._paused&&this!==t._timeline&&(t._pauseTime=t._startTime+(this.rawTime()-t._startTime)/t._timeScale),t.timeline&&t.timeline._remove(t,!0),t.timeline=t._timeline=this,t._gc&&t._enabled(!0,!0),r=this._last,this._sortChildren)for(o=t._startTime;r&&r._startTime>o;)r=r._prev;return r?(t._next=r._next,r._next=t):(t._next=this._first,this._first=t),t._next?t._next._prev=t:this._last=t,t._prev=r,this._recent=t,this._timeline&&this._uncache(!0),this},s._remove=function(t,e){return t.timeline===this&&(e||t._enabled(!1,!0),t._prev?t._prev._next=t._next:this._first===t&&(this._first=t._next),t._next?t._next._prev=t._prev:this._last===t&&(this._last=t._prev),t._next=t._prev=t.timeline=null,t===this._recent&&(this._recent=this._last),this._timeline&&this._uncache(!0)),this},s.render=function(t,e,i){var n,r=this._first;for(this._totalTime=this._time=this._rawPrevTime=t;r;)n=r._next,(r._active||t>=r._startTime&&!r._paused&&!r._gc)&&(r._reversed?r.render((r._dirty?r.totalDuration():r._totalDuration)-(t-r._startTime)*r._timeScale,e,i):r.render((t-r._startTime)*r._timeScale,e,i)),r=n},s.rawTime=function(){return m||d.wake(),this._totalTime};var I=w("TweenLite",function(t,e,i){if(C.call(this,e,i),this.render=I.prototype.render,null==t)throw"Cannot tween a null target.";this.target=t="string"!=typeof t?t:I.selector(t)||t;var n,r,o,s=t.jquery||t.length&&t!==c&&t[0]&&(t[0]===c||t[0].nodeType&&t[0].style&&!t.nodeType),a=this.vars.overwrite;if(this._overwrite=a=null==a?H[I.defaultOverwrite]:"number"==typeof a?a>>0:H[a],(s||t instanceof Array||t.push&&y(t))&&"number"!=typeof t[0])for(this._targets=o=l(t),this._propLookup=[],this._siblings=[],n=0;n<o.length;n++)(r=o[n])?"string"!=typeof r?r.length&&r!==c&&r[0]&&(r[0]===c||r[0].nodeType&&r[0].style&&!r.nodeType)?(o.splice(n--,1),this._targets=o=o.concat(l(r))):(this._siblings[n]=J(r,this,!1),1===a&&1<this._siblings[n].length&&Z(r,this,null,1,this._siblings[n])):"string"==typeof(r=o[n--]=I.selector(r))&&o.splice(n+1,1):o.splice(n--,1);else this._propLookup={},this._siblings=J(t,this,!1),1===a&&1<this._siblings.length&&Z(t,this,null,1,this._siblings);(this.vars.immediateRender||0===e&&0===this._delay&&!1!==this.vars.immediateRender)&&(this._time=-1e-10,this.render(Math.min(0,-this._delay)))},!0),M=function(t){return t&&t.length&&t!==c&&t[0]&&(t[0]===c||t[0].nodeType&&t[0].style&&!t.nodeType)};(s=I.prototype=new C).constructor=I,s.kill()._gc=!1,s.ratio=0,s._firstPT=s._targets=s._overwrittenProps=s._startAt=null,s._notifyPluginsOfEnabled=s._lazy=!1,I.version="1.20.3",I.defaultEase=s._ease=new b(null,null,1,1),I.defaultOverwrite="auto",I.ticker=d,I.autoSleep=120,I.lagSmoothing=function(t,e){d.lagSmoothing(t,e)},I.selector=c.$||c.jQuery||function(t){var e=c.$||c.jQuery;return e?(I.selector=e)(t):void 0===r?t:r.querySelectorAll?r.querySelectorAll(t):r.getElementById("#"===t.charAt(0)?t.substr(1):t)};var R=[],D={},k=/(?:(-|-=|\+=)?\d*\.?\d*(?:e[\-+]?\d+)?)[0-9]/gi,N=/[\+-]=-?[\.\d]/,F=function(t){for(var e,i=this._firstPT;i;)e=i.blob?1===t&&null!=this.end?this.end:t?this.join(""):this.start:i.c*t+i.s,i.m?e=i.m(e,this._target||i.t):e<1e-6&&-1e-6<e&&!i.blob&&(e=0),i.f?i.fp?i.t[i.p](i.fp,e):i.t[i.p](e):i.t[i.p]=e,i=i._next},U=function(t,e,i,n){var r,o,s,a,l,u,h,c=[],f=0,p="",_=0;for(c.start=t,c.end=e,t=c[0]=t+"",e=c[1]=e+"",i&&(i(c),t=c[0],e=c[1]),c.length=0,r=t.match(k)||[],o=e.match(k)||[],n&&(n._next=null,n.blob=1,c._firstPT=c._applyPT=n),l=o.length,a=0;a<l;a++)h=o[a],p+=(u=e.substr(f,e.indexOf(h,f)-f))||!a?u:",",f+=u.length,_?_=(_+1)%5:"rgba("===u.substr(-5)&&(_=1),h===r[a]||r.length<=a?p+=h:(p&&(c.push(p),p=""),s=parseFloat(r[a]),c.push(s),c._firstPT={_next:c._firstPT,t:c,p:c.length-1,s:s,c:("="===h.charAt(1)?parseInt(h.charAt(0)+"1",10)*parseFloat(h.substr(2)):parseFloat(h)-s)||0,f:0,m:_&&_<4?Math.round:0}),f+=h.length;return(p+=e.substr(f))&&c.push(p),c.setRatio=F,N.test(e)&&(c.end=null),c},B=function(t,e,i,n,r,o,s,a,l){"function"==typeof n&&(n=n(l||0,t));var u=ie(t[e]),h="function"!==u?"":e.indexOf("set")||"function"!=typeof t["get"+e.substr(3)]?e:"get"+e.substr(3),c="get"!==i?i:h?s?t[h](s):t[h]():t[e],f="string"==typeof n&&"="===n.charAt(1),p={t:t,p:e,s:c,f:"function"===u,pg:0,n:r||e,m:o?"function"==typeof o?o:Math.round:0,pr:0,c:f?parseInt(n.charAt(0)+"1",10)*parseFloat(n.substr(2)):parseFloat(n)-c||0};if(("number"!=typeof c||"number"!=typeof n&&!f)&&(s||isNaN(c)||!f&&isNaN(n)||"boolean"==typeof c||"boolean"==typeof n?(p.fp=s,p={t:U(c,f?parseFloat(p.s)+p.c:n,a||I.defaultStringFilter,p),p:"setRatio",s:0,c:1,f:2,pg:0,n:r||e,pr:0,m:0}):(p.s=parseFloat(c),f||(p.c=parseFloat(n)-p.s||0))),p.c)return(p._next=this._firstPT)&&(p._next._prev=p),this._firstPT=p},j=I._internals={isArray:y,isSelector:M,lazyTweens:R,blobDif:U},G=I._plugins={},z=j.tweenLookup={},q=0,Y=j.reservedProps={ease:1,delay:1,overwrite:1,onComplete:1,onCompleteParams:1,onCompleteScope:1,useFrames:1,runBackwards:1,startAt:1,onUpdate:1,onUpdateParams:1,onUpdateScope:1,onStart:1,onStartParams:1,onStartScope:1,onReverseComplete:1,onReverseCompleteParams:1,onReverseCompleteScope:1,onRepeat:1,onRepeatParams:1,onRepeatScope:1,easeParams:1,yoyo:1,immediateRender:1,repeat:1,repeatDelay:1,data:1,paused:1,reversed:1,autoCSS:1,lazy:1,onOverwrite:1,callbackScope:1,stringFilter:1,id:1,yoyoEase:1},H={none:0,all:1,auto:2,concurrent:3,allOnStart:4,preexisting:5,true:1,false:0},V=C._rootFramesTimeline=new L,X=C._rootTimeline=new L,W=30,Q=j.lazyRender=function(){var t,e=R.length;for(D={};-1<--e;)(t=R[e])&&!1!==t._lazy&&(t.render(t._lazy[0],t._lazy[1],!0),t._lazy=!1);R.length=0};X._startTime=d.time,V._startTime=d.frame,X._active=V._active=!0,setTimeout(Q,1),C._updateRoot=I.render=function(){var t,e,i;if(R.length&&Q(),X.render((d.time-X._startTime)*X._timeScale,!1,!1),V.render((d.frame-V._startTime)*V._timeScale,!1,!1),R.length&&Q(),d.frame>=W){for(i in W=d.frame+(parseInt(I.autoSleep,10)||120),z){for(t=(e=z[i].tweens).length;-1<--t;)e[t]._gc&&e.splice(t,1);0===e.length&&delete z[i]}if((!(i=X._first)||i._paused)&&I.autoSleep&&!V._first&&1===d._listeners.tick.length){for(;i&&i._paused;)i=i._next;i||d.sleep()}}},d.addEventListener("tick",C._updateRoot);var J=function(t,e,i){var n,r,o=t._gsTweenID;if(z[o||(t._gsTweenID=o="t"+q++)]||(z[o]={target:t,tweens:[]}),e&&((n=z[o].tweens)[r=n.length]=e,i))for(;-1<--r;)n[r]===e&&n.splice(r,1);return z[o].tweens},K=function(t,e,i,n){var r,o,s=t.vars.onOverwrite;return s&&(r=s(t,e,i,n)),(s=I.onOverwrite)&&(o=s(t,e,i,n)),!1!==r&&!1!==o},Z=function(t,e,i,n,r){var o,s,a,l;if(1===n||4<=n){for(l=r.length,o=0;o<l;o++)if((a=r[o])!==e)a._gc||a._kill(null,t,e)&&(s=!0);else if(5===n)break;return s}var u,h=e._startTime+1e-10,c=[],f=0,p=0===e._duration;for(o=r.length;-1<--o;)(a=r[o])===e||a._gc||a._paused||(a._timeline!==e._timeline?(u=u||tt(e,0,p),0===tt(a,u,p)&&(c[f++]=a)):a._startTime<=h&&a._startTime+a.totalDuration()/a._timeScale>h&&((p||!a._initted)&&h-a._startTime<=2e-10||(c[f++]=a)));for(o=f;-1<--o;)if(a=c[o],2===n&&a._kill(i,t,e)&&(s=!0),2!==n||!a._firstPT&&a._initted){if(2!==n&&!K(a,e))continue;a._enabled(!1,!1)&&(s=!0)}return s},tt=function(t,e,i){for(var n=t._timeline,r=n._timeScale,o=t._startTime;n._timeline;){if(o+=n._startTime,r*=n._timeScale,n._paused)return-100;n=n._timeline}return e<(o/=r)?o-e:i&&o===e||!t._initted&&o-e<2e-10?1e-10:(o+=t.totalDuration()/t._timeScale/r)>e+1e-10?0:o-e-1e-10};s._init=function(){var t,e,i,n,r,o,s=this.vars,a=this._overwrittenProps,l=this._duration,u=!!s.immediateRender,h=s.ease;if(s.startAt){for(n in this._startAt&&(this._startAt.render(-1,!0),this._startAt.kill()),r={},s.startAt)r[n]=s.startAt[n];if(r.data="isStart",r.overwrite=!1,r.immediateRender=!0,r.lazy=u&&!1!==s.lazy,r.startAt=r.delay=null,r.onUpdate=s.onUpdate,r.onUpdateParams=s.onUpdateParams,r.onUpdateScope=s.onUpdateScope||s.callbackScope||this,this._startAt=I.to(this.target,0,r),u)if(0<this._time)this._startAt=null;else if(0!==l)return}else if(s.runBackwards&&0!==l)if(this._startAt)this._startAt.render(-1,!0),this._startAt.kill(),this._startAt=null;else{for(n in 0!==this._time&&(u=!1),i={},s)Y[n]&&"autoCSS"!==n||(i[n]=s[n]);if(i.overwrite=0,i.data="isFromStart",i.lazy=u&&!1!==s.lazy,i.immediateRender=u,this._startAt=I.to(this.target,0,i),u){if(0===this._time)return}else this._startAt._init(),this._startAt._enabled(!1),this.vars.immediateRender&&(this._startAt=null)}if(this._ease=h=h?h instanceof b?h:"function"==typeof h?new b(h,s.easeParams):T[h]||I.defaultEase:I.defaultEase,s.easeParams instanceof Array&&h.config&&(this._ease=h.config.apply(h,s.easeParams)),this._easeType=this._ease._type,this._easePower=this._ease._power,this._firstPT=null,this._targets)for(o=this._targets.length,t=0;t<o;t++)this._initProps(this._targets[t],this._propLookup[t]={},this._siblings[t],a?a[t]:null,t)&&(e=!0);else e=this._initProps(this.target,this._propLookup,this._siblings,a,0);if(e&&I._onPluginEvent("_onInitAllProps",this),a&&(this._firstPT||"function"!=typeof this.target&&this._enabled(!1,!1)),s.runBackwards)for(i=this._firstPT;i;)i.s+=i.c,i.c=-i.c,i=i._next;this._onUpdate=s.onUpdate,this._initted=!0},s._initProps=function(t,e,i,n,r){var o,s,a,l,u,h;if(null==t)return!1;for(o in D[t._gsTweenID]&&Q(),this.vars.css||t.style&&t!==c&&t.nodeType&&G.css&&!1!==this.vars.autoCSS&&function(t,e){var i,n={};for(i in t)Y[i]||i in e&&"transform"!==i&&"x"!==i&&"y"!==i&&"width"!==i&&"height"!==i&&"className"!==i&&"border"!==i||!(!G[i]||G[i]&&G[i]._autoCSS)||(n[i]=t[i],delete t[i]);t.css=n}(this.vars,t),this.vars)if(h=this.vars[o],Y[o])h&&(h instanceof Array||h.push&&y(h))&&-1!==h.join("").indexOf("{self}")&&(this.vars[o]=h=this._swapSelfInParams(h,this));else if(G[o]&&(l=new G[o])._onInitTween(t,this.vars[o],this,r)){for(this._firstPT=u={_next:this._firstPT,t:l,p:"setRatio",s:0,c:1,f:1,n:o,pg:1,pr:l._priority,m:0},s=l._overwriteProps.length;-1<--s;)e[l._overwriteProps[s]]=this._firstPT;(l._priority||l._onInitAllProps)&&(a=!0),(l._onDisable||l._onEnable)&&(this._notifyPluginsOfEnabled=!0),u._next&&(u._next._prev=u)}else e[o]=B.call(this,t,o,"get",h,o,0,null,this.vars.stringFilter,r);return n&&this._kill(n,t)?this._initProps(t,e,i,n,r):1<this._overwrite&&this._firstPT&&1<i.length&&Z(t,this,e,this._overwrite,i)?(this._kill(e,t),this._initProps(t,e,i,n,r)):(this._firstPT&&(!1!==this.vars.lazy&&this._duration||this.vars.lazy&&!this._duration)&&(D[t._gsTweenID]=!0),a)},s.render=function(t,e,i){var n,r,o,s,a=this._time,l=this._duration,u=this._rawPrevTime;if(l-1e-7<=t&&0<=t)this._totalTime=this._time=l,this.ratio=this._ease._calcEnd?this._ease.getRatio(1):1,this._reversed||(n=!0,r="onComplete",i=i||this._timeline.autoRemoveChildren),0===l&&(this._initted||!this.vars.lazy||i)&&(this._startTime===this._timeline._duration&&(t=0),(u<0||t<=0&&-1e-7<=t||1e-10===u&&"isPause"!==this.data)&&u!==t&&(i=!0,1e-10<u&&(r="onReverseComplete")),this._rawPrevTime=s=!e||t||u===t?t:1e-10);else if(t<1e-7)this._totalTime=this._time=0,this.ratio=this._ease._calcEnd?this._ease.getRatio(0):0,(0!==a||0===l&&0<u)&&(r="onReverseComplete",n=this._reversed),t<0&&(this._active=!1,0===l&&(this._initted||!this.vars.lazy||i)&&(0<=u&&(1e-10!==u||"isPause"!==this.data)&&(i=!0),this._rawPrevTime=s=!e||t||u===t?t:1e-10)),(!this._initted||this._startAt&&this._startAt.progress())&&(i=!0);else if(this._totalTime=this._time=t,this._easeType){var h=t/l,c=this._easeType,f=this._easePower;(1===c||3===c&&.5<=h)&&(h=1-h),3===c&&(h*=2),1===f?h*=h:2===f?h*=h*h:3===f?h*=h*h*h:4===f&&(h*=h*h*h*h),this.ratio=1===c?1-h:2===c?h:t/l<.5?h/2:1-h/2}else this.ratio=this._ease.getRatio(t/l);if(this._time!==a||i){if(!this._initted){if(this._init(),!this._initted||this._gc)return;if(!i&&this._firstPT&&(!1!==this.vars.lazy&&this._duration||this.vars.lazy&&!this._duration))return this._time=this._totalTime=a,this._rawPrevTime=u,R.push(this),void(this._lazy=[t,e]);this._time&&!n?this.ratio=this._ease.getRatio(this._time/l):n&&this._ease._calcEnd&&(this.ratio=this._ease.getRatio(0===this._time?0:1))}for(!1!==this._lazy&&(this._lazy=!1),this._active||!this._paused&&this._time!==a&&0<=t&&(this._active=!0),0===a&&(this._startAt&&(0<=t?this._startAt.render(t,!0,i):r||(r="_dummyGS")),this.vars.onStart&&(0===this._time&&0!==l||e||this._callback("onStart"))),o=this._firstPT;o;)o.f?o.t[o.p](o.c*this.ratio+o.s):o.t[o.p]=o.c*this.ratio+o.s,o=o._next;this._onUpdate&&(t<0&&this._startAt&&-1e-4!==t&&this._startAt.render(t,!0,i),e||(this._time!==a||n||i)&&this._callback("onUpdate")),r&&(this._gc&&!i||(t<0&&this._startAt&&!this._onUpdate&&-1e-4!==t&&this._startAt.render(t,!0,i),n&&(this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!e&&this.vars[r]&&this._callback(r),0===l&&1e-10===this._rawPrevTime&&1e-10!==s&&(this._rawPrevTime=0)))}},s._kill=function(t,e,i){if("all"===t&&(t=null),null==t&&(null==e||e===this.target))return this._lazy=!1,this._enabled(!1,!1);e="string"!=typeof e?e||this._targets||this.target:I.selector(e)||e;var n,r,o,s,a,l,u,h,c,f=i&&this._time&&i._startTime===this._startTime&&this._timeline===i._timeline;if((y(e)||M(e))&&"number"!=typeof e[0])for(n=e.length;-1<--n;)this._kill(t,e[n],i)&&(l=!0);else{if(this._targets){for(n=this._targets.length;-1<--n;)if(e===this._targets[n]){a=this._propLookup[n]||{},this._overwrittenProps=this._overwrittenProps||[],r=this._overwrittenProps[n]=t?this._overwrittenProps[n]||{}:"all";break}}else{if(e!==this.target)return!1;a=this._propLookup,r=this._overwrittenProps=t?this._overwrittenProps||{}:"all"}if(a){if(u=t||a,h=t!==r&&"all"!==r&&t!==a&&("object"!==(void 0===t?"undefined":ie(t))||!t._tempKill),i&&(I.onOverwrite||this.vars.onOverwrite)){for(o in u)a[o]&&(c||(c=[]),c.push(o));if((c||!t)&&!K(this,i,e,c))return!1}for(o in u)(s=a[o])&&(f&&(s.f?s.t[s.p](s.s):s.t[s.p]=s.s,l=!0),s.pg&&s.t._kill(u)&&(l=!0),s.pg&&0!==s.t._overwriteProps.length||(s._prev?s._prev._next=s._next:s===this._firstPT&&(this._firstPT=s._next),s._next&&(s._next._prev=s._prev),s._next=s._prev=null),delete a[o]),h&&(r[o]=1);!this._firstPT&&this._initted&&this._enabled(!1,!1)}}return l},s.invalidate=function(){return this._notifyPluginsOfEnabled&&I._onPluginEvent("_onDisable",this),this._firstPT=this._overwrittenProps=this._startAt=this._onUpdate=null,this._notifyPluginsOfEnabled=this._active=this._lazy=!1,this._propLookup=this._targets?{}:[],C.prototype.invalidate.call(this),this.vars.immediateRender&&(this._time=-1e-10,this.render(Math.min(0,-this._delay))),this},s._enabled=function(t,e){if(m||d.wake(),t&&this._gc){var i,n=this._targets;if(n)for(i=n.length;-1<--i;)this._siblings[i]=J(n[i],this,!0);else this._siblings=J(this.target,this,!0)}return C.prototype._enabled.call(this,t,e),!(!this._notifyPluginsOfEnabled||!this._firstPT)&&I._onPluginEvent(t?"_onEnable":"_onDisable",this)},I.to=function(t,e,i){return new I(t,e,i)},I.from=function(t,e,i){return i.runBackwards=!0,i.immediateRender=0!=i.immediateRender,new I(t,e,i)},I.fromTo=function(t,e,i,n){return n.startAt=i,n.immediateRender=0!=n.immediateRender&&0!=i.immediateRender,new I(t,e,n)},I.delayedCall=function(t,e,i,n,r){return new I(e,0,{delay:t,onComplete:e,onCompleteParams:i,callbackScope:n,onReverseComplete:e,onReverseCompleteParams:i,immediateRender:!1,lazy:!1,useFrames:r,overwrite:0})},I.set=function(t,e){return new I(t,0,e)},I.getTweensOf=function(t,e){if(null==t)return[];var i,n,r,o;if(t="string"!=typeof t?t:I.selector(t)||t,(y(t)||M(t))&&"number"!=typeof t[0]){for(i=t.length,n=[];-1<--i;)n=n.concat(I.getTweensOf(t[i],e));for(i=n.length;-1<--i;)for(o=n[i],r=i;-1<--r;)o===n[r]&&n.splice(i,1)}else if(t._gsTweenID)for(i=(n=J(t).concat()).length;-1<--i;)(n[i]._gc||e&&!n[i].isActive())&&n.splice(i,1);return n||[]},I.killTweensOf=I.killDelayedCallsTo=function(t,e,i){"object"===(void 0===e?"undefined":ie(e))&&(i=e,e=!1);for(var n=I.getTweensOf(t,e),r=n.length;-1<--r;)n[r]._kill(i,t)};var et=w("plugins.TweenPlugin",function(t,e){this._overwriteProps=(t||"").split(","),this._propName=this._overwriteProps[0],this._priority=e||0,this._super=et.prototype},!0);if(s=et.prototype,et.version="1.19.0",et.API=2,s._firstPT=null,s._addTween=B,s.setRatio=F,s._kill=function(t){var e,i=this._overwriteProps,n=this._firstPT;if(null!=t[this._propName])this._overwriteProps=[];else for(e=i.length;-1<--e;)null!=t[i[e]]&&i.splice(e,1);for(;n;)null!=t[n.n]&&(n._next&&(n._next._prev=n._prev),n._prev?(n._prev._next=n._next,n._prev=null):this._firstPT===n&&(this._firstPT=n._next)),n=n._next;return!1},s._mod=s._roundProps=function(t){for(var e,i=this._firstPT;i;)(e=t[this._propName]||null!=i.n&&t[i.n.split(this._propName+"_").join("")])&&"function"==typeof e&&(2===i.f?i.t._applyPT.m=e:i.m=e),i=i._next},I._onPluginEvent=function(t,e){var i,n,r,o,s,a=e._firstPT;if("_onInitAllProps"===t){for(;a;){for(s=a._next,n=r;n&&n.pr>a.pr;)n=n._next;(a._prev=n?n._prev:o)?a._prev._next=a:r=a,(a._next=n)?n._prev=a:o=a,a=s}a=e._firstPT=r}for(;a;)a.pg&&"function"==typeof a.t[t]&&a.t[t]()&&(i=!0),a=a._next;return i},et.activate=function(t){for(var e=t.length;-1<--e;)t[e].API===et.API&&(G[(new t[e])._propName]=t[e]);return!0},u.plugin=function(t){if(!(t&&t.propName&&t.init&&t.API))throw"illegal plugin definition.";var e,i=t.propName,n=t.priority||0,r=t.overwriteProps,o={init:"_onInitTween",set:"setRatio",kill:"_kill",round:"_mod",mod:"_mod",initAll:"_onInitAllProps"},s=w("plugins."+i.charAt(0).toUpperCase()+i.substr(1)+"Plugin",function(){et.call(this,i,n),this._overwriteProps=r||[]},!0===t.global),a=s.prototype=new et(i);for(e in(a.constructor=s).API=t.API,o)"function"==typeof t[e]&&(a[o[e]]=t[e]);return s.version=t.version,et.activate([s]),s},n=c._gsQueue){for(o=0;o<n.length;o++)n[o]();for(s in $)$[s].func||c.console.log("GSAP encountered missing dependency: "+s)}m=!1}}(void 0!==nt&&nt.exports&&void 0!==t?t:window)}).call(rt,t(1))},function(t,e,i){"use strict";NexT.utils.isMobile()||i(28)},function(t,e,i){"use strict";!function(i){function n(t){if(r[t])return r[t].exports;var e=r[t]={i:t,l:!1,exports:{}};return i[t].call(e.exports,e,e.exports,n),e.l=!0,e.exports}var r={};n.m=i,n.c=r,n.i=function(t){return t},n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:i})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=11)}([function(t,e,i){function n(){this.live2DModel=null,this.modelMatrix=null,this.eyeBlink=null,this.physics=null,this.pose=null,this.debugMode=!1,this.initialized=!1,this.updating=!1,this.alpha=1,this.accAlpha=0,this.lipSync=!1,this.lipSyncValue=0,this.accelX=0,this.accelY=0,this.accelZ=0,this.dragX=0,this.dragY=0,this.startTimeMSec=null,this.mainMotionManager=new a,this.expressionManager=new a,this.motions={},this.expressions={},this.isTexLoaded=!1}function p(){AMotion.prototype.constructor.call(this),this.paramList=new Array}function _(){this.id="",this.type=-1,this.value=null}function r(){this.nextBlinkTime=null,this.stateStartTime=null,this.blinkIntervalMsec=null,this.eyeState=h.STATE_FIRST,this.blinkIntervalMsec=4e3,this.closingMotionMsec=100,this.closedMotionMsec=50,this.openingMotionMsec=150,this.closeIfZero=!0,this.eyeID_L="PARAM_EYE_L_OPEN",this.eyeID_R="PARAM_EYE_R_OPEN"}function s(){this.tr=new Float32Array(16),this.identity()}function o(t,e){s.prototype.constructor.call(this),this.width=t,this.height=e}function a(){MotionQueueManager.prototype.constructor.call(this),this.currentPriority=null,this.reservePriority=null,this.super=MotionQueueManager.prototype}function T(){this.physicsList=new Array,this.startTimeMSec=UtSystem.getUserTimeMSec()}function d(){this.lastTime=0,this.lastModel=null,this.partsGroups=new Array}function m(t){this.paramIndex=-1,this.partsIndex=-1,this.link=null,this.id=t}function g(){this.EPSILON=.01,this.faceTargetX=0,this.faceTargetY=0,this.faceX=0,this.faceY=0,this.faceVX=0,this.faceVY=0,this.lastTimeSec=0}function l(){s.prototype.constructor.call(this),this.screenLeft=null,this.screenRight=null,this.screenTop=null,this.screenBottom=null,this.maxLeft=null,this.maxRight=null,this.maxTop=null,this.maxBottom=null,this.max=Number.MAX_VALUE,this.min=0}function x(){}var u=0;n.prototype.getModelMatrix=function(){return this.modelMatrix},n.prototype.setAlpha=function(t){.999<t&&(t=1),t<.001&&(t=0),this.alpha=t},n.prototype.getAlpha=function(){return this.alpha},n.prototype.isInitialized=function(){return this.initialized},n.prototype.setInitialized=function(t){this.initialized=t},n.prototype.isUpdating=function(){return this.updating},n.prototype.setUpdating=function(t){this.updating=t},n.prototype.getLive2DModel=function(){return this.live2DModel},n.prototype.setLipSync=function(t){this.lipSync=t},n.prototype.setLipSyncValue=function(t){this.lipSyncValue=t},n.prototype.setAccel=function(t,e,i){this.accelX=t,this.accelY=e,this.accelZ=i},n.prototype.setDrag=function(t,e){this.dragX=t,this.dragY=e},n.prototype.getMainMotionManager=function(){return this.mainMotionManager},n.prototype.getExpressionManager=function(){return this.expressionManager},n.prototype.loadModelData=function(t,e){var i=x.getPlatformManager();this.debugMode&&i.log("Load model : "+t);var n=this;i.loadLive2DModel(t,function(t){n.live2DModel=t,n.live2DModel.saveParam(),0==Live2D.getError()?(n.modelMatrix=new o(n.live2DModel.getCanvasWidth(),n.live2DModel.getCanvasHeight()),n.modelMatrix.setWidth(2),n.modelMatrix.setCenterPosition(0,0),e(n.live2DModel)):console.error("Error : Failed to loadModelData().")})},n.prototype.loadTexture=function(t,e,i){u++;var n=x.getPlatformManager();this.debugMode&&n.log("Load Texture : "+e);var r=this;n.loadTexture(this.live2DModel,t,e,function(){0==--u&&(r.isTexLoaded=!0),"function"==typeof i&&i()})},n.prototype.loadMotion=function(e,t,i){var n=x.getPlatformManager();this.debugMode&&n.log("Load Motion : "+t);var r=null,o=this;n.loadBytes(t,function(t){r=Live2DMotion.loadMotion(t),null!=e&&(o.motions[e]=r),i(r)})},n.prototype.loadExpression=function(e,t,i){var n=x.getPlatformManager();this.debugMode&&n.log("Load Expression : "+t);var r=this;n.loadBytes(t,function(t){null!=e&&(r.expressions[e]=p.loadJson(t)),"function"==typeof i&&i()})},n.prototype.loadPose=function(t,e){var i=x.getPlatformManager();this.debugMode&&i.log("Load Pose : "+t);var n=this;try{i.loadBytes(t,function(t){n.pose=d.load(t),"function"==typeof e&&e()})}catch(t){console.warn(t)}},n.prototype.loadPhysics=function(t){var e=x.getPlatformManager();this.debugMode&&e.log("Load Physics : "+t);var i=this;try{e.loadBytes(t,function(t){i.physics=T.load(t)})}catch(t){console.warn(t)}},n.prototype.hitTestSimple=function(t,e,i){var n=this.live2DModel.getDrawDataIndex(t);if(n<0)return!1;for(var r=this.live2DModel.getTransformedPoints(n),o=this.live2DModel.getCanvasWidth(),s=0,a=this.live2DModel.getCanvasHeight(),l=0,u=0;u<r.length;u+=2){var h=r[u],c=r[u+1];h<o&&(o=h),s<h&&(s=h),c<a&&(a=c),l<c&&(l=c)}var f=this.modelMatrix.invertTransformX(e),p=this.modelMatrix.invertTransformY(i);return o<=f&&f<=s&&a<=p&&p<=l},p.prototype=new AMotion,p.EXPRESSION_DEFAULT="DEFAULT",p.TYPE_SET=0,p.TYPE_ADD=1,p.TYPE_MULT=2,p.loadJson=function(t){var e=new p,i=x.getPlatformManager().jsonParseFromBytes(t);if(e.setFadeIn(0<parseInt(i.fade_in)?parseInt(i.fade_in):1e3),e.setFadeOut(0<parseInt(i.fade_out)?parseInt(i.fade_out):1e3),null==i.params)return e;var n=i.params,r=n.length;e.paramList=[];for(var o=0;o<r;o++){var s,a=n[o],l=a.id.toString(),u=parseFloat(a.val),h=null!=a.calc?a.calc.toString():"add";if((s="add"===h?p.TYPE_ADD:"mult"===h?p.TYPE_MULT:"set"===h?p.TYPE_SET:p.TYPE_ADD)==p.TYPE_ADD)u-=c=null==a.def?0:parseFloat(a.def);else if(s==p.TYPE_MULT){var c;0==(c=null==a.def?1:parseFloat(a.def))&&(c=1),u/=c}var f=new _;f.id=l,f.type=s,f.value=u,e.paramList.push(f)}return e},p.prototype.updateParamExe=function(t,e,i,n){for(var r=this.paramList.length-1;0<=r;--r){var o=this.paramList[r];o.type==p.TYPE_ADD?t.addToParamFloat(o.id,o.value,i):o.type==p.TYPE_MULT?t.multParamFloat(o.id,o.value,i):o.type==p.TYPE_SET&&t.setParamFloat(o.id,o.value,i)}},r.prototype.calcNextBlink=function(){return UtSystem.getUserTimeMSec()+Math.random()*(2*this.blinkIntervalMsec-1)},r.prototype.setInterval=function(t){this.blinkIntervalMsec=t},r.prototype.setEyeMotion=function(t,e,i){this.closingMotionMsec=t,this.closedMotionMsec=e,this.openingMotionMsec=i},r.prototype.updateParam=function(t){var e,i=UtSystem.getUserTimeMSec(),n=0;switch(this.eyeState){case h.STATE_CLOSING:1<=(n=(i-this.stateStartTime)/this.closingMotionMsec)&&(n=1,this.eyeState=h.STATE_CLOSED,this.stateStartTime=i),e=1-n;break;case h.STATE_CLOSED:1<=(n=(i-this.stateStartTime)/this.closedMotionMsec)&&(this.eyeState=h.STATE_OPENING,this.stateStartTime=i),e=0;break;case h.STATE_OPENING:1<=(n=(i-this.stateStartTime)/this.openingMotionMsec)&&(n=1,this.eyeState=h.STATE_INTERVAL,this.nextBlinkTime=this.calcNextBlink()),e=n;break;case h.STATE_INTERVAL:this.nextBlinkTime<i&&(this.eyeState=h.STATE_CLOSING,this.stateStartTime=i),e=1;break;case h.STATE_FIRST:default:this.eyeState=h.STATE_INTERVAL,this.nextBlinkTime=this.calcNextBlink(),e=1}this.closeIfZero||(e=-e),t.setParamFloat(this.eyeID_L,e),t.setParamFloat(this.eyeID_R,e)};var h=function(){};h.STATE_FIRST="STATE_FIRST",h.STATE_INTERVAL="STATE_INTERVAL",h.STATE_CLOSING="STATE_CLOSING",h.STATE_CLOSED="STATE_CLOSED",h.STATE_OPENING="STATE_OPENING",s.mul=function(t,e,i){var n,r,o,s=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(n=0;n<4;n++)for(r=0;r<4;r++)for(o=0;o<4;o++)s[n+4*r]+=t[n+4*o]*e[o+4*r];for(n=0;n<16;n++)i[n]=s[n]},s.prototype.identity=function(){for(var t=0;t<16;t++)this.tr[t]=t%5==0?1:0},s.prototype.getArray=function(){return this.tr},s.prototype.getCopyMatrix=function(){return new Float32Array(this.tr)},s.prototype.setMatrix=function(t){if(null!=this.tr&&this.tr.length==this.tr.length)for(var e=0;e<16;e++)this.tr[e]=t[e]},s.prototype.getScaleX=function(){return this.tr[0]},s.prototype.getScaleY=function(){return this.tr[5]},s.prototype.transformX=function(t){return this.tr[0]*t+this.tr[12]},s.prototype.transformY=function(t){return this.tr[5]*t+this.tr[13]},s.prototype.invertTransformX=function(t){return(t-this.tr[12])/this.tr[0]},s.prototype.invertTransformY=function(t){return(t-this.tr[13])/this.tr[5]},s.prototype.multTranslate=function(t,e){s.mul([1,0,0,0,0,1,0,0,0,0,1,0,t,e,0,1],this.tr,this.tr)},s.prototype.translate=function(t,e){this.tr[12]=t,this.tr[13]=e},s.prototype.translateX=function(t){this.tr[12]=t},s.prototype.translateY=function(t){this.tr[13]=t},s.prototype.multScale=function(t,e){s.mul([t,0,0,0,0,e,0,0,0,0,1,0,0,0,0,1],this.tr,this.tr)},s.prototype.scale=function(t,e){this.tr[0]=t,this.tr[5]=e},(o.prototype=new s).setPosition=function(t,e){this.translate(t,e)},o.prototype.setCenterPosition=function(t,e){var i=this.width*this.getScaleX(),n=this.height*this.getScaleY();this.translate(t-i/2,e-n/2)},o.prototype.top=function(t){this.setY(t)},o.prototype.bottom=function(t){var e=this.height*this.getScaleY();this.translateY(t-e)},o.prototype.left=function(t){this.setX(t)},o.prototype.right=function(t){var e=this.width*this.getScaleX();this.translateX(t-e)},o.prototype.centerX=function(t){var e=this.width*this.getScaleX();this.translateX(t-e/2)},o.prototype.centerY=function(t){var e=this.height*this.getScaleY();this.translateY(t-e/2)},o.prototype.setX=function(t){this.translateX(t)},o.prototype.setY=function(t){this.translateY(t)},o.prototype.setHeight=function(t){var e=t/this.height,i=-e;this.scale(e,i)},o.prototype.setWidth=function(t){var e=t/this.width,i=-e;this.scale(e,i)},(a.prototype=new MotionQueueManager).getCurrentPriority=function(){return this.currentPriority},a.prototype.getReservePriority=function(){return this.reservePriority},a.prototype.reserveMotion=function(t){return!(this.reservePriority>=t||this.currentPriority>=t||(this.reservePriority=t,0))},a.prototype.setReservePriority=function(t){this.reservePriority=t},a.prototype.updateParam=function(t){var e=MotionQueueManager.prototype.updateParam.call(this,t);return this.isFinished()&&(this.currentPriority=0),e},a.prototype.startMotionPrio=function(t,e){return e==this.reservePriority&&(this.reservePriority=0),this.currentPriority=e,this.startMotion(t,!1)},T.load=function(t){for(var e=new T,i=x.getPlatformManager().jsonParseFromBytes(t).physics_hair,n=i.length,r=0;r<n;r++){var o=i[r],s=new PhysicsHair,a=o.setup,l=parseFloat(a.length),u=parseFloat(a.regist),h=parseFloat(a.mass);s.setup(l,u,h);for(var c=o.src,f=c.length,p=0;p<f;p++){var _=c[p],d=_.id,m=PhysicsHair.Src.SRC_TO_X;"x"===(w=_.ptype)?m=PhysicsHair.Src.SRC_TO_X:"y"===w?m=PhysicsHair.Src.SRC_TO_Y:"angle"===w?m=PhysicsHair.Src.SRC_TO_G_ANGLE:UtDebug.error("live2d","Invalid parameter:PhysicsHair.Src");var g=parseFloat(_.scale),v=parseFloat(_.weight);s.addSrcParam(m,d,g,v)}var y=o.targets,$=y.length;for(p=0;p<$;p++){var w,b=y[p];d=b.id,m=PhysicsHair.Target.TARGET_FROM_ANGLE,"angle"===(w=b.ptype)?m=PhysicsHair.Target.TARGET_FROM_ANGLE:"angle_v"===w?m=PhysicsHair.Target.TARGET_FROM_ANGLE_V:UtDebug.error("live2d","Invalid parameter:PhysicsHair.Target"),g=parseFloat(b.scale),v=parseFloat(b.weight),s.addTargetParam(m,d,g,v)}e.physicsList.push(s)}return e},T.prototype.updateParam=function(t){for(var e=UtSystem.getUserTimeMSec()-this.startTimeMSec,i=0;i<this.physicsList.length;i++)this.physicsList[i].update(t,e)},d.load=function(t){for(var e=new d,i=x.getPlatformManager().jsonParseFromBytes(t).parts_visible,n=i.length,r=0;r<n;r++){for(var o=i[r].group,s=o.length,a=new Array,l=0;l<s;l++){var u=o[l],h=new m(u.id);if(a[l]=h,null!=u.link){var c=u.link,f=c.length;h.link=new Array;for(var p=0;p<f;p++){var _=new m(c[p]);h.link.push(_)}}}e.partsGroups.push(a)}return e},d.prototype.updateParam=function(t){if(null!=t){t!=this.lastModel&&this.initParam(t),this.lastModel=t;var e=UtSystem.getUserTimeMSec(),i=0==this.lastTime?0:(e-this.lastTime)/1e3;this.lastTime=e,i<0&&(i=0);for(var n=0;n<this.partsGroups.length;n++)this.normalizePartsOpacityGroup(t,this.partsGroups[n],i),this.copyOpacityOtherParts(t,this.partsGroups[n])}},d.prototype.initParam=function(t){if(null!=t)for(var e=0;e<this.partsGroups.length;e++)for(var i=this.partsGroups[e],n=0;n<i.length;n++){i[n].initIndex(t);var r=i[n].partsIndex,o=i[n].paramIndex;if(!(r<0)){var s=0!=t.getParamFloat(o);if(t.setPartsOpacity(r,s?1:0),t.setParamFloat(o,s?1:0),null!=i[n].link)for(var a=0;a<i[n].link.length;a++)i[n].link[a].initIndex(t)}}},d.prototype.normalizePartsOpacityGroup=function(t,e,i){for(var n=-1,r=1,o=0;o<e.length;o++){var s=e[o].partsIndex,a=e[o].paramIndex;if(!(s<0)&&0!=t.getParamFloat(a)){if(0<=n)break;n=o,r=t.getPartsOpacity(s),1<(r+=i/.5)&&(r=1)}}for(n<0&&(n=0,r=1),o=0;o<e.length;o++)if(!((s=e[o].partsIndex)<0))if(n==o)t.setPartsOpacity(s,r);else{var l,u=t.getPartsOpacity(s);.15<(1-(l=r<.5?-.5*r/.5+1:.5*(1-r)/.5))*(1-r)&&(l=1-.15/(1-r)),l<u&&(u=l),t.setPartsOpacity(s,u)}},d.prototype.copyOpacityOtherParts=function(t,e){for(var i=0;i<e.length;i++){var n=e[i];if(null!=n.link&&!(n.partsIndex<0))for(var r=t.getPartsOpacity(n.partsIndex),o=0;o<n.link.length;o++){var s=n.link[o];s.partsIndex<0||t.setPartsOpacity(s.partsIndex,r)}}},m.prototype.initIndex=function(t){this.paramIndex=t.getParamIndex("VISIBLE:"+this.id),this.partsIndex=t.getPartsDataIndex(PartsDataID.getID(this.id)),t.setParamFloat(this.paramIndex,1)},g.FRAME_RATE=30,g.prototype.setPoint=function(t,e){this.faceTargetX=t,this.faceTargetY=e},g.prototype.getX=function(){return this.faceX},g.prototype.getY=function(){return this.faceY},g.prototype.update=function(){var t=40/7.5/g.FRAME_RATE;if(0!=this.lastTimeSec){var e=UtSystem.getUserTimeMSec(),i=(e-this.lastTimeSec)*g.FRAME_RATE/1e3;this.lastTimeSec=e;var n=i*t/(.15*g.FRAME_RATE),r=this.faceTargetX-this.faceX,o=this.faceTargetY-this.faceY;if(!(Math.abs(r)<=this.EPSILON&&Math.abs(o)<=this.EPSILON)){var s=Math.sqrt(r*r+o*o),a=t*o/s,l=t*r/s-this.faceVX,u=a-this.faceVY,h=Math.sqrt(l*l+u*u);(h<-n||n<h)&&(l*=n/h,u*=n/h,h=n),this.faceVX+=l,this.faceVY+=u;var c=.5*(Math.sqrt(n*n+16*n*s-8*n*s)-n),f=Math.sqrt(this.faceVX*this.faceVX+this.faceVY*this.faceVY);c<f&&(this.faceVX*=c/f,this.faceVY*=c/f),this.faceX+=this.faceVX,this.faceY+=this.faceVY}}else this.lastTimeSec=UtSystem.getUserTimeMSec()},(l.prototype=new s).getMaxScale=function(){return this.max},l.prototype.getMinScale=function(){return this.min},l.prototype.setMaxScale=function(t){this.max=t},l.prototype.setMinScale=function(t){this.min=t},l.prototype.isMaxScale=function(){return this.getScaleX()==this.max},l.prototype.isMinScale=function(){return this.getScaleX()==this.min},l.prototype.adjustTranslate=function(t,e){this.tr[0]*this.maxLeft+(this.tr[12]+t)>this.screenLeft&&(t=this.screenLeft-this.tr[0]*this.maxLeft-this.tr[12]),this.tr[0]*this.maxRight+(this.tr[12]+t)<this.screenRight&&(t=this.screenRight-this.tr[0]*this.maxRight-this.tr[12]),this.tr[5]*this.maxTop+(this.tr[13]+e)<this.screenTop&&(e=this.screenTop-this.tr[5]*this.maxTop-this.tr[13]),this.tr[5]*this.maxBottom+(this.tr[13]+e)>this.screenBottom&&(e=this.screenBottom-this.tr[5]*this.maxBottom-this.tr[13]),s.mul([1,0,0,0,0,1,0,0,0,0,1,0,t,e,0,1],this.tr,this.tr)},l.prototype.adjustScale=function(t,e,i){var n=i*this.tr[0];n<this.min?0<this.tr[0]&&(i=this.min/this.tr[0]):n>this.max&&0<this.tr[0]&&(i=this.max/this.tr[0]);var r=[1,0,0,0,0,1,0,0,0,0,1,0,t,e,0,1],o=[i,0,0,0,0,i,0,0,0,0,1,0,0,0,0,1];s.mul([1,0,0,0,0,1,0,0,0,0,1,0,-t,-e,0,1],this.tr,this.tr),s.mul(o,this.tr,this.tr),s.mul(r,this.tr,this.tr)},l.prototype.setScreenRect=function(t,e,i,n){this.screenLeft=t,this.screenRight=e,this.screenTop=n,this.screenBottom=i},l.prototype.setMaxScreenRect=function(t,e,i,n){this.maxLeft=t,this.maxRight=e,this.maxTop=n,this.maxBottom=i},l.prototype.getScreenLeft=function(){return this.screenLeft},l.prototype.getScreenRight=function(){return this.screenRight},l.prototype.getScreenBottom=function(){return this.screenBottom},l.prototype.getScreenTop=function(){return this.screenTop},l.prototype.getMaxLeft=function(){return this.maxLeft},l.prototype.getMaxRight=function(){return this.maxRight},l.prototype.getMaxBottom=function(){return this.maxBottom},l.prototype.getMaxTop=function(){return this.maxTop},x.platformManager=null,x.getPlatformManager=function(){return x.platformManager},x.setPlatformManager=function(t){x.platformManager=t},t.exports={L2DTargetPoint:g,Live2DFramework:x,L2DViewMatrix:l,L2DPose:d,L2DPartsParam:m,L2DPhysics:T,L2DMotionManager:a,L2DModelMatrix:o,L2DMatrix44:s,EYE_STATE:h,L2DEyeBlink:r,L2DExpressionParam:_,L2DExpressionMotion:p,L2DBaseModel:n}},function(t,e,i){t.exports={DEBUG_LOG:!1,DEBUG_MOUSE_LOG:!1,VIEW_MAX_SCALE:2,VIEW_MIN_SCALE:.8,VIEW_LOGICAL_LEFT:-1,VIEW_LOGICAL_RIGHT:1,VIEW_LOGICAL_MAX_LEFT:-2,VIEW_LOGICAL_MAX_RIGHT:2,VIEW_LOGICAL_MAX_BOTTOM:-2,VIEW_LOGICAL_MAX_TOP:2,PRIORITY_NONE:0,PRIORITY_IDLE:1,PRIORITY_NORMAL:2,PRIORITY_FORCE:3,MOTION_GROUP_IDLE:"idle",MOTION_GROUP_TAP_BODY:"tap_body",MOTION_GROUP_FLICK_HEAD:"flick_head",MOTION_GROUP_PINCH_IN:"pinch_in",MOTION_GROUP_PINCH_OUT:"pinch_out",MOTION_GROUP_SHAKE:"shake",HIT_AREA_HEAD:"head",HIT_AREA_BODY:"body"}},function(t,e,i){function n(){}n.matrixStack=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],n.depth=0,n.currentMatrix=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],n.tmp=new Array(16),n.reset=function(){this.depth=0},n.loadIdentity=function(){for(var t=0;t<16;t++)this.currentMatrix[t]=t%5==0?1:0},n.push=function(){var t=(this.depth,16*(this.depth+1));this.matrixStack.length<t+16&&(this.matrixStack.length=t+16);for(var e=0;e<16;e++)this.matrixStack[t+e]=this.currentMatrix[e];this.depth++},n.pop=function(){--this.depth<0&&(myError("Invalid matrix stack."),this.depth=0);for(var t=16*this.depth,e=0;e<16;e++)this.currentMatrix[e]=this.matrixStack[t+e]},n.getMatrix=function(){return this.currentMatrix},n.multMatrix=function(t){var e,i,n;for(e=0;e<16;e++)this.tmp[e]=0;for(e=0;e<4;e++)for(i=0;i<4;i++)for(n=0;n<4;n++)this.tmp[e+4*i]+=this.currentMatrix[e+4*n]*t[n+4*i];for(e=0;e<16;e++)this.currentMatrix[e]=this.tmp[e]},t.exports=n},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.setContext=function(t){n=t},e.getContext=function(){return n};var n=void 0},function(t,e,i){function n(t){return t&&t.__esModule?t:{default:t}}function a(t,e,i){function n(t,e){return 180*Math.acos((i={x:0,y:1},r=t,o=e,s=Math.sqrt(r*r+o*o),i.x*(n={x:r/s,y:o/s}).x+i.y*n.y))/Math.PI;var i,n,r,o,s}if(e.x<i.left+i.width&&e.y<i.top+i.height&&e.x>i.left&&e.y>i.top)return e;var r=t.x-e.x,o=t.y-e.y,s=n(r,o);e.x<t.x&&(s=360-s);var a=360-n(i.left-t.x,-1*(i.top-t.y)),l=360-n(i.left-t.x,-1*(i.top+i.height-t.y)),u=n(i.left+i.width-t.x,-1*(i.top-t.y)),h=n(i.left+i.width-t.x,-1*(i.top+i.height-t.y)),c=o/r,f={};if(s<u){var p=i.top-t.y,_=p/c;f={y:t.y+p,x:t.x+_}}else if(s<h){var d=i.left+i.width-t.x,m=d*c;f={y:t.y+m,x:t.x+d}}else if(s<l){var g=i.top+i.height-t.y,v=g/c;f={y:t.y+g,x:t.x+v}}else if(s<a){var y=t.x-i.left,$=y*c;f={y:t.y-$,x:t.x-y}}else{var w=i.top-t.y,b=w/c;f={y:t.y+w,x:t.x+b}}return f}function l(t){P=!0;var e=w.getBoundingClientRect(),i=(f(t.clientX-e.left),p(t.clientY-e.top),a({x:e.left+e.width/2,y:e.top+e.height*O},{x:t.clientX,y:t.clientY},e)),n=h(i.x-e.left),r=c(i.y-e.top);d.default.DEBUG_MOUSE_LOG&&console.log("onMouseDown device( x:"+t.clientX+" y:"+t.clientY+" ) view( x:"+n+" y:"+r+")"),b.setPoint(n,r),v.tapEvent(n,r)}function u(){P&&(P=!1),b.setPoint(0,0)}function r(t){if("mousewheel"==t.type);else if("mousedown"==t.type){if("button"in t&&0!=t.button)return}else if("mousemove"==t.type)l(t);else if("mouseup"==t.type){if("button"in t&&0!=t.button)return}else"mouseleave"==t.type&&u()}function o(t){var e,i,n,r,o,s=t.touches[0];"touchstart"==t.type?1==t.touches.length&&l(s):"touchmove"==t.type?(e=s,i=w.getBoundingClientRect(),f(e.clientX-i.left),p(e.clientY-i.top),r=h((n=a({x:i.left+i.width/2,y:i.top+i.height*O},{x:e.clientX,y:e.clientY},i)).x-i.left),o=c(n.y-i.top),d.default.DEBUG_MOUSE_LOG&&console.log("onMouseMove device( x:"+e.clientX+" y:"+e.clientY+" ) view( x:"+r+" y:"+o+")"),P&&b.setPoint(r,o)):"touchend"==t.type&&u()}function h(t){var e=S.transformX(t);return T.invertTransformX(e)}function c(t){var e=S.transformY(t);return T.invertTransformY(e)}function f(t){return S.transformX(t)}function p(t){return S.transformY(t)}i(9);var _=i(0),s=n(i(5)),d=n(i(1)),m=n(i(2)),g=i(3),v=(window.navigator.platform.toLowerCase(),new s.default),y=!1,$=null,w=null,b=null,T=null,x=null,S=null,P=!1,O=.5;window.loadlive2d=function(t,e,i){var n;O=void 0===i?.5:i,n=t,(w=document.getElementById(n)).addEventListener&&(window.addEventListener("click",r),window.addEventListener("mousedown",r),window.addEventListener("mousemove",r),window.addEventListener("mouseup",r),document.addEventListener("mouseleave",r),window.addEventListener("touchstart",o),window.addEventListener("touchend",o),window.addEventListener("touchmove",o)),function(t){var e=w.width,i=w.height;b=new _.L2DTargetPoint;var n,r=i/e,o=d.default.VIEW_LOGICAL_LEFT,s=d.default.VIEW_LOGICAL_RIGHT,a=-r,l=r;(T=new _.L2DViewMatrix).setScreenRect(o,s,a,l),T.setMaxScreenRect(d.default.VIEW_LOGICAL_MAX_LEFT,d.default.VIEW_LOGICAL_MAX_RIGHT,d.default.VIEW_LOGICAL_MAX_BOTTOM,d.default.VIEW_LOGICAL_MAX_TOP),T.setMaxScale(d.default.VIEW_MAX_SCALE),T.setMinScale(d.default.VIEW_MIN_SCALE),(x=new _.L2DMatrix44).multScale(1,e/i),(S=new _.L2DMatrix44).multTranslate(-e/2,-i/2),S.multScale(2/e,-2/e),$=function(){for(var t=["webgl","experimental-webgl","webkit-3d","moz-webgl"],e=0;e<t.length;e++)try{var i=w.getContext(t[e],{premultipliedAlpha:!0});if(i)return i}catch(t){}return null}(),(0,g.setContext)($),$?(window.Live2D.setGL($),$.clearColor(0,0,0,0),n=t,v.reloadFlg=!0,v.count++,v.changeModel($,n),y||(y=!0,function t(){(function(){m.default.reset(),m.default.loadIdentity(),b.update(),v.setDrag(b.getX(),b.getY()),$.clear($.COLOR_BUFFER_BIT),m.default.multMatrix(x.getArray()),m.default.multMatrix(T.getArray()),m.default.push();for(var t=0;t<v.numModels();t++){var e=v.getModel(t);if(null==e)return;e.initialized&&!e.updating&&(e.update(),e.draw($))}m.default.pop()})(),(window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame)(t,w)}())):console.error("Failed to create WebGL context.")}(e)}},function(t,e,i){function n(t){return t&&t.__esModule?t:{default:t}}function r(){this.models=[],this.count=-1,this.reloadFlg=!1,Live2D.init(),o.Live2DFramework.setPlatformManager(new s.default)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=i(0),s=n(i(7)),a=n(i(6)),l=n(i(1));r.prototype.createModel=function(){var t=new a.default;return this.models.push(t),t},r.prototype.changeModel=function(t,e){this.reloadFlg&&(this.reloadFlg=!1,this.releaseModel(0,t),this.createModel(),this.models[0].load(t,e))},r.prototype.getModel=function(t){return t>=this.models.length?null:this.models[t]},r.prototype.releaseModel=function(t,e){this.models.length<=t||(this.models[t].release(e),delete this.models[t],this.models.splice(t,1))},r.prototype.numModels=function(){return this.models.length},r.prototype.setDrag=function(t,e){for(var i=0;i<this.models.length;i++)this.models[i].setDrag(t,e)},r.prototype.maxScaleEvent=function(){l.default.DEBUG_LOG&&console.log("Max scale event.");for(var t=0;t<this.models.length;t++)this.models[t].startRandomMotion(l.default.MOTION_GROUP_PINCH_IN,l.default.PRIORITY_NORMAL)},r.prototype.minScaleEvent=function(){l.default.DEBUG_LOG&&console.log("Min scale event.");for(var t=0;t<this.models.length;t++)this.models[t].startRandomMotion(l.default.MOTION_GROUP_PINCH_OUT,l.default.PRIORITY_NORMAL)},r.prototype.tapEvent=function(t,e){l.default.DEBUG_LOG&&console.log("tapEvent view x:"+t+" y:"+e);for(var i=0;i<this.models.length;i++)this.models[i].hitTest(l.default.HIT_AREA_HEAD,t,e)?(l.default.DEBUG_LOG&&console.log("Tap face."),this.models[i].setRandomExpression()):this.models[i].hitTest(l.default.HIT_AREA_BODY,t,e)&&(l.default.DEBUG_LOG&&console.log("Tap body. models["+i+"]"),this.models[i].startRandomMotion(l.default.MOTION_GROUP_TAP_BODY,l.default.PRIORITY_NORMAL));return!0}},function(t,e,i){function n(t){return t&&t.__esModule?t:{default:t}}function r(){s.L2DBaseModel.prototype.constructor.call(this),this.modelHomeDir="",this.modelSetting=null,this.tmpMatrix=[]}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var s=i(0),a=n(i(8)),l=n(i(1)),o=n(i(2));(r.prototype=new s.L2DBaseModel).load=function(t,e,r){this.setUpdating(!0),this.setInitialized(!1),this.modelHomeDir=e.substring(0,e.lastIndexOf("/")+1),this.modelSetting=new a.default;var o=this;this.modelSetting.loadModelSetting(e,function(){var t=o.modelHomeDir+o.modelSetting.getModelFile();o.loadModelData(t,function(t){for(var e=0;e<o.modelSetting.getTextureNum();e++){var i=o.modelHomeDir+o.modelSetting.getTextureFile(e);o.loadTexture(e,i,function(){if(o.isTexLoaded){if(0<o.modelSetting.getExpressionNum()){o.expressions={};for(var t=0;t<o.modelSetting.getExpressionNum();t++){var e=o.modelSetting.getExpressionName(t),i=o.modelHomeDir+o.modelSetting.getExpressionFile(t);o.loadExpression(e,i)}}else o.expressionManager=null,o.expressions={};if(null==o.eyeBlink&&(o.eyeBlink=new s.L2DEyeBlink),null!=o.modelSetting.getPhysicsFile()?o.loadPhysics(o.modelHomeDir+o.modelSetting.getPhysicsFile()):o.physics=null,null!=o.modelSetting.getPoseFile()?o.loadPose(o.modelHomeDir+o.modelSetting.getPoseFile(),function(){o.pose.updateParam(o.live2DModel)}):o.pose=null,null!=o.modelSetting.getLayout()){var n=o.modelSetting.getLayout();null!=n.width&&o.modelMatrix.setWidth(n.width),null!=n.height&&o.modelMatrix.setHeight(n.height),null!=n.x&&o.modelMatrix.setX(n.x),null!=n.y&&o.modelMatrix.setY(n.y),null!=n.center_x&&o.modelMatrix.centerX(n.center_x),null!=n.center_y&&o.modelMatrix.centerY(n.center_y),null!=n.top&&o.modelMatrix.top(n.top),null!=n.bottom&&o.modelMatrix.bottom(n.bottom),null!=n.left&&o.modelMatrix.left(n.left),null!=n.right&&o.modelMatrix.right(n.right)}for(t=0;t<o.modelSetting.getInitParamNum();t++)o.live2DModel.setParamFloat(o.modelSetting.getInitParamID(t),o.modelSetting.getInitParamValue(t));for(t=0;t<o.modelSetting.getInitPartsVisibleNum();t++)o.live2DModel.setPartsOpacity(o.modelSetting.getInitPartsVisibleID(t),o.modelSetting.getInitPartsVisibleValue(t));o.live2DModel.saveParam(),o.preloadMotionGroup(l.default.MOTION_GROUP_IDLE),o.mainMotionManager.stopAllMotions(),o.setUpdating(!1),o.setInitialized(!0),"function"==typeof r&&r()}})}})})},r.prototype.release=function(t){var e=Live2DFramework.getPlatformManager();t.deleteTexture(e.texture)},r.prototype.preloadMotionGroup=function(e){for(var i=this,n=0;n<this.modelSetting.getMotionNum(e);n++){var t=this.modelSetting.getMotionFile(e,n);this.loadMotion(t,this.modelHomeDir+t,function(t){t.setFadeIn(i.modelSetting.getMotionFadeIn(e,n)),t.setFadeOut(i.modelSetting.getMotionFadeOut(e,n))})}},r.prototype.update=function(){if(null!=this.live2DModel){var t=(UtSystem.getUserTimeMSec()-this.startTimeMSec)/1e3*2*Math.PI;this.mainMotionManager.isFinished()&&this.startRandomMotion(l.default.MOTION_GROUP_IDLE,l.default.PRIORITY_IDLE),this.live2DModel.loadParam(),this.mainMotionManager.updateParam(this.live2DModel)||null!=this.eyeBlink&&this.eyeBlink.updateParam(this.live2DModel),this.live2DModel.saveParam(),null==this.expressionManager||null==this.expressions||this.expressionManager.isFinished()||this.expressionManager.updateParam(this.live2DModel),this.live2DModel.addToParamFloat("PARAM_ANGLE_X",30*this.dragX,1),this.live2DModel.addToParamFloat("PARAM_ANGLE_Y",30*this.dragY,1),this.live2DModel.addToParamFloat("PARAM_ANGLE_Z",this.dragX*this.dragY*-30,1),this.live2DModel.addToParamFloat("PARAM_BODY_ANGLE_X",10*this.dragX,1),this.live2DModel.addToParamFloat("PARAM_EYE_BALL_X",this.dragX,1),this.live2DModel.addToParamFloat("PARAM_EYE_BALL_Y",this.dragY,1),this.live2DModel.addToParamFloat("PARAM_ANGLE_X",Number(15*Math.sin(t/6.5345)),.5),this.live2DModel.addToParamFloat("PARAM_ANGLE_Y",Number(8*Math.sin(t/3.5345)),.5),this.live2DModel.addToParamFloat("PARAM_ANGLE_Z",Number(10*Math.sin(t/5.5345)),.5),this.live2DModel.addToParamFloat("PARAM_BODY_ANGLE_X",Number(4*Math.sin(t/15.5345)),.5),this.live2DModel.setParamFloat("PARAM_BREATH",Number(.5+.5*Math.sin(t/3.2345)),1),null!=this.physics&&this.physics.updateParam(this.live2DModel),null==this.lipSync&&this.live2DModel.setParamFloat("PARAM_MOUTH_OPEN_Y",this.lipSyncValue),null!=this.pose&&this.pose.updateParam(this.live2DModel),this.live2DModel.update()}else l.default.DEBUG_LOG&&console.error("Failed to update.")},r.prototype.setRandomExpression=function(){var t=[];for(var e in this.expressions)t.push(e);var i=parseInt(Math.random()*t.length);this.setExpression(t[i])},r.prototype.startRandomMotion=function(t,e){var i=this.modelSetting.getMotionNum(t),n=parseInt(Math.random()*i);this.startMotion(t,n,e)},r.prototype.startMotion=function(e,i,n){var t=this.modelSetting.getMotionFile(e,i);if(null!=t&&""!=t){if(n==l.default.PRIORITY_FORCE)this.mainMotionManager.setReservePriority(n);else if(!this.mainMotionManager.reserveMotion(n))return void(l.default.DEBUG_LOG&&console.log("Motion is running."));var r,o=this;null==this.motions[e]?this.loadMotion(null,this.modelHomeDir+t,function(t){r=t,o.setFadeInFadeOut(e,i,n,r)}):(r=this.motions[e],o.setFadeInFadeOut(e,i,n,r))}else l.default.DEBUG_LOG&&console.error("Failed to motion.")},r.prototype.setFadeInFadeOut=function(t,e,i,n){var r=this.modelSetting.getMotionFile(t,e);if(n.setFadeIn(this.modelSetting.getMotionFadeIn(t,e)),n.setFadeOut(this.modelSetting.getMotionFadeOut(t,e)),l.default.DEBUG_LOG&&console.log("Start motion : "+r),null==this.modelSetting.getMotionSound(t,e))this.mainMotionManager.startMotionPrio(n,i);else{var o=this.modelSetting.getMotionSound(t,e),s=document.createElement("audio");s.src=this.modelHomeDir+o,l.default.DEBUG_LOG&&console.log("Start sound : "+o),s.play(),this.mainMotionManager.startMotionPrio(n,i)}},r.prototype.setExpression=function(t){var e=this.expressions[t];l.default.DEBUG_LOG&&console.log("Expression : "+t),this.expressionManager.startMotion(e,!1)},r.prototype.draw=function(t){o.default.push(),o.default.multMatrix(this.modelMatrix.getArray()),this.tmpMatrix=o.default.getMatrix(),this.live2DModel.setMatrix(this.tmpMatrix),this.live2DModel.draw(),o.default.pop()},r.prototype.hitTest=function(t,e,i){for(var n=this.modelSetting.getHitAreaNum(),r=0;r<n;r++)if(t==this.modelSetting.getHitAreaName(r)){var o=this.modelSetting.getHitAreaID(r);return this.hitTestSimple(o,e,i)}return!1}},function(t,e,i){function n(){}Object.defineProperty(e,"__esModule",{value:!0}),e.default=n;var s=i(3);n.prototype.loadBytes=function(t,e){var i=new XMLHttpRequest;i.open("GET",t,!0),i.responseType="arraybuffer",i.onload=function(){switch(i.status){case 200:e(i.response);break;default:console.error("Failed to load ("+i.status+") : "+t)}},i.send(null)},n.prototype.loadString=function(t){this.loadBytes(t,function(t){return t})},n.prototype.loadLive2DModel=function(t,e){var i=null;this.loadBytes(t,function(t){i=Live2DModelWebGL.loadModel(t),e(i)})},n.prototype.loadTexture=function(i,n,t,r){var o=new Image;o.src=t,o.onload=function(){var t=(0,s.getContext)(),e=t.createTexture();if(!e)return console.error("Failed to generate gl texture name."),-1;0==i.isPremultipliedAlpha()&&t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,1),t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,1),t.activeTexture(t.TEXTURE0),t.bindTexture(t.TEXTURE_2D,e),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,o),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR_MIPMAP_NEAREST),t.generateMipmap(t.TEXTURE_2D),i.setTexture(n,e),e=null,"function"==typeof r&&r()},o.onerror=function(){console.error("Failed to load image : "+t)}},n.prototype.jsonParseFromBytes=function(t){var e,i=new Uint8Array(t,0,3);return e=239==i[0]&&187==i[1]&&191==i[2]?String.fromCharCode.apply(null,new Uint8Array(t,3)):String.fromCharCode.apply(null,new Uint8Array(t)),JSON.parse(e)},n.prototype.log=function(t){}},function(t,e,i){function n(){this.NAME="name",this.ID="id",this.MODEL="model",this.TEXTURES="textures",this.HIT_AREAS="hit_areas",this.PHYSICS="physics",this.POSE="pose",this.EXPRESSIONS="expressions",this.MOTION_GROUPS="motions",this.SOUND="sound",this.FADE_IN="fade_in",this.FADE_OUT="fade_out",this.LAYOUT="layout",this.INIT_PARAM="init_param",this.INIT_PARTS_VISIBLE="init_parts_visible",this.VALUE="val",this.FILE="file",this.json={}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=n;var r=i(0);n.prototype.loadModelSetting=function(t,i){var n=this;r.Live2DFramework.getPlatformManager().loadBytes(t,function(t){var e=String.fromCharCode.apply(null,new Uint8Array(t));n.json=JSON.parse(e),i()})},n.prototype.getTextureFile=function(t){return null==this.json[this.TEXTURES]||null==this.json[this.TEXTURES][t]?null:this.json[this.TEXTURES][t]},n.prototype.getModelFile=function(){return this.json[this.MODEL]},n.prototype.getTextureNum=function(){return null==this.json[this.TEXTURES]?0:this.json[this.TEXTURES].length},n.prototype.getHitAreaNum=function(){return null==this.json[this.HIT_AREAS]?0:this.json[this.HIT_AREAS].length},n.prototype.getHitAreaID=function(t){return null==this.json[this.HIT_AREAS]||null==this.json[this.HIT_AREAS][t]?null:this.json[this.HIT_AREAS][t][this.ID]},n.prototype.getHitAreaName=function(t){return null==this.json[this.HIT_AREAS]||null==this.json[this.HIT_AREAS][t]?null:this.json[this.HIT_AREAS][t][this.NAME]},n.prototype.getPhysicsFile=function(){return this.json[this.PHYSICS]},n.prototype.getPoseFile=function(){return this.json[this.POSE]},n.prototype.getExpressionNum=function(){return null==this.json[this.EXPRESSIONS]?0:this.json[this.EXPRESSIONS].length},n.prototype.getExpressionFile=function(t){return null==this.json[this.EXPRESSIONS]?null:this.json[this.EXPRESSIONS][t][this.FILE]},n.prototype.getExpressionName=function(t){return null==this.json[this.EXPRESSIONS]?null:this.json[this.EXPRESSIONS][t][this.NAME]},n.prototype.getLayout=function(){return this.json[this.LAYOUT]},n.prototype.getInitParamNum=function(){return null==this.json[this.INIT_PARAM]?0:this.json[this.INIT_PARAM].length},n.prototype.getMotionNum=function(t){return null==this.json[this.MOTION_GROUPS]||null==this.json[this.MOTION_GROUPS][t]?0:this.json[this.MOTION_GROUPS][t].length},n.prototype.getMotionFile=function(t,e){return null==this.json[this.MOTION_GROUPS]||null==this.json[this.MOTION_GROUPS][t]||null==this.json[this.MOTION_GROUPS][t][e]?null:this.json[this.MOTION_GROUPS][t][e][this.FILE]},n.prototype.getMotionSound=function(t,e){return null==this.json[this.MOTION_GROUPS]||null==this.json[this.MOTION_GROUPS][t]||null==this.json[this.MOTION_GROUPS][t][e]||null==this.json[this.MOTION_GROUPS][t][e][this.SOUND]?null:this.json[this.MOTION_GROUPS][t][e][this.SOUND]},n.prototype.getMotionFadeIn=function(t,e){return null==this.json[this.MOTION_GROUPS]||null==this.json[this.MOTION_GROUPS][t]||null==this.json[this.MOTION_GROUPS][t][e]||null==this.json[this.MOTION_GROUPS][t][e][this.FADE_IN]?1e3:this.json[this.MOTION_GROUPS][t][e][this.FADE_IN]},n.prototype.getMotionFadeOut=function(t,e){return null==this.json[this.MOTION_GROUPS]||null==this.json[this.MOTION_GROUPS][t]||null==this.json[this.MOTION_GROUPS][t][e]||null==this.json[this.MOTION_GROUPS][t][e][this.FADE_OUT]?1e3:this.json[this.MOTION_GROUPS][t][e][this.FADE_OUT]},n.prototype.getInitParamID=function(t){return null==this.json[this.INIT_PARAM]||null==this.json[this.INIT_PARAM][t]?null:this.json[this.INIT_PARAM][t][this.ID]},n.prototype.getInitParamValue=function(t){return null==this.json[this.INIT_PARAM]||null==this.json[this.INIT_PARAM][t]?NaN:this.json[this.INIT_PARAM][t][this.VALUE]},n.prototype.getInitPartsVisibleNum=function(){return null==this.json[this.INIT_PARTS_VISIBLE]?0:this.json[this.INIT_PARTS_VISIBLE].length},n.prototype.getInitPartsVisibleID=function(t){return null==this.json[this.INIT_PARTS_VISIBLE]||null==this.json[this.INIT_PARTS_VISIBLE][t]?null:this.json[this.INIT_PARTS_VISIBLE][t][this.ID]},n.prototype.getInitPartsVisibleValue=function(t){return null==this.json[this.INIT_PARTS_VISIBLE]||null==this.json[this.INIT_PARTS_VISIBLE][t]?NaN:this.json[this.INIT_PARTS_VISIBLE][t][this.VALUE]}},function(t,e,i){(function(Tt){!function(){function c(){$t||(this._$MT=null,this._$5S=null,this._$NP=0,c._$42++,this._$5S=new k(this))}function x(t){if(!$t){this.clipContextList=new Array,this.glcontext=t.gl,this.dp_webgl=t,this.curFrameNo=0,this.firstError_clipInNotUpdate=!0,this.colorBuffer=0,this.isInitGLFBFunc=!1,this.tmpBoundsOnModel=new v,rt.glContext.length>rt.frameBuffers.length&&(this.curFrameNo=this.getMaskRenderTexture()),this.tmpModelToViewMatrix=new A,this.tmpMatrix2=new A,this.tmpMatrixForMask=new A,this.tmpMatrixForDraw=new A,this.CHANNEL_COLORS=new Array;var e=new T;(e=new T).r=0,e.g=0,e.b=0,e.a=1,this.CHANNEL_COLORS.push(e),(e=new T).r=1,e.g=0,e.b=0,e.a=0,this.CHANNEL_COLORS.push(e),(e=new T).r=0,e.g=1,e.b=0,e.a=0,this.CHANNEL_COLORS.push(e),(e=new T).r=0,e.g=0,e.b=1,e.a=0,this.CHANNEL_COLORS.push(e);for(var i=0;i<this.CHANNEL_COLORS.length;i++)this.dp_webgl.setChannelFlagAsColor(i,this.CHANNEL_COLORS[i])}}function l(t,e,i){this.clipIDList=new Array,this.clipIDList=i,this.clippingMaskDrawIndexList=new Array;for(var n=0;n<i.length;n++)this.clippingMaskDrawIndexList.push(e.getDrawDataIndex(i[n]));this.clippedDrawContextList=new Array,this.isUsing=!0,this.layoutChannelNo=0,this.layoutBounds=new v,this.allClippedDrawRect=new v,this.matrixForMask=new Float32Array(16),this.matrixForDraw=new Float32Array(16),this.owner=t}function n(t,e){this._$gP=t,this.drawDataIndex=e}function s(){$t||(this.color=null)}function t(){$t||(this._$dP=null,this._$eo=null,this._$V0=null,this._$dP=1e3,this._$eo=1e3,this._$V0=1,this._$a0())}function it(){}function i(){this._$r=null,this._$0S=null}function a(){$t||(this.x=null,this.y=null,this.width=null,this.height=null)}function u(t){$t||W.prototype.constructor.call(this,t)}function h(t){$t||W.prototype.constructor.call(this,t)}function e(){$t||(this._$vo=null,this._$F2=null,this._$ao=400,this._$1S=400,e._$42++)}function o(){$t||(this.p1=new r,this.p2=new r,this._$Fo=0,this._$Db=0,this._$L2=0,this._$M2=0,this._$ks=0,this._$9b=0,this._$iP=0,this._$iT=0,this._$lL=new Array,this._$qP=new Array,this.setup(.3,.5,.1))}function r(){this._$p=1,this.x=0,this.y=0,this.vx=0,this.vy=0,this.ax=0,this.ay=0,this.fx=0,this.fy=0,this._$s0=0,this._$70=0,this._$7L=0,this._$HL=0}function f(t,e,i){this._$wL=null,this.scale=null,this._$V0=null,this._$wL=t,this.scale=e,this._$V0=i}function p(t,e,i,n){f.prototype.constructor.call(this,e,i,n),this._$tL=null,this._$tL=t}function _(t,e,i){this._$wL=null,this.scale=null,this._$V0=null,this._$wL=t,this.scale=e,this._$V0=i}function d(t,e,i,n){_.prototype.constructor.call(this,e,i,n),this._$YP=null,this._$YP=t}function g(){$t||(this._$fL=0,this._$gL=0,this._$B0=1,this._$z0=1,this._$qT=0,this.reflectX=!1,this.reflectY=!1)}function v(){$t||(this.x=null,this.y=null,this.width=null,this.height=null)}function y(){}function $(){$t||(this.x=null,this.y=null)}function w(){$t||(this._$gP=null,this._$dr=null,this._$GS=null,this._$qb=null,this._$Lb=null,this._$mS=null,this.clipID=null,this.clipIDList=new Array)}function b(){$t||(this._$Eb=b._$ps,this._$lT=1,this._$C0=1,this._$tT=1,this._$WL=1,this.culling=!1,this.matrix4x4=new Float32Array(16),this.premultipliedAlpha=!1,this.anisotropy=0,this.clippingProcess=b.CLIPPING_PROCESS_NONE,this.clipBufPre_clipContextMask=null,this.clipBufPre_clipContextDraw=null,this.CHANNEL_COLORS=new Array)}function T(){$t||(this.a=1,this.r=1,this.g=1,this.b=1,this.scale=1,this._$ho=1,this.blendMode=rt.L2D_COLOR_BLEND_MODE_MULT)}function S(){$t||(this._$kP=null,this._$dr=null,this._$Ai=!0,this._$mS=null)}function Dt(){}function P(){$t||(this._$VP=0,this._$wL=null,this._$GP=null,this._$8o=P._$ds,this._$2r=-1,this._$O2=0,this._$ri=0)}function O(){}function E(){$t||(this._$Ob=null)}function A(){this.m=new Float32Array(16),this.identity()}function C(t){$t||W.prototype.constructor.call(this,t)}function L(){$t||(this._$7=1,this._$f=0,this._$H=0,this._$g=1,this._$k=0,this._$w=0,this._$hi=STATE_IDENTITY,this._$Z=_$pS)}function I(){$t||(t.prototype.constructor.call(this),this.motions=new Array,this._$7r=null,this._$7r=I._$Co++,this._$D0=30,this._$yT=0,this._$E=!0,this.loopFadeIn=!0,this._$AS=-1,_$a0())}function M(){this._$4P=null,this._$I0=null,this._$RP=null}function R(){}function D(){}function k(t){$t||(this._$QT=!0,this._$co=-1,this._$qo=0,this._$pb=new Array(k._$is),this._$_2=new Float32Array(k._$is),this._$vr=new Float32Array(k._$is),this._$Rr=new Float32Array(k._$is),this._$Or=new Float32Array(k._$is),this._$fs=new Float32Array(k._$is),this._$Js=new Array(k._$is),this._$3S=new Array,this._$aS=new Array,this._$Bo=null,this._$F2=new Array,this._$db=new Array,this._$8b=new Array,this._$Hr=new Array,this._$Ws=null,this._$Vs=null,this._$Er=null,this._$Es=new Int16Array(R._$Qb),this._$ZP=new Float32Array(2*R._$1r),this._$Ri=t,this._$b0=k._$HP++,this.clipManager=null,this.dp_webgl=null)}function N(){}function F(){$t||(b.prototype.constructor.call(this),this._$sb=new Int32Array(F._$As),this._$U2=new Array,this.transform=null,(this.gl=null)==F._$NT&&(F._$NT=F._$9r(256),F._$vS=F._$9r(256),F._$no=F._$vb(256)))}function st(){$t||(S.prototype.constructor.call(this),this._$GS=null,this._$Y0=null)}function U(t){K.prototype.constructor.call(this,t),this._$8r=S._$ur,this._$Yr=null,this._$Wr=null}function B(){$t||(w.prototype.constructor.call(this),this._$gP=null,this._$dr=null,this._$GS=null,this._$qb=null,this._$Lb=null,this._$mS=null)}function j(){$t||(this._$NL=null,this._$3S=null,this._$aS=null,j._$42++)}function G(){$t||(c.prototype.constructor.call(this),this._$zo=new F)}function z(){$t||(t.prototype.constructor.call(this),this.motions=new Array,this._$o2=null,this._$7r=z._$Co++,this._$D0=30,this._$yT=0,this._$E=!1,this.loopFadeIn=!0,this._$rr=-1,this._$eP=0)}function q(t,e){return String.fromCharCode(t.getUint8(e))}function M(){this._$4P=null,this._$I0=null,this._$RP=null}function Y(){$t||(S.prototype.constructor.call(this),this._$o=0,this._$A=0,this._$GS=null,this._$Eo=null)}function H(t){K.prototype.constructor.call(this,t),this._$8r=S._$ur,this._$Cr=null,this._$hr=null}function V(){$t||(this.visible=!0,this._$g0=!1,this._$NL=null,this._$3S=null,this._$aS=null,V._$42++)}function X(t){this._$VS=null,this._$e0=null,this._$e0=t}function W(t){$t||(this.id=t)}function Q(){$t||(this._$4S=null)}function nt(t,e){this.canvas=t,this.context=e,this.viewport=new Array(0,0,t.width,t.height),this._$6r=1,this._$xP=0,this._$3r=1,this._$uP=0,this._$Qo=-1,this.cacheImages={}}function J(){$t||(this._$TT=null,this._$LT=null,this._$FS=null,this._$wL=null)}function K(t){$t||(this._$e0=null,this._$IP=null,this._$JS=!1,this._$AT=!0,this._$e0=t,this.totalScale=1,this._$7s=1,this.totalOpacity=1)}function rt(){}function Z(){}function tt(t){$t||(this._$ib=t)}function et(){$t||(B.prototype.constructor.call(this),this._$LP=-1,this._$d0=0,this._$Yo=0,this._$JP=null,this._$5P=null,this._$BP=null,this._$Eo=null,this._$Qi=null,this._$6s=et._$ms,this.culling=!0,this.gl_cacheImage=null,this.instanceNo=et._$42++)}function ot(t){vt.prototype.constructor.call(this,t),this._$8r=B._$ur,this._$Cr=null,this._$hr=null}function at(){$t||(this.x=null,this.y=null)}function lt(t){$t||(c.prototype.constructor.call(this),this.drawParamWebGL=new pt(t),this.drawParamWebGL.setGL(rt.getGL(t)))}function ut(){$t||(this.motions=null,this._$eb=!1,this.motions=new Array)}function ht(){this._$w0=null,this._$AT=!0,this._$9L=!1,this._$z2=-1,this._$bs=-1,this._$Do=-1,this._$sr=null,this._$sr=ht._$Gs++}function ct(){this.m=new Array(1,0,0,0,1,0,0,0,1)}function ft(t){$t||W.prototype.constructor.call(this,t)}function pt(t){$t||(b.prototype.constructor.call(this),this.textures=new Array,this.transform=null,this.gl=null,this.glno=t,this.firstDraw=!0,this.anisotropyExt=null,this.maxAnisotropy=0,this._$As=32,this._$Gr=!1,this._$NT=null,this._$vS=null,this._$no=null,this.vertShader=null,this.fragShader=null,this.vertShaderOff=null,this.fragShaderOff=null)}function _t(t,e,i){return null==e&&(e=t.createBuffer()),t.bindBuffer(t.ARRAY_BUFFER,e),t.bufferData(t.ARRAY_BUFFER,i,t.DYNAMIC_DRAW),e}function dt(t,e,i){return null==e&&(e=t.createBuffer()),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,e),t.bufferData(t.ELEMENT_ARRAY_BUFFER,i,t.DYNAMIC_DRAW),e}function mt(t){$t||(this._$P=new Int8Array(8),this._$R0=new DataView(this._$P.buffer),this._$3i=new Int8Array(1e3),this._$hL=0,this._$v0=0,this._$S2=0,this._$Ko=new Array,this._$T=t,this._$F=0)}function gt(){}function vt(t){$t||(this._$e0=null,this._$IP=null,this._$Us=null,this._$7s=null,this._$IS=[!1],this._$VS=null,this._$AT=!0,this.baseOpacity=1,this.clipBufPre_clipContext=null,this._$e0=t)}function yt(){}var $t=!0;c._$0s=1,c._$4s=2,c._$42=0,c._$62=function(t,e){try{if(e instanceof ArrayBuffer&&(e=new DataView(e)),!(e instanceof DataView))throw new tt("_$SS#loadModel(b) / b _$x be DataView or ArrayBuffer");var i,n=new mt(e),r=n._$ST(),o=n._$ST(),s=n._$ST();if(109!=r||111!=o||99!=s)throw new tt("_$gi _$C _$li , _$Q0 _$P0.");if(i=n._$ST(),n._$gr(i),D._$T7<i)throw t._$NP|=c._$4s,new tt("_$gi _$C _$li , _$n0 _$_ version _$li ( SDK : "+D._$T7+" < _$f0 : "+i+" )@_$SS#loadModel()\n");var a=n._$nP();if(D._$s7<=i){var l=n._$9T(),u=n._$9T();if(-30584!=l||-30584!=u)throw t._$NP|=c._$0s,new tt("_$gi _$C _$li , _$0 _$6 _$Ui.")}t._$KS(a);var h=t.getModelContext();h.setDrawParam(t.getDrawParam()),h.init()}catch(t){it._$Rb(t)}},c.prototype._$KS=function(t){this._$MT=t},c.prototype.getModelImpl=function(){return null==this._$MT&&(this._$MT=new e,this._$MT._$zP()),this._$MT},c.prototype.getCanvasWidth=function(){return null==this._$MT?0:this._$MT.getCanvasWidth()},c.prototype.getCanvasHeight=function(){return null==this._$MT?0:this._$MT.getCanvasHeight()},c.prototype.getParamFloat=function(t){return"number"!=typeof t&&(t=this._$5S.getParamIndex(h.getID(t))),this._$5S.getParamFloat(t)},c.prototype.setParamFloat=function(t,e,i){"number"!=typeof t&&(t=this._$5S.getParamIndex(h.getID(t))),arguments.length<3&&(i=1),this._$5S.setParamFloat(t,this._$5S.getParamFloat(t)*(1-i)+e*i)},c.prototype.addToParamFloat=function(t,e,i){"number"!=typeof t&&(t=this._$5S.getParamIndex(h.getID(t))),arguments.length<3&&(i=1),this._$5S.setParamFloat(t,this._$5S.getParamFloat(t)+e*i)},c.prototype.multParamFloat=function(t,e,i){"number"!=typeof t&&(t=this._$5S.getParamIndex(h.getID(t))),arguments.length<3&&(i=1),this._$5S.setParamFloat(t,this._$5S.getParamFloat(t)*(1+(e-1)*i))},c.prototype.getParamIndex=function(t){return this._$5S.getParamIndex(h.getID(t))},c.prototype.loadParam=function(){this._$5S.loadParam()},c.prototype.saveParam=function(){this._$5S.saveParam()},c.prototype.init=function(){this._$5S.init()},c.prototype.update=function(){this._$5S.update()},c.prototype._$Rs=function(){return it._$li("_$60 _$PT _$Rs()"),-1},c.prototype._$Ds=function(t){it._$li("_$60 _$PT _$SS#_$Ds() \n")},c.prototype._$K2=function(){},c.prototype.draw=function(){},c.prototype.getModelContext=function(){return this._$5S},c.prototype._$s2=function(){return this._$NP},c.prototype._$P7=function(t,e,i,n){var r=-1,o=0,s=this;if(0!=i)if(1==t.length){var a=t[0],l=0!=s.getParamFloat(a),u=e[0],h=s.getPartsOpacity(u),c=i/n;l?1<(h+=c)&&(h=1):(h-=c)<0&&(h=0),s.setPartsOpacity(u,h)}else{for(var f=0;f<t.length;f++)if(a=t[f],d=0!=s.getParamFloat(a)){if(0<=r)break;u=e[r=f],o=s.getPartsOpacity(u),1<(o+=i/n)&&(o=1)}for(r<0&&(console.log("No _$wi _$q0/ _$U default[%s]",t[0]),r=0,o=1,s.loadParam(),s.setParamFloat(t[r],o),s.saveParam()),f=0;f<t.length;f++)if(u=e[f],r==f)s.setPartsOpacity(u,o);else{var p,_=s.getPartsOpacity(u);.15<(1-(p=o<.5?-.5*o/.5+1:.5*(1-o)/.5))*(1-o)&&(p=1-.15/(1-o)),p<_&&(_=p),s.setPartsOpacity(u,_)}}else for(f=0;f<t.length;f++){a=t[f],u=e[f];var d=0!=s.getParamFloat(a);s.setPartsOpacity(u,d?1:0)}},c.prototype.setPartsOpacity=function(t,e){"number"!=typeof t&&(t=this._$5S.getPartsDataIndex(u.getID(t))),this._$5S.setPartsOpacity(t,e)},c.prototype.getPartsDataIndex=function(t){return t instanceof u||(t=u.getID(t)),this._$5S.getPartsDataIndex(t)},c.prototype.getPartsOpacity=function(t){return"number"!=typeof t&&(t=this._$5S.getPartsDataIndex(u.getID(t))),t<0?0:this._$5S.getPartsOpacity(t)},c.prototype.getDrawParam=function(){},c.prototype.getDrawDataIndex=function(t){return this._$5S.getDrawDataIndex(C.getID(t))},c.prototype.getDrawData=function(t){return this._$5S.getDrawData(t)},c.prototype.getTransformedPoints=function(t){var e=this._$5S._$C2(t);return e instanceof ot?e.getTransformedPoints():null},c.prototype.getIndexArray=function(t){if(t<0||t>=this._$5S._$aS.length)return null;var e=this._$5S._$aS[t];return null!=e&&e.getType()==B._$wb&&e instanceof et?e.getIndexArray():null},x.CHANNEL_COUNT=4,x.RENDER_TEXTURE_USE_MIPMAP=!1,x.NOT_USED_FRAME=-100,x.prototype._$L7=function(){if(this.tmpModelToViewMatrix&&(this.tmpModelToViewMatrix=null),this.tmpMatrix2&&(this.tmpMatrix2=null),this.tmpMatrixForMask&&(this.tmpMatrixForMask=null),this.tmpMatrixForDraw&&(this.tmpMatrixForDraw=null),this.tmpBoundsOnModel&&(this.tmpBoundsOnModel=null),this.CHANNEL_COLORS){for(var t=this.CHANNEL_COLORS.length-1;0<=t;--t)this.CHANNEL_COLORS.splice(t,1);this.CHANNEL_COLORS=[]}this.releaseShader()},x.prototype.releaseShader=function(){for(var t=rt.frameBuffers.length,e=0;e<t;e++)this.gl.deleteFramebuffer(rt.frameBuffers[e].framebuffer);rt.frameBuffers=[],rt.glContext=[]},x.prototype.init=function(t,e,i){for(var n=0;n<e.length;n++){var r=e[n].getClipIDList();if(null!=r){var o=this.findSameClip(r);null==o&&(o=new l(this,t,r),this.clipContextList.push(o));var s=e[n].getDrawDataID(),a=t.getDrawDataIndex(s);o.addClippedDrawData(s,a),i[n].clipBufPre_clipContext=o}}},x.prototype.getMaskRenderTexture=function(){var t;return t=this.dp_webgl.createFramebuffer(),rt.frameBuffers[this.dp_webgl.glno]=t,this.dp_webgl.glno},x.prototype.setupClip=function(t,e){for(var i=0,n=0;n<this.clipContextList.length;n++){var r=this.clipContextList[n];this.calcClippedDrawTotalBounds(t,r),r.isUsing&&i++}if(0<i){var o=e.gl.getParameter(e.gl.FRAMEBUFFER_BINDING),s=new Array(4);for(s[0]=0,s[1]=0,s[2]=e.gl.canvas.width,s[3]=e.gl.canvas.height,e.gl.viewport(0,0,rt.clippingMaskBufferSize,rt.clippingMaskBufferSize),this.setupLayoutBounds(i),e.gl.bindFramebuffer(e.gl.FRAMEBUFFER,rt.frameBuffers[this.curFrameNo].framebuffer),e.gl.clearColor(0,0,0,0),e.gl.clear(e.gl.COLOR_BUFFER_BIT),n=0;n<this.clipContextList.length;n++){var a=(r=this.clipContextList[n]).allClippedDrawRect,l=(r.layoutChannelNo,r.layoutBounds);this.tmpBoundsOnModel._$jL(a),this.tmpBoundsOnModel.expand(.05*a.width,.05*a.height);var u=l.width/this.tmpBoundsOnModel.width,h=l.height/this.tmpBoundsOnModel.height;this.tmpMatrix2.identity(),this.tmpMatrix2.translate(-1,-1,0),this.tmpMatrix2.scale(2,2,1),this.tmpMatrix2.translate(l.x,l.y,0),this.tmpMatrix2.scale(u,h,1),this.tmpMatrix2.translate(-this.tmpBoundsOnModel.x,-this.tmpBoundsOnModel.y,0),this.tmpMatrixForMask.setMatrix(this.tmpMatrix2.m),this.tmpMatrix2.identity(),this.tmpMatrix2.translate(l.x,l.y,0),this.tmpMatrix2.scale(u,h,1),this.tmpMatrix2.translate(-this.tmpBoundsOnModel.x,-this.tmpBoundsOnModel.y,0),this.tmpMatrixForDraw.setMatrix(this.tmpMatrix2.m);for(var c=this.tmpMatrixForMask.getArray(),f=0;f<16;f++)r.matrixForMask[f]=c[f];var p=this.tmpMatrixForDraw.getArray();for(f=0;f<16;f++)r.matrixForDraw[f]=p[f];for(var _=r.clippingMaskDrawIndexList.length,d=0;d<_;d++){var m=r.clippingMaskDrawIndexList[d],g=t.getDrawData(m),v=t._$C2(m);e.setClipBufPre_clipContextForMask(r),g.draw(e,t,v)}}e.gl.bindFramebuffer(e.gl.FRAMEBUFFER,o),e.setClipBufPre_clipContextForMask(null),e.gl.viewport(s[0],s[1],s[2],s[3])}},x.prototype.getColorBuffer=function(){return this.colorBuffer},x.prototype.findSameClip=function(t){for(var e=0;e<this.clipContextList.length;e++){var i=this.clipContextList[e],n=i.clipIDList.length;if(n==t.length){for(var r=0,o=0;o<n;o++)for(var s=i.clipIDList[o],a=0;a<n;a++)if(t[a]==s){r++;break}if(r==n)return i}}return null},x.prototype.calcClippedDrawTotalBounds=function(t,e){for(var i=t._$Ri.getModelImpl().getCanvasWidth(),n=t._$Ri.getModelImpl().getCanvasHeight(),r=n<i?i:n,o=r,s=r,a=0,l=0,u=e.clippedDrawContextList.length,h=0;h<u;h++){var c=e.clippedDrawContextList[h].drawDataIndex,f=t._$C2(c);if(f._$yo()){for(var p=f.getTransformedPoints(),_=p.length,d=[],m=[],g=0,v=R._$i2;v<_;v+=R._$No)d[g]=p[v],m[g]=p[v+1],g++;var y=Math.min.apply(null,d),$=Math.min.apply(null,m),w=Math.max.apply(null,d),b=Math.max.apply(null,m);y<o&&(o=y),$<s&&(s=$),a<w&&(a=w),l<b&&(l=b)}}if(o==r)e.allClippedDrawRect.x=0,e.allClippedDrawRect.y=0,e.allClippedDrawRect.width=0,e.allClippedDrawRect.height=0,e.isUsing=!1;else{var T=a-o,x=l-s;e.allClippedDrawRect.x=o,e.allClippedDrawRect.y=s,e.allClippedDrawRect.width=T,e.allClippedDrawRect.height=x,e.isUsing=!0}},x.prototype.setupLayoutBounds=function(t){var e=t/x.CHANNEL_COUNT,i=t%x.CHANNEL_COUNT;e=~~e,i=~~i;for(var n=0,r=0;r<x.CHANNEL_COUNT;r++){var o=e+(r<i?1:0);if(0==o);else if(1==o)(u=this.clipContextList[n++]).layoutChannelNo=r,u.layoutBounds.x=0,u.layoutBounds.y=0,u.layoutBounds.width=1,u.layoutBounds.height=1;else if(2==o)for(var s=0;s<o;s++){var a=0;l=~~(l=s%2),(u=this.clipContextList[n++]).layoutChannelNo=r,u.layoutBounds.x=.5*l,u.layoutBounds.y=0,u.layoutBounds.width=.5,u.layoutBounds.height=1}else if(o<=4)for(s=0;s<o;s++)l=~~(l=s%2),a=~~(a=s/2),(u=this.clipContextList[n++]).layoutChannelNo=r,u.layoutBounds.x=.5*l,u.layoutBounds.y=.5*a,u.layoutBounds.width=.5,u.layoutBounds.height=.5;else if(o<=9)for(s=0;s<o;s++){var l,u;l=~~(l=s%3),a=~~(a=s/3),(u=this.clipContextList[n++]).layoutChannelNo=r,u.layoutBounds.x=l/3,u.layoutBounds.y=a/3,u.layoutBounds.width=1/3,u.layoutBounds.height=1/3}else it._$li("_$6 _$0P mask count : %d",o)}},l.prototype.addClippedDrawData=function(t,e){var i=new n(t,e);this.clippedDrawContextList.push(i)},t._$JT=function(t,e,i){var n=t/e,r=i/e,o=1-(1-r)*(1-r),s=1-(1-r)*(1-r),a=1/3*(1-r)*o+(r*(2/3)+1/3*(1-r))*(1-o),l=(r+2/3*(1-r))*s+(r*(1/3)+2/3*(1-r))*(1-s);if(n<=0)return 0;if(1<=n)return 1;var u=n*n;return n*u*(1-3*l+3*a-0)+(3*l-6*a+0)*u+(3*a-0)*n+0},t.prototype._$a0=function(){},t.prototype.setFadeIn=function(t){this._$dP=t},t.prototype.setFadeOut=function(t){this._$eo=t},t.prototype._$pT=function(t){this._$V0=t},t.prototype.getFadeOut=function(){return this._$eo},t.prototype._$4T=function(){return this._$eo},t.prototype._$mT=function(){return this._$V0},t.prototype.getDurationMSec=function(){return-1},t.prototype.getLoopDurationMSec=function(){return-1},t.prototype.updateParam=function(t,e){if(e._$AT&&!e._$9L){var i=Dt.getUserTimeMSec();if(e._$z2<0){e._$z2=i,e._$bs=i;var n=this.getDurationMSec();e._$Do<0&&(e._$Do=n<=0?-1:e._$z2+n)}var r=this._$V0;0<=(r=r*(0==this._$dP?1:Z._$r2((i-e._$bs)/this._$dP))*(0==this._$eo||e._$Do<0?1:Z._$r2((e._$Do-i)/this._$eo)))&&r<=1||console.log("### assert!! ### "),this.updateParamExe(t,i,r,e),0<e._$Do&&e._$Do<i&&(e._$9L=!0)}},t.prototype.updateParamExe=function(t,e,i,n){},it._$8s=0,it._$fT=new Object,it.start=function(t){var e=it._$fT[t];null==e&&((e=new i)._$r=t,it._$fT[t]=e),e._$0S=Dt.getSystemTimeMSec()},it.dump=function(t){var e=it._$fT[t];if(null==e)return-1;var i=Dt.getSystemTimeMSec()-e._$0S;return console.log(t+" : "+i+"ms"),i},it.end=function(t){var e=it._$fT[t];return null!=e?Dt.getSystemTimeMSec()-e._$0S:-1},it._$li=function(t,e){console.log("_$li : "+t+"\n",e)},it._$Ji=function(t,e){console.log(t,e)},it._$dL=function(t,e){console.log(t,e),console.log("\n")},it._$KL=function(t,e){for(var i=0;i<e;i++)i%16==0&&0<i?console.log("\n"):i%8==0&&0<i&&console.log("  "),console.log("%02X ",255&t[i]);console.log("\n")},it._$nr=function(t,e,i){console.log("%s\n",t);for(var n=e.length,r=0;r<n;++r)console.log("%5d",e[r]),console.log("%s\n",i),console.log(",");console.log("\n")},it._$Rb=function(t){console.log("dump exception : "+t),console.log("stack :: "+t.stack)},a.prototype._$8P=function(){return.5*(this.x+this.x+this.width)},a.prototype._$6P=function(){return.5*(this.y+this.y+this.height)},a.prototype._$EL=function(){return this.x+this.width},a.prototype._$5T=function(){return this.y+this.height},a.prototype._$jL=function(t,e,i,n){this.x=t,this.y=e,this.width=i,this.height=n},a.prototype._$jL=function(t){this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height},u.prototype=new W,u._$tP=new Object,u._$27=function(){u._$tP.clear()},u.getID=function(t){var e=u._$tP[t];return null==e&&(e=new u(t),u._$tP[t]=e),e},u.prototype._$3s=function(){return new u},h.prototype=new W,h._$tP=new Object,h._$27=function(){h._$tP.clear()},h.getID=function(t){var e=h._$tP[t];return null==e&&(e=new h(t),h._$tP[t]=e),e},h.prototype._$3s=function(){return new h},e._$42=0,e.prototype._$zP=function(){null==this._$vo&&(this._$vo=new Q),null==this._$F2&&(this._$F2=new Array)},e.prototype.getCanvasWidth=function(){return this._$ao},e.prototype.getCanvasHeight=function(){return this._$1S},e.prototype._$F0=function(t){this._$vo=t._$nP(),this._$F2=t._$nP(),this._$ao=t._$6L(),this._$1S=t._$6L()},e.prototype._$6S=function(t){this._$F2.push(t)},e.prototype._$Xr=function(){return this._$F2},e.prototype._$E2=function(){return this._$vo},o.prototype.setup=function(t,e,i){this._$ks=this._$Yb(),this.p2._$xT(),3==arguments.length&&(this._$Fo=t,this._$L2=e,this.p1._$p=i,this.p2._$p=i,this.p2.y=t,this.setup())},o.prototype.getPhysicsPoint1=function(){return this.p1},o.prototype.getPhysicsPoint2=function(){return this.p2},o.prototype._$qr=function(){return this._$Db},o.prototype._$pr=function(t){this._$Db=t},o.prototype._$5r=function(){return this._$M2},o.prototype._$Cs=function(){return this._$9b},o.prototype._$Yb=function(){return-180*Math.atan2(this.p1.x-this.p2.x,-(this.p1.y-this.p2.y))/Math.PI},o.prototype.addSrcParam=function(t,e,i,n){var r=new p(t,e,i,n);this._$lL.push(r)},o.prototype.addTargetParam=function(t,e,i,n){var r=new d(t,e,i,n);this._$qP.push(r)},o.prototype.update=function(t,e){if(0==this._$iP)return this._$iP=this._$iT=e,void(this._$Fo=Math.sqrt((this.p1.x-this.p2.x)*(this.p1.x-this.p2.x)+(this.p1.y-this.p2.y)*(this.p1.y-this.p2.y)));var i=(e-this._$iT)/1e3;if(0!=i){for(var n=this._$lL.length-1;0<=n;--n)this._$lL[n]._$oP(t,this);this._$oo(t,i),this._$M2=this._$Yb(),this._$9b=(this._$M2-this._$ks)/i,this._$ks=this._$M2}for(n=this._$qP.length-1;0<=n;--n)this._$qP[n]._$YS(t,this);this._$iT=e},o.prototype._$oo=function(t,e){e<.033&&(e=.033);var i=1/e;this.p1.vx=(this.p1.x-this.p1._$s0)*i,this.p1.vy=(this.p1.y-this.p1._$70)*i,this.p1.ax=(this.p1.vx-this.p1._$7L)*i,this.p1.ay=(this.p1.vy-this.p1._$HL)*i,this.p1.fx=this.p1.ax*this.p1._$p,this.p1.fy=this.p1.ay*this.p1._$p,this.p1._$xT();var n,r,o=-Math.atan2(this.p1.y-this.p2.y,this.p1.x-this.p2.x),s=Math.cos(o),a=Math.sin(o),l=9.8*this.p2._$p,u=this._$Db*gt._$bS,h=l*Math.cos(o-u);n=h*a,r=h*s;var c=-this.p1.fx*a*a,f=-this.p1.fy*a*s,p=-this.p2.vx*this._$L2,_=-this.p2.vy*this._$L2;this.p2.fx=n+c+p,this.p2.fy=r+f+_,this.p2.ax=this.p2.fx/this.p2._$p,this.p2.ay=this.p2.fy/this.p2._$p,this.p2.vx+=this.p2.ax*e,this.p2.vy+=this.p2.ay*e,this.p2.x+=this.p2.vx*e,this.p2.y+=this.p2.vy*e;var d=Math.sqrt((this.p1.x-this.p2.x)*(this.p1.x-this.p2.x)+(this.p1.y-this.p2.y)*(this.p1.y-this.p2.y));this.p2.x=this.p1.x+this._$Fo*(this.p2.x-this.p1.x)/d,this.p2.y=this.p1.y+this._$Fo*(this.p2.y-this.p1.y)/d,this.p2.vx=(this.p2.x-this.p2._$s0)*i,this.p2.vy=(this.p2.y-this.p2._$70)*i,this.p2._$xT()},r.prototype._$xT=function(){this._$s0=this.x,this._$70=this.y,this._$7L=this.vx,this._$HL=this.vy},f.prototype._$oP=function(t,e){},(p.prototype=new f)._$oP=function(t,e){var i=this.scale*t.getParamFloat(this._$wL),n=e.getPhysicsPoint1();switch(this._$tL){default:case o.Src.SRC_TO_X:n.x=n.x+(i-n.x)*this._$V0;break;case o.Src.SRC_TO_Y:n.y=n.y+(i-n.y)*this._$V0;break;case o.Src.SRC_TO_G_ANGLE:var r=e._$qr();r+=(i-r)*this._$V0,e._$pr(r)}},_.prototype._$YS=function(t,e){},(d.prototype=new _)._$YS=function(t,e){switch(this._$YP){default:case o.Target.TARGET_FROM_ANGLE:t.setParamFloat(this._$wL,this.scale*e._$5r(),this._$V0);break;case o.Target.TARGET_FROM_ANGLE_V:t.setParamFloat(this._$wL,this.scale*e._$Cs(),this._$V0)}},(o.Src=function(){}).SRC_TO_X="SRC_TO_X",o.Src.SRC_TO_Y="SRC_TO_Y",o.Src.SRC_TO_G_ANGLE="SRC_TO_G_ANGLE",(o.Target=function(){}).TARGET_FROM_ANGLE="TARGET_FROM_ANGLE",o.Target.TARGET_FROM_ANGLE_V="TARGET_FROM_ANGLE_V",g.prototype.init=function(t){this._$fL=t._$fL,this._$gL=t._$gL,this._$B0=t._$B0,this._$z0=t._$z0,this._$qT=t._$qT,this.reflectX=t.reflectX,this.reflectY=t.reflectY},g.prototype._$F0=function(t){this._$fL=t._$_T(),this._$gL=t._$_T(),this._$B0=t._$_T(),this._$z0=t._$_T(),this._$qT=t._$_T(),t.getFormatVersion()>=D.LIVE2D_FORMAT_VERSION_V2_10_SDK2&&(this.reflectX=t._$po(),this.reflectY=t._$po())},g.prototype._$e=function(){};var wt=function(){};wt._$ni=function(t,e,i,n,r,o,s,a,l){var u=s*o-a*r;if(0==u)return null;var h,c=((t-i)*o-(e-n)*r)/u;return h=0!=r?(t-i-c*s)/r:(e-n-c*a)/o,isNaN(h)&&(h=(t-i-c*s)/r,isNaN(h)&&(h=(e-n-c*a)/o),isNaN(h)&&(console.log("a is NaN @UtVector#_$ni() "),console.log("v1x : "+r),console.log("v1x != 0 ? "+(0!=r)))),null==l?new Array(h,c):(l[0]=h,l[1]=c,l)},v.prototype._$8P=function(){return this.x+.5*this.width},v.prototype._$6P=function(){return this.y+.5*this.height},v.prototype._$EL=function(){return this.x+this.width},v.prototype._$5T=function(){return this.y+this.height},v.prototype._$jL=function(t,e,i,n){this.x=t,this.y=e,this.width=i,this.height=n},v.prototype._$jL=function(t){this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height},v.prototype.contains=function(t,e){return this.x<=this.x&&this.y<=this.y&&this.x<=this.x+this.width&&this.y<=this.y+this.height},v.prototype.expand=function(t,e){this.x-=t,this.y-=e,this.width+=2*t,this.height+=2*e},y._$Z2=function(t,e,i,n){var r=e._$Q2(t,i),o=t._$vs(),s=t._$Tr();if(e._$zr(o,s,r),r<=0)return n[o[0]];if(1==r)return(a=n[o[0]])+((l=n[o[1]])-a)*(y=s[0])|0;if(2==r){var a=n[o[0]],l=n[o[1]],u=n[o[2]],h=n[o[3]];return(b=a+(l-a)*(y=s[0])|0)+((u+(h-u)*y|0)-b)*($=s[1])|0}if(3==r){var c=n[o[0]],f=n[o[1]],p=n[o[2]],_=n[o[3]],d=n[o[4]],m=n[o[5]],g=n[o[6]],v=n[o[7]];return(b=(a=c+(f-c)*(y=s[0])|0)+((l=p+(_-p)*y|0)-a)*($=s[1])|0)+(((u=d+(m-d)*y|0)+((h=g+(v-g)*y|0)-u)*$|0)-b)*(w=s[2])|0}if(4==r){var y,$,w,b,T=n[o[0]],x=n[o[1]],S=n[o[2]],P=n[o[3]],O=n[o[4]],E=n[o[5]],A=n[o[6]],C=n[o[7]],L=n[o[8]],I=n[o[9]],M=n[o[10]],R=n[o[11]],D=n[o[12]],k=n[o[13]],N=n[o[14]],F=n[o[15]];return(b=(a=(c=T+(x-T)*(y=s[0])|0)+((f=S+(P-S)*y|0)-c)*($=s[1])|0)+((l=(p=O+(E-O)*y|0)+((_=A+(C-A)*y|0)-p)*$|0)-a)*(w=s[2])|0)+(((u=(d=L+(I-L)*y|0)+((m=M+(R-M)*y|0)-d)*$|0)+((h=(g=D+(k-D)*y|0)+((v=N+(F-N)*y|0)-g)*$|0)-u)*w|0)-b)*s[3]|0}for(var U=1<<r,B=new Float32Array(U),j=0;j<U;j++){for(var G=j,z=1,q=0;q<r;q++)z*=G%2==0?1-s[q]:s[q],G/=2;B[j]=z}for(var Y=new Float32Array(U),H=0;H<U;H++)Y[H]=n[o[H]];var V=0;for(H=0;H<U;H++)V+=B[H]*Y[H];return V+.5|0},y._$br=function(t,e,i,n){var r=e._$Q2(t,i),o=t._$vs(),s=t._$Tr();if(e._$zr(o,s,r),r<=0)return n[o[0]];if(1==r)return(a=n[o[0]])+((l=n[o[1]])-a)*s[0];if(2==r){var a=n[o[0]],l=n[o[1]],u=n[o[2]],h=n[o[3]],c=s[0];return(1-($=s[1]))*(a+(l-a)*c)+$*(u+(h-u)*c)}if(3==r){var f=n[o[0]],p=n[o[1]],_=n[o[2]],d=n[o[3]],m=n[o[4]],g=n[o[5]],v=n[o[6]],y=n[o[7]],$=(c=s[0],s[1]);return(1-(N=s[2]))*((1-$)*(f+(p-f)*c)+$*(_+(d-_)*c))+N*((1-$)*(m+(g-m)*c)+$*(v+(y-v)*c))}if(4==r){var w=n[o[0]],b=n[o[1]],T=n[o[2]],x=n[o[3]],S=n[o[4]],P=n[o[5]],O=n[o[6]],E=n[o[7]],A=n[o[8]],C=n[o[9]],L=n[o[10]],I=n[o[11]],M=n[o[12]],R=n[o[13]],D=n[o[14]],k=n[o[15]],N=(c=s[0],$=s[1],s[2]),F=s[3];return(1-F)*((1-N)*((1-$)*(w+(b-w)*c)+$*(T+(x-T)*c))+N*((1-$)*(S+(P-S)*c)+$*(O+(E-O)*c)))+F*((1-N)*((1-$)*(A+(C-A)*c)+$*(L+(I-L)*c))+N*((1-$)*(M+(R-M)*c)+$*(D+(k-D)*c)))}for(var U=1<<r,B=new Float32Array(U),j=0;j<U;j++){for(var G=j,z=1,q=0;q<r;q++)z*=G%2==0?1-s[q]:s[q],G/=2;B[j]=z}for(var Y=new Float32Array(U),H=0;H<U;H++)Y[H]=n[o[H]];var V=0;for(H=0;H<U;H++)V+=B[H]*Y[H];return V},y._$Vr=function(t,e,i,n,r,o,s,a){var l=e._$Q2(t,i),u=t._$vs(),h=t._$Tr();e._$zr(u,h,l);var c=2*n,f=s;if(l<=0){var p=r[u[0]];if(2==a&&0==s)Dt._$jT(p,0,o,0,c);else for(var _=0;_<c;)o[f]=p[_++],o[f+1]=p[_++],f+=a}else if(1==l){p=r[u[0]];var d=r[u[1]],m=1-(y=h[0]);for(_=0;_<c;)o[f]=p[_]*m+d[_]*y,++_,o[f+1]=p[_]*m+d[_]*y,++_,f+=a}else if(2==l){p=r[u[0]],d=r[u[1]];var g=r[u[2]],v=r[u[3]],y=h[0],$=(j=1-(I=h[1]))*(m=1-y),w=j*y,b=I*m,T=I*y;for(_=0;_<c;)o[f]=$*p[_]+w*d[_]+b*g[_]+T*v[_],++_,o[f+1]=$*p[_]+w*d[_]+b*g[_]+T*v[_],++_,f+=a}else if(3==l){var x=r[u[0]],S=r[u[1]],P=r[u[2]],O=r[u[3]],E=r[u[4]],A=r[u[5]],C=r[u[6]],L=r[u[7]],I=(y=h[0],h[1]),M=(G=1-(ot=h[2]))*(j=1-I)*(m=1-y),R=G*j*y,D=G*I*m,k=G*I*y,N=ot*j*m,F=ot*j*y,U=ot*I*m,B=ot*I*y;for(_=0;_<c;)o[f]=M*x[_]+R*S[_]+D*P[_]+k*O[_]+N*E[_]+F*A[_]+U*C[_]+B*L[_],++_,o[f+1]=M*x[_]+R*S[_]+D*P[_]+k*O[_]+N*E[_]+F*A[_]+U*C[_]+B*L[_],++_,f+=a}else if(4==l){var j,G,z=r[u[0]],q=r[u[1]],Y=r[u[2]],H=r[u[3]],V=r[u[4]],X=r[u[5]],W=r[u[6]],Q=r[u[7]],J=r[u[8]],K=r[u[9]],Z=r[u[10]],tt=r[u[11]],et=r[u[12]],it=r[u[13]],nt=r[u[14]],rt=r[u[15]],ot=(y=h[0],I=h[1],h[2]),st=h[3],at=1-st,lt=at*(G=1-ot)*(j=1-I)*(m=1-y),ut=at*G*j*y,ht=at*G*I*m,ct=at*G*I*y,ft=at*ot*j*m,pt=at*ot*j*y,_t=at*ot*I*m,dt=at*ot*I*y,mt=st*G*j*m,gt=st*G*j*y,vt=st*G*I*m,yt=st*G*I*y,$t=st*ot*j*m,wt=st*ot*j*y,bt=st*ot*I*m,Tt=st*ot*I*y;for(_=0;_<c;)o[f]=lt*z[_]+ut*q[_]+ht*Y[_]+ct*H[_]+ft*V[_]+pt*X[_]+_t*W[_]+dt*Q[_]+mt*J[_]+gt*K[_]+vt*Z[_]+yt*tt[_]+$t*et[_]+wt*it[_]+bt*nt[_]+Tt*rt[_],++_,o[f+1]=lt*z[_]+ut*q[_]+ht*Y[_]+ct*H[_]+ft*V[_]+pt*X[_]+_t*W[_]+dt*Q[_]+mt*J[_]+gt*K[_]+vt*Z[_]+yt*tt[_]+$t*et[_]+wt*it[_]+bt*nt[_]+Tt*rt[_],++_,f+=a}else{for(var xt=1<<l,St=new Float32Array(xt),Pt=0;Pt<xt;Pt++){for(var Ot=Pt,Et=1,At=0;At<l;At++)Et*=Ot%2==0?1-h[At]:h[At],Ot/=2;St[Pt]=Et}for(var Ct=new Float32Array(xt),Lt=0;Lt<xt;Lt++)Ct[Lt]=r[u[Lt]];for(_=0;_<c;){var It=0,Mt=0,Rt=_+1;for(Lt=0;Lt<xt;Lt++)It+=St[Lt]*Ct[Lt][_],Mt+=St[Lt]*Ct[Lt][Rt];_+=2,o[f]=It,o[f+1]=Mt,f+=a}}},$.prototype._$HT=function(t,e){this.x=t,this.y=e},$.prototype._$HT=function(t){this.x=t.x,this.y=t.y},w._$ur=-2,w._$ES=500,w._$wb=2,w._$8S=3,w._$52=w._$ES,w._$R2=w._$ES,w._$or=function(){return w._$52},w._$Pr=function(){return w._$R2},w.prototype.convertClipIDForV2_11=function(t){var e=[];return null==t?null:0==t.length?null:/,/.test(t)?e=t.id.split(","):(e.push(t.id),e)},w.prototype._$F0=function(t){this._$gP=t._$nP(),this._$dr=t._$nP(),this._$GS=t._$nP(),this._$qb=t._$6L(),this._$Lb=t._$cS(),this._$mS=t._$Tb(),t.getFormatVersion()>=D._$T7?(this.clipID=t._$nP(),this.clipIDList=this.convertClipIDForV2_11(this.clipID)):this.clipIDList=[],this._$MS(this._$Lb)},w.prototype.getClipIDList=function(){return this.clipIDList},w.prototype.init=function(t){},w.prototype._$Nr=function(t,e){if(e._$IS[0]=!1,e._$Us=y._$Z2(t,this._$GS,e._$IS,this._$Lb),rt._$Zs);else if(e._$IS[0])return;e._$7s=y._$br(t,this._$GS,e._$IS,this._$mS)},w.prototype._$2b=function(t,e){},w.prototype.getDrawDataID=function(){return this._$gP},w.prototype._$j2=function(t){this._$gP=t},w.prototype.getOpacity=function(t,e){return e._$7s},w.prototype._$zS=function(t,e){return e._$Us},w.prototype._$MS=function(t){for(var e=t.length-1;0<=e;--e){var i=t[e];i<w._$52?w._$52=i:w._$R2<i&&(w._$R2=i)}},w.prototype.getTargetBaseDataID=function(){return this._$dr},w.prototype._$gs=function(t){this._$dr=t},w.prototype._$32=function(){return null!=this._$dr&&this._$dr!=ft._$2o()},w.prototype.preDraw=function(t,e,i){},w.prototype.draw=function(t,e,i){},w.prototype.getType=function(){},w.prototype._$B2=function(t,e,i){},b._$ps=32,b.CLIPPING_PROCESS_NONE=0,b.CLIPPING_PROCESS_OVERWRITE_ALPHA=1,b.CLIPPING_PROCESS_MULTIPLY_ALPHA=2,b.CLIPPING_PROCESS_DRAW=3,b.CLIPPING_PROCESS_CLEAR_ALPHA=4,b.prototype.setChannelFlagAsColor=function(t,e){this.CHANNEL_COLORS[t]=e},b.prototype.getChannelFlagAsColor=function(t){return this.CHANNEL_COLORS[t]},b.prototype._$ZT=function(){},b.prototype._$Uo=function(t,e,i,n,r,o,s){},b.prototype._$Rs=function(){return-1},b.prototype._$Ds=function(t){},b.prototype.setBaseColor=function(t,e,i,n){t<0?t=0:1<t&&(t=1),e<0?e=0:1<e&&(e=1),i<0?i=0:1<i&&(i=1),n<0?n=0:1<n&&(n=1),this._$lT=t,this._$C0=e,this._$tT=i,this._$WL=n},b.prototype._$WP=function(t){this.culling=t},b.prototype.setMatrix=function(t){for(var e=0;e<16;e++)this.matrix4x4[e]=t[e]},b.prototype._$IT=function(){return this.matrix4x4},b.prototype.setPremultipliedAlpha=function(t){this.premultipliedAlpha=t},b.prototype.isPremultipliedAlpha=function(){return this.premultipliedAlpha},b.prototype.setAnisotropy=function(t){this.anisotropy=t},b.prototype.getAnisotropy=function(){return this.anisotropy},b.prototype.getClippingProcess=function(){return this.clippingProcess},b.prototype.setClippingProcess=function(t){this.clippingProcess=t},b.prototype.setClipBufPre_clipContextForMask=function(t){this.clipBufPre_clipContextMask=t},b.prototype.getClipBufPre_clipContextMask=function(){return this.clipBufPre_clipContextMask},b.prototype.setClipBufPre_clipContextForDraw=function(t){this.clipBufPre_clipContextDraw=t},b.prototype.getClipBufPre_clipContextDraw=function(){return this.clipBufPre_clipContextDraw},S._$ur=-2,S._$c2=1,S._$_b=2,S.prototype._$F0=function(t){this._$kP=t._$nP(),this._$dr=t._$nP()},S.prototype.readV2_opacity=function(t){t.getFormatVersion()>=D.LIVE2D_FORMAT_VERSION_V2_10_SDK2&&(this._$mS=t._$Tb())},S.prototype.init=function(t){},S.prototype._$Nr=function(t,e){},S.prototype.interpolateOpacity=function(t,e,i,n){null==this._$mS?i.setInterpolatedOpacity(1):i.setInterpolatedOpacity(y._$br(t,e,n,this._$mS))},S.prototype._$2b=function(t,e){},S.prototype._$nb=function(t,e,i,n,r,o,s){},S.prototype.getType=function(){},S.prototype._$gs=function(t){this._$dr=t},S.prototype._$a2=function(t){this._$kP=t},S.prototype.getTargetBaseDataID=function(){return this._$dr},S.prototype.getBaseDataID=function(){return this._$kP},S.prototype._$32=function(){return null!=this._$dr&&this._$dr!=ft._$2o()},Dt._$CS=Dt._$W2=0,Dt._$Mo=function(){return!0},Dt._$XP=function(t){try{for(var e=getTimeMSec();getTimeMSec()-e<t;);}catch(t){t._$Rb()}},Dt.getUserTimeMSec=function(){return Dt._$CS==Dt._$W2?Dt.getSystemTimeMSec():Dt._$CS},Dt.setUserTimeMSec=function(t){Dt._$CS=t},Dt.updateUserTimeMSec=function(){return Dt._$CS=Dt.getSystemTimeMSec()},Dt.getTimeMSec=function(){return(new Date).getTime()},Dt.getSystemTimeMSec=function(){return(new Date).getTime()},Dt._$Q=function(t){},Dt._$jT=function(t,e,i,n,r){for(var o=0;o<r;o++)i[n+o]=t[e+o]},P._$ds=-2,P.prototype._$F0=function(t){this._$wL=t._$nP(),this._$VP=t._$6L(),this._$GP=t._$nP()},P.prototype.getParamIndex=function(t){return this._$2r!=t&&(this._$8o=P._$ds),this._$8o},P.prototype._$Pb=function(t,e){this._$8o=t,this._$2r=e},P.prototype.getParamID=function(){return this._$wL},P.prototype._$yP=function(t){this._$wL=t},P.prototype._$N2=function(){return this._$VP},P.prototype._$d2=function(){return this._$GP},P.prototype._$t2=function(t,e){this._$VP=t,this._$GP=e},P.prototype._$Lr=function(){return this._$O2},P.prototype._$wr=function(t){this._$O2=t},P.prototype._$SL=function(){return this._$ri},P.prototype._$AL=function(t){this._$ri=t},O.startsWith=function(t,e,i){var n=e+i.length;if(n>=t.length)return!1;for(var r=e;r<n;r++)if(O.getChar(t,r)!=i.charAt(r-e))return!1;return!0},O.getChar=function(t,e){return String.fromCharCode(t.getUint8(e))},O.createString=function(t,e,i){for(var n=new ArrayBuffer(2*i),r=new Uint16Array(n),o=0;o<i;o++)r[o]=t.getUint8(e+o);return String.fromCharCode.apply(null,r)},O._$LS=function(t,e,i,n){t instanceof ArrayBuffer&&(t=new DataView(t));var r=i,o=!1,s=!1,a=0,l=O.getChar(t,r);"-"==l&&(o=!0,r++);for(var u=!1;r<e;r++){switch(l=O.getChar(t,r)){case"0":a*=10;break;case"1":a=10*a+1;break;case"2":a=10*a+2;break;case"3":a=10*a+3;break;case"4":a=10*a+4;break;case"5":a=10*a+5;break;case"6":a=10*a+6;break;case"7":a=10*a+7;break;case"8":a=10*a+8;break;case"9":a=10*a+9;break;case".":r++,u=s=!0;break;default:u=!0}if(u)break}if(s)for(var h=.1,c=!1;r<e;r++){switch(l=O.getChar(t,r)){case"0":break;case"1":a+=1*h;break;case"2":a+=2*h;break;case"3":a+=3*h;break;case"4":a+=4*h;break;case"5":a+=5*h;break;case"6":a+=6*h;break;case"7":a+=7*h;break;case"8":a+=8*h;break;case"9":a+=9*h;break;default:c=!0}if(h*=.1,c)break}return o&&(a=-a),n[0]=r,a},E.prototype._$zP=function(){this._$Ob=new Array},E.prototype._$F0=function(t){this._$Ob=t._$nP()},E.prototype._$Ur=function(t){if(t._$WS())return!0;for(var e=t._$v2(),i=this._$Ob.length-1;0<=i;--i){var n=this._$Ob[i].getParamIndex(e);if(n==P._$ds&&(n=t.getParamIndex(this._$Ob[i].getParamID())),t._$Xb(n))return!0}return!1},E.prototype._$Q2=function(t,e){for(var i,n,r=this._$Ob.length,o=t._$v2(),s=0,a=0;a<r;a++){var l=this._$Ob[a];if((i=l.getParamIndex(o))==P._$ds&&(i=t.getParamIndex(l.getParamID()),l._$Pb(i,o)),i<0)throw new Exception("err 23242 : "+l.getParamID());var u=i<0?0:t.getParamFloat(i);n=l._$N2();var h,c,f=l._$d2(),p=-1,_=0;if(n<1);else if(1==n)(h=f[0])-R._$J<u&&u<h+R._$J?_=p=0:e[p=0]=!0;else if(u<(h=f[0])-R._$J)e[p=0]=!0;else if(u<h+R._$J)p=0;else{for(var d=!1,m=1;m<n;++m){if(u<(c=f[m])+R._$J){c-R._$J<u?p=m:(p=m-1,_=(u-h)/(c-h),s++),d=!0;break}h=c}d||(p=n-1,e[_=0]=!0)}l._$wr(p),l._$AL(_)}return s},E.prototype._$zr=function(t,e,i){var n=1<<i;R._$Qb<n+1&&console.log("err 23245\n");for(var r=this._$Ob.length,o=1,s=1,a=0,l=0;l<n;++l)t[l]=0;for(var u=0;u<r;++u){var h=this._$Ob[u];if(0==h._$SL()){if((c=h._$Lr()*o)<0&&rt._$3T)throw new Exception("err 23246");for(l=0;l<n;++l)t[l]+=c}else{var c=o*h._$Lr(),f=o*(h._$Lr()+1);for(l=0;l<n;++l)t[l]+=(l/s|0)%2==0?c:f;e[a++]=h._$SL(),s*=2}o*=h._$N2()}t[n]=65535,e[a]=-1},E.prototype._$h2=function(t,e,i){for(var n=new Float32Array(e),r=0;r<e;++r)n[r]=i[r];var o=new P;o._$yP(t),o._$t2(e,n),this._$Ob.push(o)},E.prototype._$J2=function(t){for(var e=t,i=this._$Ob.length,n=0;n<i;++n){var r=this._$Ob[n],o=r._$N2(),s=e%r._$N2(),a=r._$d2()[s];console.log("%s[%d]=%7.2f / ",r.getParamID(),s,a),e/=o}console.log("\n")},E.prototype.getParamCount=function(){return this._$Ob.length},E.prototype._$zs=function(){return this._$Ob},A.prototype.identity=function(){for(var t=0;t<16;t++)this.m[t]=t%5==0?1:0},A.prototype.getArray=function(){return this.m},A.prototype.getCopyMatrix=function(){return new Float32Array(this.m)},A.prototype.setMatrix=function(t){if(null!=t&&16==t.length)for(var e=0;e<16;e++)this.m[e]=t[e]},A.prototype.mult=function(t,e,i){return null==e?null:(this==e?this.mult_safe(this.m,t.m,e.m,i):this.mult_fast(this.m,t.m,e.m,i),e)},A.prototype.mult_safe=function(t,e,i,n){if(t==i){var r=new Array(16);this.mult_fast(t,e,r,n);for(var o=15;0<=o;--o)i[o]=r[o]}else this.mult_fast(t,e,i,n)},A.prototype.mult_fast=function(t,e,i,n){i[15]=n?(i[0]=t[0]*e[0]+t[4]*e[1]+t[8]*e[2],i[4]=t[0]*e[4]+t[4]*e[5]+t[8]*e[6],i[8]=t[0]*e[8]+t[4]*e[9]+t[8]*e[10],i[12]=t[0]*e[12]+t[4]*e[13]+t[8]*e[14]+t[12],i[1]=t[1]*e[0]+t[5]*e[1]+t[9]*e[2],i[5]=t[1]*e[4]+t[5]*e[5]+t[9]*e[6],i[9]=t[1]*e[8]+t[5]*e[9]+t[9]*e[10],i[13]=t[1]*e[12]+t[5]*e[13]+t[9]*e[14]+t[13],i[2]=t[2]*e[0]+t[6]*e[1]+t[10]*e[2],i[6]=t[2]*e[4]+t[6]*e[5]+t[10]*e[6],i[10]=t[2]*e[8]+t[6]*e[9]+t[10]*e[10],i[14]=t[2]*e[12]+t[6]*e[13]+t[10]*e[14]+t[14],i[3]=i[7]=i[11]=0,1):(i[0]=t[0]*e[0]+t[4]*e[1]+t[8]*e[2]+t[12]*e[3],i[4]=t[0]*e[4]+t[4]*e[5]+t[8]*e[6]+t[12]*e[7],i[8]=t[0]*e[8]+t[4]*e[9]+t[8]*e[10]+t[12]*e[11],i[12]=t[0]*e[12]+t[4]*e[13]+t[8]*e[14]+t[12]*e[15],i[1]=t[1]*e[0]+t[5]*e[1]+t[9]*e[2]+t[13]*e[3],i[5]=t[1]*e[4]+t[5]*e[5]+t[9]*e[6]+t[13]*e[7],i[9]=t[1]*e[8]+t[5]*e[9]+t[9]*e[10]+t[13]*e[11],i[13]=t[1]*e[12]+t[5]*e[13]+t[9]*e[14]+t[13]*e[15],i[2]=t[2]*e[0]+t[6]*e[1]+t[10]*e[2]+t[14]*e[3],i[6]=t[2]*e[4]+t[6]*e[5]+t[10]*e[6]+t[14]*e[7],i[10]=t[2]*e[8]+t[6]*e[9]+t[10]*e[10]+t[14]*e[11],i[14]=t[2]*e[12]+t[6]*e[13]+t[10]*e[14]+t[14]*e[15],i[3]=t[3]*e[0]+t[7]*e[1]+t[11]*e[2]+t[15]*e[3],i[7]=t[3]*e[4]+t[7]*e[5]+t[11]*e[6]+t[15]*e[7],i[11]=t[3]*e[8]+t[7]*e[9]+t[11]*e[10]+t[15]*e[11],t[3]*e[12]+t[7]*e[13]+t[11]*e[14]+t[15]*e[15])},A.prototype.translate=function(t,e,i){this.m[12]=this.m[0]*t+this.m[4]*e+this.m[8]*i+this.m[12],this.m[13]=this.m[1]*t+this.m[5]*e+this.m[9]*i+this.m[13],this.m[14]=this.m[2]*t+this.m[6]*e+this.m[10]*i+this.m[14],this.m[15]=this.m[3]*t+this.m[7]*e+this.m[11]*i+this.m[15]},A.prototype.scale=function(t,e,i){this.m[0]*=t,this.m[4]*=e,this.m[8]*=i,this.m[1]*=t,this.m[5]*=e,this.m[9]*=i,this.m[2]*=t,this.m[6]*=e,this.m[10]*=i,this.m[3]*=t,this.m[7]*=e,this.m[11]*=i},A.prototype.rotateX=function(t){var e=gt.fcos(t),i=gt._$9(t),n=this.m[4];this.m[4]=n*e+this.m[8]*i,this.m[8]=n*-i+this.m[8]*e,n=this.m[5],this.m[5]=n*e+this.m[9]*i,this.m[9]=n*-i+this.m[9]*e,n=this.m[6],this.m[6]=n*e+this.m[10]*i,this.m[10]=n*-i+this.m[10]*e,n=this.m[7],this.m[7]=n*e+this.m[11]*i,this.m[11]=n*-i+this.m[11]*e},A.prototype.rotateY=function(t){var e=gt.fcos(t),i=gt._$9(t),n=this.m[0];this.m[0]=n*e+this.m[8]*-i,this.m[8]=n*i+this.m[8]*e,n=this.m[1],this.m[1]=n*e+this.m[9]*-i,this.m[9]=n*i+this.m[9]*e,n=m[2],this.m[2]=n*e+this.m[10]*-i,this.m[10]=n*i+this.m[10]*e,n=m[3],this.m[3]=n*e+this.m[11]*-i,this.m[11]=n*i+this.m[11]*e},A.prototype.rotateZ=function(t){var e=gt.fcos(t),i=gt._$9(t),n=this.m[0];this.m[0]=n*e+this.m[4]*i,this.m[4]=n*-i+this.m[4]*e,n=this.m[1],this.m[1]=n*e+this.m[5]*i,this.m[5]=n*-i+this.m[5]*e,n=this.m[2],this.m[2]=n*e+this.m[6]*i,this.m[6]=n*-i+this.m[6]*e,n=this.m[3],this.m[3]=n*e+this.m[7]*i,this.m[7]=n*-i+this.m[7]*e},C.prototype=new W,C._$tP=new Object,C._$27=function(){C._$tP.clear()},C.getID=function(t){var e=C._$tP[t];return null==e&&(e=new C(t),C._$tP[t]=e),e},C.prototype._$3s=function(){return new C},L._$kS=-1,L._$pS=0,L._$hb=1,L.STATE_IDENTITY=0,L._$gb=1,L._$fo=2,L._$go=4,L.prototype.transform=function(t,e,i){var n,r,o,s,a,l,u=0,h=0;switch(this._$hi){default:return;case L._$go|L._$fo|L._$gb:for(n=this._$7,r=this._$H,o=this._$k,s=this._$f,a=this._$g,l=this._$w;0<=--i;){var c=t[u++],f=t[u++];e[h++]=n*c+r*f+o,e[h++]=s*c+a*f+l}return;case L._$go|L._$fo:for(n=this._$7,r=this._$H,s=this._$f,a=this._$g;0<=--i;)c=t[u++],f=t[u++],e[h++]=n*c+r*f,e[h++]=s*c+a*f;return;case L._$go|L._$gb:for(r=this._$H,o=this._$k,s=this._$f,l=this._$w;0<=--i;)c=t[u++],e[h++]=r*t[u++]+o,e[h++]=s*c+l;return;case L._$go:for(r=this._$H,s=this._$f;0<=--i;)c=t[u++],e[h++]=r*t[u++],e[h++]=s*c;return;case L._$fo|L._$gb:for(n=this._$7,o=this._$k,a=this._$g,l=this._$w;0<=--i;)e[h++]=n*t[u++]+o,e[h++]=a*t[u++]+l;return;case L._$fo:for(n=this._$7,a=this._$g;0<=--i;)e[h++]=n*t[u++],e[h++]=a*t[u++];return;case L._$gb:for(o=this._$k,l=this._$w;0<=--i;)e[h++]=t[u++]+o,e[h++]=t[u++]+l;return;case L.STATE_IDENTITY:return void(t==e&&u==h||Dt._$jT(t,u,e,h,2*i))}},L.prototype.update=function(){0==this._$H&&0==this._$f?1==this._$7&&1==this._$g?0==this._$k&&0==this._$w?(this._$hi=L.STATE_IDENTITY,this._$Z=L._$pS):(this._$hi=L._$gb,this._$Z=L._$hb):(0==this._$k&&0==this._$w?this._$hi=L._$fo:this._$hi=L._$fo|L._$gb,this._$Z=L._$kS):(0==this._$7&&0==this._$g?0==this._$k&&0==this._$w?this._$hi=L._$go:this._$hi=L._$go|L._$gb:0==this._$k&&0==this._$w?this._$hi=L._$go|L._$fo:this._$hi=L._$go|L._$fo|L._$gb,this._$Z=L._$kS)},L.prototype._$RT=function(t){this._$IT(t);var e=t[0],i=t[2],n=t[1],r=t[3],o=Math.sqrt(e*e+n*n),s=e*r-i*n;0==o?rt._$so&&console.log("affine._$RT() / rt==0"):(t[0]=o,t[1]=s/o,t[2]=(n*r+e*i)/s,t[3]=Math.atan2(n,e))},L.prototype._$ho=function(t,e,i,n){var r=new Float32Array(6),o=new Float32Array(6);t._$RT(r),e._$RT(o);var s=new Float32Array(6);s[0]=r[0]+(o[0]-r[0])*i,s[1]=r[1]+(o[1]-r[1])*i,s[2]=r[2]+(o[2]-r[2])*i,s[3]=r[3]+(o[3]-r[3])*i,s[4]=r[4]+(o[4]-r[4])*i,s[5]=r[5]+(o[5]-r[5])*i,n._$CT(s)},L.prototype._$CT=function(t){var e=Math.cos(t[3]),i=Math.sin(t[3]);this._$7=t[0]*e,this._$f=t[0]*i,this._$H=t[1]*(t[2]*e-i),this._$g=t[1]*(t[2]*i+e),this._$k=t[4],this._$w=t[5],this.update()},L.prototype._$IT=function(t){t[0]=this._$7,t[1]=this._$f,t[2]=this._$H,t[3]=this._$g,t[4]=this._$k,t[5]=this._$w},I.prototype=new t,I._$cs="VISIBLE:",I._$ar="LAYOUT:",I._$Co=0,I._$D2=[],I._$1T=1,I.loadMotion=function(t){for(var e=new I,i=[0],n=t.length,r=e._$yT=0;r<n;++r){var o=255&t[r];if("\n"!=o&&"\r"!=o)if("#"!=o)if("$"!=o){if("a"<=o&&o<="z"||"A"<=o&&o<="Z"||"_"==o){for(var s=r,a=-1;r<n&&"\r"!=(o=255&t[r])&&"\n"!=o;++r)if("="==o){a=r;break}if(0<=a){var l=new M;O.startsWith(t,s,I._$cs)?(l._$RP=M._$hs,l._$4P=new String(t,s,a-s)):O.startsWith(t,s,I._$ar)?(l._$4P=new String(t,s+7,a-s-7),O.startsWith(t,s+7,"ANCHOR_X")?l._$RP=M._$xs:O.startsWith(t,s+7,"ANCHOR_Y")?l._$RP=M._$us:O.startsWith(t,s+7,"SCALE_X")?l._$RP=M._$qs:O.startsWith(t,s+7,"SCALE_Y")?l._$RP=M._$Ys:O.startsWith(t,s+7,"X")?l._$RP=M._$ws:O.startsWith(t,s+7,"Y")&&(l._$RP=M._$Ns)):(l._$RP=M._$Fr,l._$4P=new String(t,s,a-s)),e.motions.push(l);var u=0;for(I._$D2.clear(),r=a+1;r<n&&"\r"!=(o=255&t[r])&&"\n"!=o;++r)if(","!=o&&" "!=o&&"\t"!=o){var h=O._$LS(t,n,r,i);if(0<i[0]){I._$D2.push(h),u++;var c=i[0];if(c<r){console.log("_$n0 _$hi . @Live2DMotion loadMotion()\n");break}r=c}}l._$I0=I._$D2._$BL(),u>e._$yT&&(e._$yT=u)}}}else{for(s=r,a=-1;r<n&&"\r"!=(o=255&t[r])&&"\n"!=o;++r)if("="==o){a=r;break}var f=!1;if(0<=a)for(a==s+4&&"f"==t[s+1]&&"p"==t[s+2]&&"s"==t[s+3]&&(f=!0),r=a+1;r<n&&"\r"!=(o=255&t[r])&&"\n"!=o;++r)","!=o&&" "!=o&&"\t"!=o&&(h=O._$LS(t,n,r,i),0<i[0]&&f&&5<h&&h<121&&(e._$D0=h),r=i[0]);for(;r<n&&"\n"!=t[r]&&"\r"!=t[r];++r);}else for(;r<n&&"\n"!=t[r]&&"\r"!=t[r];++r);}return e._$AS=1e3*e._$yT/e._$D0|0,e},I.prototype.getDurationMSec=function(){return this._$AS},I.prototype.dump=function(){for(var t=0;t<this.motions.length;t++){var e=this.motions[t];console.log("_$wL[%s] [%d]. ",e._$4P,e._$I0.length);for(var i=0;i<e._$I0.length&&i<10;i++)console.log("%5.2f ,",e._$I0[i]);console.log("\n")}},I.prototype.updateParamExe=function(t,e,i,n){for(var r=(e-n._$z2)*this._$D0/1e3,o=0|r,s=r-o,a=0;a<this.motions.length;a++){var l=this.motions[a],u=l._$I0.length,h=l._$4P;if(l._$RP==M._$hs){var c=l._$I0[u<=o?u-1:o];t.setParamFloat(h,c)}else if(M._$ws<=l._$RP&&l._$RP<=M._$Ys);else{var f=t.getParamFloat(h),p=l._$I0[u<=o?u-1:o],_=f+(p+(l._$I0[u<=o+1?u-1:o+1]-p)*s-f)*i;t.setParamFloat(h,_)}}o>=this._$yT&&(this._$E?(n._$z2=e,this.loopFadeIn&&(n._$bs=e)):n._$9L=!0)},I.prototype._$r0=function(){return this._$E},I.prototype._$aL=function(t){this._$E=t},I.prototype.isLoopFadeIn=function(){return this.loopFadeIn},I.prototype.setLoopFadeIn=function(t){this.loopFadeIn=t},M._$Fr=0,M._$hs=1,M._$ws=100,M._$Ns=101,M._$xs=102,M._$us=103,M._$qs=104,M._$Ys=105,R._$Ms=1,R._$Qs=2,R._$i2=0,R._$No=2,R._$do=R._$Ms,R._$Ls=!0,R._$1r=5,R._$Qb=65,R._$J=1e-4,R._$FT=.001,R._$Ss=3,D._$o7=6,D._$S7=7,D._$s7=8,D._$77=9,D.LIVE2D_FORMAT_VERSION_V2_10_SDK2=10,D._$T7=D.LIVE2D_FORMAT_VERSION_V2_11_SDK2_1=11,D._$Is=-2004318072,D._$h0=0,D._$4L=23,D._$7P=33,D._$uT=function(t){console.log("_$bo :: _$6 _$mo _$E0 : %d\n",t)},D._$9o=function(t){if(t<40)return D._$uT(t),null;if(t<50)return D._$uT(t),null;if(t<60)return D._$uT(t),null;if(t<100)switch(t){case 65:return new Y;case 66:return new E;case 67:return new P;case 68:return new st;case 69:return new g;case 70:return new et;default:return D._$uT(t),null}else if(t<150)switch(t){case 131:return new J;case 133:return new V;case 136:return new e;case 137:return new Q;case 142:return new j}return D._$uT(t),null},k._$HP=0,k._$_0=!0,k._$V2=-1,k._$W0=-1,k._$jr=!1,k._$ZS=!0,k._$tr=-1e6,k._$lr=1e6,k._$is=32,k._$e=!1,k.prototype.getDrawDataIndex=function(t){for(var e=this._$aS.length-1;0<=e;--e)if(null!=this._$aS[e]&&this._$aS[e].getDrawDataID()==t)return e;return-1},k.prototype.getDrawData=function(t){if(t instanceof C){if(null==this._$Bo){this._$Bo=new Object;for(var e=this._$aS.length,i=0;i<e;i++){var n=this._$aS[i],r=n.getDrawDataID();null!=r&&(this._$Bo[r]=n)}}return this._$Bo[id]}return t<this._$aS.length?this._$aS[t]:null},k.prototype.release=function(){this._$3S.clear(),this._$aS.clear(),this._$F2.clear(),null!=this._$Bo&&this._$Bo.clear(),this._$db.clear(),this._$8b.clear(),this._$Hr.clear()},k.prototype.init=function(){this._$co++,0<this._$F2.length&&this.release();for(var t=this._$Ri.getModelImpl(),e=t._$Xr(),i=e.length,n=new Array,r=new Array,o=0;o<i;++o){var s=e[o];this._$F2.push(s),this._$Hr.push(s.init(this));for(var a=s.getBaseData(),l=a.length,u=0;u<l;++u)n.push(a[u]);for(u=0;u<l;++u){var h=a[u].init(this);h._$l2(o),r.push(h)}var c=s.getDrawData(),f=c.length;for(u=0;u<f;++u){var p=c[u],_=p.init(this);_._$IP=o,this._$aS.push(p),this._$8b.push(_)}}for(var d=n.length,m=ft._$2o();;){var g=!1;for(o=0;o<d;++o){var v=n[o];if(null!=v){var y=v.getTargetBaseDataID();(null==y||y==m||0<=this.getBaseDataIndex(y))&&(this._$3S.push(v),this._$db.push(r[o]),g=!(n[o]=null))}}if(!g)break}var $=t._$E2();if(null!=$){var w=$._$1s();if(null!=w){var b=w.length;for(o=0;o<b;++o){var T=w[o];null!=T&&this._$02(T.getParamID(),T.getDefaultValue(),T.getMinValue(),T.getMaxValue())}}}this.clipManager=new x(this.dp_webgl),this.clipManager.init(this,this._$aS,this._$8b),this._$QT=!0},k.prototype.update=function(){k._$e&&it.start("_$zL");for(var t=this._$_2.length,e=0;e<t;e++)this._$_2[e]!=this._$vr[e]&&(this._$Js[e]=k._$ZS,this._$vr[e]=this._$_2[e]);var i=this._$3S.length,n=this._$aS.length,r=B._$or(),o=B._$Pr()-r+1;for((null==this._$Ws||this._$Ws.length<o)&&(this._$Ws=new Int16Array(o),this._$Vs=new Int16Array(o)),e=0;e<o;e++)this._$Ws[e]=k._$V2,this._$Vs[e]=k._$V2;for((null==this._$Er||this._$Er.length<n)&&(this._$Er=new Int16Array(n)),e=0;e<n;e++)this._$Er[e]=k._$W0;k._$e&&it.dump("_$zL"),k._$e&&it.start("_$UL");for(var s=null,a=0;a<i;++a){var l=this._$3S[a],u=this._$db[a];try{l._$Nr(this,u),l._$2b(this,u)}catch(t){null==s&&(s=t)}}null!=s&&k._$_0&&it._$Rb(s),k._$e&&it.dump("_$UL"),k._$e&&it.start("_$DL");for(var h=null,c=0;c<n;++c){var f=this._$aS[c],p=this._$8b[c];try{if(f._$Nr(this,p),p._$u2())continue;f._$2b(this,p);var _,d=Math.floor(f._$zS(this,p)-r);try{_=this._$Vs[d]}catch(t){console.log("_$li :: %s / %s \t\t\t\t@@_$fS\n",t.toString(),f.getDrawDataID().toString()),d=Math.floor(f._$zS(this,p)-r);continue}_==k._$V2?this._$Ws[d]=c:this._$Er[_]=c,this._$Vs[d]=c}catch(t){null==h&&(h=t,rt._$sT(rt._$H7))}}for(null!=h&&k._$_0&&it._$Rb(h),k._$e&&it.dump("_$DL"),k._$e&&it.start("_$eL"),e=this._$Js.length-1;0<=e;e--)this._$Js[e]=k._$jr;return this._$QT=!1,k._$e&&it.dump("_$eL"),!1},k.prototype.preDraw=function(t){null!=this.clipManager&&(t._$ZT(),this.clipManager.setupClip(this,t))},k.prototype.draw=function(t){if(null!=this._$Ws){var e=this._$Ws.length;t._$ZT();for(var i=0;i<e;++i){var n=this._$Ws[i];if(n!=k._$V2)for(;;){var r=this._$aS[n],o=this._$8b[n];if(o._$yo()){var s=o._$IP,a=this._$Hr[s];o._$VS=a.getPartsOpacity(),r.draw(t,this,o)}var l=this._$Er[n];if(l<=n||l==k._$W0)break;n=l}}}else it._$li("call _$Ri.update() before _$Ri.draw() ")},k.prototype.getParamIndex=function(t){for(var e=this._$pb.length-1;0<=e;--e)if(this._$pb[e]==t)return e;return this._$02(t,0,k._$tr,k._$lr)},k.prototype._$BS=function(t){return this.getBaseDataIndex(t)},k.prototype.getBaseDataIndex=function(t){for(var e=this._$3S.length-1;0<=e;--e)if(null!=this._$3S[e]&&this._$3S[e].getBaseDataID()==t)return e;return-1},k.prototype._$UT=function(t,e){var i=new Float32Array(e);return Dt._$jT(t,0,i,0,t.length),i},k.prototype._$02=function(t,e,i,n){if(this._$qo>=this._$pb.length){var r=this._$pb.length,o=new Array(2*r);Dt._$jT(this._$pb,0,o,0,r),this._$pb=o,this._$_2=this._$UT(this._$_2,2*r),this._$vr=this._$UT(this._$vr,2*r),this._$Rr=this._$UT(this._$Rr,2*r),this._$Or=this._$UT(this._$Or,2*r);var s=new Array;Dt._$jT(this._$Js,0,s,0,r),this._$Js=s}return this._$pb[this._$qo]=t,this._$_2[this._$qo]=e,this._$vr[this._$qo]=e,this._$Rr[this._$qo]=i,this._$Or[this._$qo]=n,this._$Js[this._$qo]=k._$ZS,this._$qo++},k.prototype._$Zo=function(t,e){this._$3S[t]=e},k.prototype.setParamFloat=function(t,e){e<this._$Rr[t]&&(e=this._$Rr[t]),e>this._$Or[t]&&(e=this._$Or[t]),this._$_2[t]=e},k.prototype.loadParam=function(){var t=this._$_2.length;t>this._$fs.length&&(t=this._$fs.length),Dt._$jT(this._$fs,0,this._$_2,0,t)},k.prototype.saveParam=function(){var t=this._$_2.length;t>this._$fs.length&&(this._$fs=new Float32Array(t)),Dt._$jT(this._$_2,0,this._$fs,0,t)},k.prototype._$v2=function(){return this._$co},k.prototype._$WS=function(){return this._$QT},k.prototype._$Xb=function(t){return this._$Js[t]==k._$ZS},k.prototype._$vs=function(){return this._$Es},k.prototype._$Tr=function(){return this._$ZP},k.prototype.getBaseData=function(t){return this._$3S[t]},k.prototype.getParamFloat=function(t){return this._$_2[t]},k.prototype.getParamMax=function(t){return this._$Or[t]},k.prototype.getParamMin=function(t){return this._$Rr[t]},k.prototype.setPartsOpacity=function(t,e){this._$Hr[t].setPartsOpacity(e)},k.prototype.getPartsOpacity=function(t){return this._$Hr[t].getPartsOpacity()},k.prototype.getPartsDataIndex=function(t){for(var e=this._$F2.length-1;0<=e;--e)if(null!=this._$F2[e]&&this._$F2[e]._$p2()==t)return e;return-1},k.prototype._$q2=function(t){return this._$db[t]},k.prototype._$C2=function(t){return this._$8b[t]},k.prototype._$Bb=function(t){return this._$Hr[t]},k.prototype._$5s=function(t,e){for(var i=this._$Ws.length,n=t,r=0;r<i;++r){var o=this._$Ws[r];if(o!=k._$V2)for(;;){var s=this._$8b[o];s._$yo()&&(s._$GT()._$B2(this,s,n),n+=e);var a=this._$Er[o];if(a<=o||a==k._$W0)break;o=a}}},k.prototype.setDrawParam=function(t){this.dp_webgl=t},k.prototype.getDrawParam=function(){return this.dp_webgl},N._$0T=function(t){return N._$0T(new _$5(t))},N._$0T=function(t){if(!t.exists())throw new _$ls(t._$3b());for(var e,i=t.length(),n=new Int8Array(i),r=new _$Xs(new _$kb(t),8192),o=0;0<(e=r.read(n,o,i-o));)o+=e;return n},N._$C=function(t){var e=null,i=null;try{e=t instanceof Array?t:new _$Xs(t,8192),i=new _$js;for(var n,r=new Int8Array(1e3);0<(n=e.read(r));)i.write(r,0,n);return i._$TS()}finally{null!=t&&t.close(),null!=i&&(i.flush(),i.close())}};F.prototype=new b,F._$As=32,F._$Gr=!1,F._$NT=null,F._$vS=null,F._$no=null,F._$9r=function(t){return new Float32Array(t)},F._$vb=function(t){return new Int16Array(t)},F._$cr=function(t,e){return null==t||t._$yL()<e.length?t=F._$9r(2*e.length):t.clear(),t.put(e),t._$oT(0),t},F._$mb=function(t,e){return null==t||t._$yL()<e.length?t=F._$vb(2*e.length):t.clear(),t.put(e),t._$oT(0),t},F._$Hs=function(){return F._$Gr},F._$as=function(t){F._$Gr=t},F.prototype.setGL=function(t){this.gl=t},F.prototype.setTransform=function(t){this.transform=t},F.prototype._$ZT=function(){},F.prototype._$Uo=function(t,e,i,n,r,o,s,a){if(!(o<.01)){var l=this._$U2[t],u=.9<o?rt.EXPAND_W:0;this.gl.drawElements(l,i,n,r,o,u,this.transform,a)}},F.prototype._$Rs=function(){throw new Error("_$Rs")},F.prototype._$Ds=function(t){throw new Error("_$Ds")},F.prototype._$K2=function(){for(var t=0;t<this._$sb.length;t++)0!=this._$sb[t]&&(this.gl._$Sr(1,this._$sb,t),this._$sb[t]=0)},F.prototype.setTexture=function(t,e){this._$sb.length<t+1&&this._$nS(t),this._$sb[t]=e},F.prototype.setTexture=function(t,e){this._$sb.length<t+1&&this._$nS(t),this._$U2[t]=e},F.prototype._$nS=function(t){var e=Math.max(2*this._$sb.length,t+1+10),i=new Int32Array(e);Dt._$jT(this._$sb,0,i,0,this._$sb.length),this._$sb=i;var n=new Array;Dt._$jT(this._$U2,0,n,0,this._$U2.length),this._$U2=n},st.prototype=new S,st._$Xo=new Float32Array(2),st._$io=new Float32Array(2),st._$0o=new Float32Array(2),st._$Lo=new Float32Array(2),st._$To=new Float32Array(2),st._$Po=new Float32Array(2),st._$gT=new Array,st.prototype._$zP=function(){this._$GS=new E,this._$GS._$zP(),this._$Y0=new Array},st.prototype.getType=function(){return S._$c2},st.prototype._$F0=function(t){S.prototype._$F0.call(this,t),this._$GS=t._$nP(),this._$Y0=t._$nP(),S.prototype.readV2_opacity.call(this,t)},st.prototype.init=function(t){var e=new U(this);return e._$Yr=new g,this._$32()&&(e._$Wr=new g),e},st.prototype._$Nr=function(t,e){this!=e._$GT()&&console.log("### assert!! ### ");var i=e;if(this._$GS._$Ur(t)){var n=st._$gT;n[0]=!1;var r=this._$GS._$Q2(t,n);e._$Ib(n[0]),this.interpolateOpacity(t,this._$GS,e,n);var o=t._$vs(),s=t._$Tr();if(this._$GS._$zr(o,s,r),r<=0){var a=this._$Y0[o[0]];i._$Yr.init(a)}else if(1==r){a=this._$Y0[o[0]];var l=this._$Y0[o[1]],u=s[0];i._$Yr._$fL=a._$fL+(l._$fL-a._$fL)*u,i._$Yr._$gL=a._$gL+(l._$gL-a._$gL)*u,i._$Yr._$B0=a._$B0+(l._$B0-a._$B0)*u,i._$Yr._$z0=a._$z0+(l._$z0-a._$z0)*u,i._$Yr._$qT=a._$qT+(l._$qT-a._$qT)*u}else if(2==r){a=this._$Y0[o[0]],l=this._$Y0[o[1]];var h=this._$Y0[o[2]],c=this._$Y0[o[3]],f=(u=s[0],s[1]),p=a._$fL+(l._$fL-a._$fL)*u,_=h._$fL+(c._$fL-h._$fL)*u;i._$Yr._$fL=p+(_-p)*f,p=a._$gL+(l._$gL-a._$gL)*u,_=h._$gL+(c._$gL-h._$gL)*u,i._$Yr._$gL=p+(_-p)*f,p=a._$B0+(l._$B0-a._$B0)*u,_=h._$B0+(c._$B0-h._$B0)*u,i._$Yr._$B0=p+(_-p)*f,p=a._$z0+(l._$z0-a._$z0)*u,_=h._$z0+(c._$z0-h._$z0)*u,i._$Yr._$z0=p+(_-p)*f,p=a._$qT+(l._$qT-a._$qT)*u,_=h._$qT+(c._$qT-h._$qT)*u,i._$Yr._$qT=p+(_-p)*f}else if(3==r){var d=this._$Y0[o[0]],m=this._$Y0[o[1]],g=this._$Y0[o[2]],v=this._$Y0[o[3]],y=this._$Y0[o[4]],$=this._$Y0[o[5]],w=this._$Y0[o[6]],b=this._$Y0[o[7]],T=(u=s[0],f=s[1],s[2]),x=(p=d._$fL+(m._$fL-d._$fL)*u,_=g._$fL+(v._$fL-g._$fL)*u,y._$fL+($._$fL-y._$fL)*u),S=w._$fL+(b._$fL-w._$fL)*u;i._$Yr._$fL=(1-T)*(p+(_-p)*f)+T*(x+(S-x)*f),p=d._$gL+(m._$gL-d._$gL)*u,_=g._$gL+(v._$gL-g._$gL)*u,x=y._$gL+($._$gL-y._$gL)*u,S=w._$gL+(b._$gL-w._$gL)*u,i._$Yr._$gL=(1-T)*(p+(_-p)*f)+T*(x+(S-x)*f),p=d._$B0+(m._$B0-d._$B0)*u,_=g._$B0+(v._$B0-g._$B0)*u,x=y._$B0+($._$B0-y._$B0)*u,S=w._$B0+(b._$B0-w._$B0)*u,i._$Yr._$B0=(1-T)*(p+(_-p)*f)+T*(x+(S-x)*f),p=d._$z0+(m._$z0-d._$z0)*u,_=g._$z0+(v._$z0-g._$z0)*u,x=y._$z0+($._$z0-y._$z0)*u,S=w._$z0+(b._$z0-w._$z0)*u,i._$Yr._$z0=(1-T)*(p+(_-p)*f)+T*(x+(S-x)*f),p=d._$qT+(m._$qT-d._$qT)*u,_=g._$qT+(v._$qT-g._$qT)*u,x=y._$qT+($._$qT-y._$qT)*u,S=w._$qT+(b._$qT-w._$qT)*u,i._$Yr._$qT=(1-T)*(p+(_-p)*f)+T*(x+(S-x)*f)}else if(4==r){var P=this._$Y0[o[0]],O=this._$Y0[o[1]],E=this._$Y0[o[2]],A=this._$Y0[o[3]],C=this._$Y0[o[4]],L=this._$Y0[o[5]],I=this._$Y0[o[6]],M=this._$Y0[o[7]],R=this._$Y0[o[8]],D=this._$Y0[o[9]],k=this._$Y0[o[10]],N=this._$Y0[o[11]],F=this._$Y0[o[12]],U=this._$Y0[o[13]],B=this._$Y0[o[14]],j=this._$Y0[o[15]],G=(u=s[0],f=s[1],T=s[2],s[3]),z=(p=P._$fL+(O._$fL-P._$fL)*u,_=E._$fL+(A._$fL-E._$fL)*u,x=C._$fL+(L._$fL-C._$fL)*u,S=I._$fL+(M._$fL-I._$fL)*u,R._$fL+(D._$fL-R._$fL)*u),q=k._$fL+(N._$fL-k._$fL)*u,Y=F._$fL+(U._$fL-F._$fL)*u,H=B._$fL+(j._$fL-B._$fL)*u;i._$Yr._$fL=(1-G)*((1-T)*(p+(_-p)*f)+T*(x+(S-x)*f))+G*((1-T)*(z+(q-z)*f)+T*(Y+(H-Y)*f)),p=P._$gL+(O._$gL-P._$gL)*u,_=E._$gL+(A._$gL-E._$gL)*u,x=C._$gL+(L._$gL-C._$gL)*u,S=I._$gL+(M._$gL-I._$gL)*u,z=R._$gL+(D._$gL-R._$gL)*u,q=k._$gL+(N._$gL-k._$gL)*u,Y=F._$gL+(U._$gL-F._$gL)*u,H=B._$gL+(j._$gL-B._$gL)*u,i._$Yr._$gL=(1-G)*((1-T)*(p+(_-p)*f)+T*(x+(S-x)*f))+G*((1-T)*(z+(q-z)*f)+T*(Y+(H-Y)*f)),p=P._$B0+(O._$B0-P._$B0)*u,_=E._$B0+(A._$B0-E._$B0)*u,x=C._$B0+(L._$B0-C._$B0)*u,S=I._$B0+(M._$B0-I._$B0)*u,z=R._$B0+(D._$B0-R._$B0)*u,q=k._$B0+(N._$B0-k._$B0)*u,Y=F._$B0+(U._$B0-F._$B0)*u,H=B._$B0+(j._$B0-B._$B0)*u,i._$Yr._$B0=(1-G)*((1-T)*(p+(_-p)*f)+T*(x+(S-x)*f))+G*((1-T)*(z+(q-z)*f)+T*(Y+(H-Y)*f)),p=P._$z0+(O._$z0-P._$z0)*u,_=E._$z0+(A._$z0-E._$z0)*u,x=C._$z0+(L._$z0-C._$z0)*u,S=I._$z0+(M._$z0-I._$z0)*u,z=R._$z0+(D._$z0-R._$z0)*u,q=k._$z0+(N._$z0-k._$z0)*u,Y=F._$z0+(U._$z0-F._$z0)*u,H=B._$z0+(j._$z0-B._$z0)*u,i._$Yr._$z0=(1-G)*((1-T)*(p+(_-p)*f)+T*(x+(S-x)*f))+G*((1-T)*(z+(q-z)*f)+T*(Y+(H-Y)*f)),p=P._$qT+(O._$qT-P._$qT)*u,_=E._$qT+(A._$qT-E._$qT)*u,x=C._$qT+(L._$qT-C._$qT)*u,S=I._$qT+(M._$qT-I._$qT)*u,z=R._$qT+(D._$qT-R._$qT)*u,q=k._$qT+(N._$qT-k._$qT)*u,Y=F._$qT+(U._$qT-F._$qT)*u,H=B._$qT+(j._$qT-B._$qT)*u,i._$Yr._$qT=(1-G)*((1-T)*(p+(_-p)*f)+T*(x+(S-x)*f))+G*((1-T)*(z+(q-z)*f)+T*(Y+(H-Y)*f))}else{for(var V=0|Math.pow(2,r),X=new Float32Array(V),W=0;W<V;W++){for(var Q=W,J=1,K=0;K<r;K++)J*=Q%2==0?1-s[K]:s[K],Q/=2;X[W]=J}for(var Z=new Array,tt=0;tt<V;tt++)Z[tt]=this._$Y0[o[tt]];var et=0,it=0,nt=0,rt=0,ot=0;for(tt=0;tt<V;tt++)et+=X[tt]*Z[tt]._$fL,it+=X[tt]*Z[tt]._$gL,nt+=X[tt]*Z[tt]._$B0,rt+=X[tt]*Z[tt]._$z0,ot+=X[tt]*Z[tt]._$qT;i._$Yr._$fL=et,i._$Yr._$gL=it,i._$Yr._$B0=nt,i._$Yr._$z0=rt,i._$Yr._$qT=ot}a=this._$Y0[o[0]],i._$Yr.reflectX=a.reflectX,i._$Yr.reflectY=a.reflectY}},st.prototype._$2b=function(t,e){this!=e._$GT()&&console.log("### assert!! ### ");var i=e;if(i._$hS(!0),this._$32()){var n=this.getTargetBaseDataID();if(i._$8r==S._$ur&&(i._$8r=t.getBaseDataIndex(n)),i._$8r<0)rt._$so&&it._$li("_$L _$0P _$G :: %s",n),i._$hS(!1);else{var r=t.getBaseData(i._$8r);if(null!=r){var o=t._$q2(i._$8r),s=st._$Xo;s[0]=i._$Yr._$fL,s[1]=i._$Yr._$gL;var a=st._$io;a[0]=0,a[1]=-.1,o._$GT().getType()==S._$c2?a[1]=-10:a[1]=-.1;var l=st._$0o;this._$Jr(t,r,o,s,a,l);var u=gt._$92(a,l);r._$nb(t,o,s,s,1,0,2),i._$Wr._$fL=s[0],i._$Wr._$gL=s[1],i._$Wr._$B0=i._$Yr._$B0,i._$Wr._$z0=i._$Yr._$z0,i._$Wr._$qT=i._$Yr._$qT-u*gt._$NS;var h=o.getTotalScale();i.setTotalScale_notForClient(h*i._$Wr._$B0);var c=o.getTotalOpacity();i.setTotalOpacity(c*i.getInterpolatedOpacity()),i._$Wr.reflectX=i._$Yr.reflectX,i._$Wr.reflectY=i._$Yr.reflectY,i._$hS(o._$yo())}else i._$hS(!1)}}else i.setTotalScale_notForClient(i._$Yr._$B0),i.setTotalOpacity(i.getInterpolatedOpacity())},st.prototype._$nb=function(t,e,i,n,r,o,s){this!=e._$GT()&&console.log("### assert!! ### ");for(var a,l,u=e,h=null!=u._$Wr?u._$Wr:u._$Yr,c=Math.sin(gt._$bS*h._$qT),f=Math.cos(gt._$bS*h._$qT),p=u.getTotalScale(),_=h.reflectX?-1:1,d=h.reflectY?-1:1,m=f*p*_,g=-c*p*d,v=c*p*_,y=f*p*d,$=h._$fL,w=h._$gL,b=r*s,T=o;T<b;T+=s)a=i[T],l=i[T+1],n[T]=m*a+g*l+$,n[T+1]=v*a+y*l+w},st.prototype._$Jr=function(t,e,i,n,r,o){e!=i._$GT()&&console.log("### assert!! ### ");var s=st._$Lo;st._$Lo[0]=n[0],st._$Lo[1]=n[1],e._$nb(t,i,s,s,1,0,2);for(var a=st._$To,l=st._$Po,u=1,h=0;h<10;h++){if(l[0]=n[0]+u*r[0],l[1]=n[1]+u*r[1],e._$nb(t,i,l,a,1,0,2),a[0]-=s[0],a[1]-=s[1],0!=a[0]||0!=a[1])return o[0]=a[0],void(o[1]=a[1]);if(l[0]=n[0]-u*r[0],l[1]=n[1]-u*r[1],e._$nb(t,i,l,a,1,0,2),a[0]-=s[0],a[1]-=s[1],0!=a[0]||0!=a[1])return a[0]=-a[0],a[0]=-a[0],o[0]=a[0],void(o[1]=a[1]);u*=.1}rt._$so&&console.log("_$L0 to transform _$SP\n")},U.prototype=new K,B.prototype=new w,B._$ur=-2,B._$ES=500,B._$wb=2,B._$8S=3,B._$os=4,B._$52=B._$ES,B._$R2=B._$ES,B._$Sb=function(t){for(var e=t.length-1;0<=e;--e){var i=t[e];i<B._$52?B._$52=i:B._$R2<i&&(B._$R2=i)}},B._$or=function(){return B._$52},B._$Pr=function(){return B._$R2},B.prototype._$F0=function(t){this._$gP=t._$nP(),this._$dr=t._$nP(),this._$GS=t._$nP(),this._$qb=t._$6L(),this._$Lb=t._$cS(),this._$mS=t._$Tb(),t.getFormatVersion()>=D._$T7?(this.clipID=t._$nP(),this.clipIDList=this.convertClipIDForV2_11(this.clipID)):this.clipIDList=null,B._$Sb(this._$Lb)},B.prototype.getClipIDList=function(){return this.clipIDList},B.prototype._$Nr=function(t,e){if(e._$IS[0]=!1,e._$Us=y._$Z2(t,this._$GS,e._$IS,this._$Lb),rt._$Zs);else if(e._$IS[0])return;e._$7s=y._$br(t,this._$GS,e._$IS,this._$mS)},B.prototype._$2b=function(t){},B.prototype.getDrawDataID=function(){return this._$gP},B.prototype._$j2=function(t){this._$gP=t},B.prototype.getOpacity=function(t,e){return e._$7s},B.prototype._$zS=function(t,e){return e._$Us},B.prototype.getTargetBaseDataID=function(){return this._$dr},B.prototype._$gs=function(t){this._$dr=t},B.prototype._$32=function(){return null!=this._$dr&&this._$dr!=ft._$2o()},B.prototype.getType=function(){},j._$42=0,j.prototype._$1b=function(){return this._$3S},j.prototype.getDrawDataList=function(){return this._$aS},j.prototype._$F0=function(t){this._$NL=t._$nP(),this._$aS=t._$nP(),this._$3S=t._$nP()},j.prototype._$kr=function(t){t._$Zo(this._$3S),t._$xo(this._$aS),this._$3S=null,this._$aS=null},G.prototype=new c,G.loadModel=function(t){var e=new G;return c._$62(e,t),e},G.loadModel=function(t){var e=new G;return c._$62(e,t),e},G._$to=function(){return new G},G._$er=function(t){var e=new _$5("../_$_r/_$t0/_$Ri/_$_P._$d");if(0==e.exists())throw new _$ls("_$t0 _$_ _$6 _$Ui :: "+e._$PL());for(var i=["../_$_r/_$t0/_$Ri/_$_P.512/_$CP._$1","../_$_r/_$t0/_$Ri/_$_P.512/_$vP._$1","../_$_r/_$t0/_$Ri/_$_P.512/_$EP._$1","../_$_r/_$t0/_$Ri/_$_P.512/_$pP._$1"],n=G.loadModel(e._$3b()),r=0;r<i.length;r++){var o=new _$5(i[r]);if(0==o.exists())throw new _$ls("_$t0 _$_ _$6 _$Ui :: "+o._$PL());n.setTexture(r,_$nL._$_o(t,o._$3b()))}return n},G.prototype.setGL=function(t){this._$zo.setGL(t)},G.prototype.setTransform=function(t){this._$zo.setTransform(t)},G.prototype.draw=function(){this._$5S.draw(this._$zo)},G.prototype._$K2=function(){this._$zo._$K2()},G.prototype.setTexture=function(t,e){null==this._$zo&&it._$li("_$Yi for QT _$ki / _$XS() is _$6 _$ui!!"),this._$zo.setTexture(t,e)},G.prototype.setTexture=function(t,e){null==this._$zo&&it._$li("_$Yi for QT _$ki / _$XS() is _$6 _$ui!!"),this._$zo.setTexture(t,e)},G.prototype._$Rs=function(){return this._$zo._$Rs()},G.prototype._$Ds=function(t){this._$zo._$Ds(t)},G.prototype.getDrawParam=function(){return this._$zo},z.prototype=new t,z._$cs="VISIBLE:",z._$ar="LAYOUT:",z.MTN_PREFIX_FADEIN="FADEIN:",z.MTN_PREFIX_FADEOUT="FADEOUT:",z._$Co=0,z._$1T=1,z.loadMotion=function(t){var e=N._$C(t);return z.loadMotion(e)},z.loadMotion=function(t){t instanceof ArrayBuffer&&(t=new DataView(t));for(var e=new z,i=[0],n=t.byteLength,r=e._$yT=0;r<n;++r){var o=q(t,r),s=o.charCodeAt(0);if("\n"!=o&&"\r"!=o)if("#"!=o)if("$"!=o){if(97<=s&&s<=122||65<=s&&s<=90||"_"==o){for(var a=r,l=-1;r<n&&"\r"!=(o=q(t,r))&&"\n"!=o;++r)if("="==o){l=r;break}if(0<=l){var u=new M;O.startsWith(t,a,z._$cs)?(u._$RP=M._$hs,u._$4P=O.createString(t,a,l-a)):O.startsWith(t,a,z._$ar)?(u._$4P=O.createString(t,a+7,l-a-7),O.startsWith(t,a+7,"ANCHOR_X")?u._$RP=M._$xs:O.startsWith(t,a+7,"ANCHOR_Y")?u._$RP=M._$us:O.startsWith(t,a+7,"SCALE_X")?u._$RP=M._$qs:O.startsWith(t,a+7,"SCALE_Y")?u._$RP=M._$Ys:O.startsWith(t,a+7,"X")?u._$RP=M._$ws:O.startsWith(t,a+7,"Y")&&(u._$RP=M._$Ns)):(u._$RP=M._$Fr,u._$4P=O.createString(t,a,l-a)),e.motions.push(u);var h=0,c=[];for(r=l+1;r<n&&"\r"!=(o=q(t,r))&&"\n"!=o;++r)if(","!=o&&" "!=o&&"\t"!=o){var f=O._$LS(t,n,r,i);if(0<i[0]){c.push(f),h++;var p=i[0];if(p<r){console.log("_$n0 _$hi . @Live2DMotion loadMotion()\n");break}r=p-1}}u._$I0=new Float32Array(c),h>e._$yT&&(e._$yT=h)}}}else{for(a=r,l=-1;r<n&&"\r"!=(o=q(t,r))&&"\n"!=o;++r)if("="==o){l=r;break}var _=!1;if(0<=l)for(l==a+4&&"f"==q(t,a+1)&&"p"==q(t,a+2)&&"s"==q(t,a+3)&&(_=!0),r=l+1;r<n&&"\r"!=(o=q(t,r))&&"\n"!=o;++r)","!=o&&" "!=o&&"\t"!=o&&(f=O._$LS(t,n,r,i),0<i[0]&&_&&5<f&&f<121&&(e._$D0=f),r=i[0]);for(;r<n&&"\n"!=q(t,r)&&"\r"!=q(t,r);++r);}else for(;r<n&&"\n"!=q(t,r)&&"\r"!=q(t,r);++r);}return e._$rr=1e3*e._$yT/e._$D0|0,e},z.prototype.getDurationMSec=function(){return this._$E?-1:this._$rr},z.prototype.getLoopDurationMSec=function(){return this._$rr},z.prototype.dump=function(){for(var t=0;t<this.motions.length;t++){var e=this.motions[t];console.log("_$wL[%s] [%d]. ",e._$4P,e._$I0.length);for(var i=0;i<e._$I0.length&&i<10;i++)console.log("%5.2f ,",e._$I0[i]);console.log("\n")}},z.prototype.updateParamExe=function(t,e,i,n){for(var r=(e-n._$z2)*this._$D0/1e3,o=0|r,s=r-o,a=0;a<this.motions.length;a++){var l=this.motions[a],u=l._$I0.length,h=l._$4P;if(l._$RP==M._$hs){var c=l._$I0[u<=o?u-1:o];t.setParamFloat(h,c)}else if(M._$ws<=l._$RP&&l._$RP<=M._$Ys);else{var f=t.getParamIndex(h),p=t.getModelContext(),_=.4*(p.getParamMax(f)-p.getParamMin(f)),d=p.getParamFloat(f),m=l._$I0[u<=o?u-1:o],g=l._$I0[u<=o+1?u-1:o+1],v=d+((m<g&&_<g-m||g<m&&_<m-g?m:m+(g-m)*s)-d)*i;t.setParamFloat(h,v)}}o>=this._$yT&&(this._$E?(n._$z2=e,this.loopFadeIn&&(n._$bs=e)):n._$9L=!0),this._$eP=i},z.prototype._$r0=function(){return this._$E},z.prototype._$aL=function(t){this._$E=t},z.prototype._$S0=function(){return this._$D0},z.prototype._$U0=function(t){this._$D0=t},z.prototype.isLoopFadeIn=function(){return this.loopFadeIn},z.prototype.setLoopFadeIn=function(t){this.loopFadeIn=t},M._$Fr=0,M._$hs=1,M._$ws=100,M._$Ns=101,M._$xs=102,M._$us=103,M._$qs=104,M._$Ys=105,Y.prototype=new S,Y._$gT=new Array,Y.prototype._$zP=function(){this._$GS=new E,this._$GS._$zP()},Y.prototype._$F0=function(t){S.prototype._$F0.call(this,t),this._$A=t._$6L(),this._$o=t._$6L(),this._$GS=t._$nP(),this._$Eo=t._$nP(),S.prototype.readV2_opacity.call(this,t)},Y.prototype.init=function(t){var e=new H(this),i=(this._$o+1)*(this._$A+1);return null!=e._$Cr&&(e._$Cr=null),e._$Cr=new Float32Array(2*i),null!=e._$hr&&(e._$hr=null),this._$32()?e._$hr=new Float32Array(2*i):e._$hr=null,e},Y.prototype._$Nr=function(t,e){var i=e;if(this._$GS._$Ur(t)){var n=this._$VT(),r=Y._$gT;r[0]=!1,y._$Vr(t,this._$GS,r,n,this._$Eo,i._$Cr,0,2),e._$Ib(r[0]),this.interpolateOpacity(t,this._$GS,e,r)}},Y.prototype._$2b=function(t,e){var i=e;if(i._$hS(!0),this._$32()){var n=this.getTargetBaseDataID();if(i._$8r==S._$ur&&(i._$8r=t.getBaseDataIndex(n)),i._$8r<0)rt._$so&&it._$li("_$L _$0P _$G :: %s",n),i._$hS(!1);else{var r=t.getBaseData(i._$8r),o=t._$q2(i._$8r);if(null!=r&&o._$yo()){var s=o.getTotalScale();i.setTotalScale_notForClient(s);var a=o.getTotalOpacity();i.setTotalOpacity(a*i.getInterpolatedOpacity()),r._$nb(t,o,i._$Cr,i._$hr,this._$VT(),0,2),i._$hS(!0)}else i._$hS(!1)}}else i.setTotalOpacity(i.getInterpolatedOpacity())},Y.prototype._$nb=function(t,e,i,n,r,o,s){var a=e,l=null!=a._$hr?a._$hr:a._$Cr;Y.transformPoints_sdk2(i,n,r,o,s,l,this._$o,this._$A)},Y.transformPoints_sdk2=function(t,e,i,n,r,o,s,a){for(var l,u,h,c=i*r,f=0,p=0,_=0,d=0,m=0,g=0,v=!1,y=n;y<c;y+=r){var $,w,b,T;if(b=t[y],w=(T=t[y+1])*a,($=b*s)<0||w<0||s<=$||a<=w){var x=s+1;if(!v){v=!0,f=.25*(o[2*(0+0*x)]+o[2*(s+0*x)]+o[2*(0+a*x)]+o[2*(s+a*x)]),p=.25*(o[2*(0+0*x)+1]+o[2*(s+0*x)+1]+o[2*(0+a*x)+1]+o[2*(s+a*x)+1]);var S=o[2*(s+a*x)]-o[2*(0+0*x)],P=o[2*(s+a*x)+1]-o[2*(0+0*x)+1],O=o[2*(s+0*x)]-o[2*(0+a*x)],E=o[2*(s+0*x)+1]-o[2*(0+a*x)+1];f-=.5*((_=.5*(S+O))+(m=.5*(S-O))),p-=.5*((d=.5*(P+E))+(g=.5*(P-E)))}if(-2<b&&b<3&&-2<T&&T<3)if(b<=0)if(T<=0){var A=o[2*(0+0*x)],C=o[2*(0+0*x)+1],L=f-2*_,I=p-2*d,M=f-2*m,R=p-2*g,D=f-2*_-2*m,k=p-2*d-2*g,N=.5*(b- -2),F=.5*(T- -2);e[y+1]=N+F<=1?(e[y]=D+(M-D)*N+(L-D)*F,k+(R-k)*N+(I-k)*F):(e[y]=A+(L-A)*(1-N)+(M-A)*(1-F),C+(I-C)*(1-N)+(R-C)*(1-F))}else if(1<=T)M=o[2*(0+a*x)],R=o[2*(0+a*x)+1],D=f-2*_+1*m,k=p-2*d+1*g,A=f+3*m,C=p+3*g,L=f-2*_+3*m,I=p-2*d+3*g,N=.5*(b- -2),F=.5*(T-1),e[y+1]=N+F<=1?(e[y]=D+(M-D)*N+(L-D)*F,k+(R-k)*N+(I-k)*F):(e[y]=A+(L-A)*(1-N)+(M-A)*(1-F),C+(I-C)*(1-N)+(R-C)*(1-F));else{(j=0|w)==a&&(j=a-1),N=.5*(b- -2),F=w-j;var U=j/a,B=(j+1)/a;M=o[2*(0+j*x)],R=o[2*(0+j*x)+1],A=o[2*(0+(j+1)*x)],C=o[2*(0+(j+1)*x)+1],D=f-2*_+U*m,k=p-2*d+U*g,L=f-2*_+B*m,I=p-2*d+B*g,e[y+1]=N+F<=1?(e[y]=D+(M-D)*N+(L-D)*F,k+(R-k)*N+(I-k)*F):(e[y]=A+(L-A)*(1-N)+(M-A)*(1-F),C+(I-C)*(1-N)+(R-C)*(1-F))}else if(1<=b)if(T<=0)L=o[2*(s+0*x)],I=o[2*(s+0*x)+1],D=f+1*_-2*m,k=p+1*d-2*g,M=(A=f+3*_)-2*m,R=(C=p+3*d)-2*g,N=.5*(b-1),F=.5*(T- -2),e[y+1]=N+F<=1?(e[y]=D+(M-D)*N+(L-D)*F,k+(R-k)*N+(I-k)*F):(e[y]=A+(L-A)*(1-N)+(M-A)*(1-F),C+(I-C)*(1-N)+(R-C)*(1-F));else if(1<=T)D=o[2*(s+a*x)],k=o[2*(s+a*x)+1],M=f+3*_+1*m,R=p+3*d+1*g,L=f+1*_+3*m,I=p+1*d+3*g,A=f+3*_+3*m,C=p+3*d+3*g,N=.5*(b-1),F=.5*(T-1),e[y+1]=N+F<=1?(e[y]=D+(M-D)*N+(L-D)*F,k+(R-k)*N+(I-k)*F):(e[y]=A+(L-A)*(1-N)+(M-A)*(1-F),C+(I-C)*(1-N)+(R-C)*(1-F));else{var j;(j=0|w)==a&&(j=a-1),N=.5*(b-1),F=w-j,U=j/a,B=(j+1)/a,D=o[2*(s+j*x)],k=o[2*(s+j*x)+1],L=o[2*(s+(j+1)*x)],I=o[2*(s+(j+1)*x)+1],M=f+3*_+U*m,R=p+3*d+U*g,A=f+3*_+B*m,C=p+3*d+B*g,e[y+1]=N+F<=1?(e[y]=D+(M-D)*N+(L-D)*F,k+(R-k)*N+(I-k)*F):(e[y]=A+(L-A)*(1-N)+(M-A)*(1-F),C+(I-C)*(1-N)+(R-C)*(1-F))}else if(T<=0){(q=0|$)==s&&(q=s-1),N=$-q,F=.5*(T- -2);var G=q/s,z=(q+1)/s;L=o[2*(q+0*x)],I=o[2*(q+0*x)+1],A=o[2*(q+1+0*x)],C=o[2*(q+1+0*x)+1],D=f+G*_-2*m,k=p+G*d-2*g,M=f+z*_-2*m,R=p+z*d-2*g,e[y+1]=N+F<=1?(e[y]=D+(M-D)*N+(L-D)*F,k+(R-k)*N+(I-k)*F):(e[y]=A+(L-A)*(1-N)+(M-A)*(1-F),C+(I-C)*(1-N)+(R-C)*(1-F))}else if(1<=T){var q;(q=0|$)==s&&(q=s-1),N=$-q,F=.5*(T-1),G=q/s,z=(q+1)/s,D=o[2*(q+a*x)],k=o[2*(q+a*x)+1],M=o[2*(q+1+a*x)],R=o[2*(q+1+a*x)+1],L=f+G*_+3*m,I=p+G*d+3*g,A=f+z*_+3*m,C=p+z*d+3*g,e[y+1]=N+F<=1?(e[y]=D+(M-D)*N+(L-D)*F,k+(R-k)*N+(I-k)*F):(e[y]=A+(L-A)*(1-N)+(M-A)*(1-F),C+(I-C)*(1-N)+(R-C)*(1-F))}else Tt.err.printf("_$li calc : %.4f , %.4f\t\t\t\t\t@@BDBoxGrid\n",b,T);else e[y]=f+b*_+T*m,e[y+1]=p+b*d+T*g}else u=$-(0|$),h=w-(0|w),l=2*((0|$)+(0|w)*(s+1)),e[y+1]=u+h<1?(e[y]=o[l]*(1-u-h)+o[l+2]*u+o[l+2*(s+1)]*h,o[l+1]*(1-u-h)+o[l+3]*u+o[l+2*(s+1)+1]*h):(e[y]=o[l+2*(s+1)+2]*(u-1+h)+o[l+2*(s+1)]*(1-u)+o[l+2]*(1-h),o[l+2*(s+1)+3]*(u-1+h)+o[l+2*(s+1)+1]*(1-u)+o[l+3]*(1-h))}},Y.prototype.transformPoints_sdk1=function(t,e,i,n,r,o,s){for(var a,l,u,h,c,f,p,_=e,d=this._$o,m=this._$A,g=r*s,v=null!=_._$hr?_._$hr:_._$Cr,y=o;y<g;y+=s)c=rt._$ts?((a=i[y])<0?a=0:1<a&&(a=1),(l=i[y+1])<0?l=0:1<l&&(l=1),d-1<(u=0|(a*=d))&&(u=d-1),m-1<(h=0|(l*=m))&&(h=m-1),f=a-u,p=l-h,2*(u+h*(d+1))):(f=(a=i[y]*d)-(0|a),p=(l=i[y+1]*m)-(0|l),2*((0|a)+(0|l)*(d+1))),n[y+1]=f+p<1?(n[y]=v[c]*(1-f-p)+v[c+2]*f+v[c+2*(d+1)]*p,v[c+1]*(1-f-p)+v[c+3]*f+v[c+2*(d+1)+1]*p):(n[y]=v[c+2*(d+1)+2]*(f-1+p)+v[c+2*(d+1)]*(1-f)+v[c+2]*(1-p),v[c+2*(d+1)+3]*(f-1+p)+v[c+2*(d+1)+1]*(1-f)+v[c+3]*(1-p))},Y.prototype._$VT=function(){return(this._$o+1)*(this._$A+1)},Y.prototype.getType=function(){return S._$_b},H.prototype=new K,V._$42=0,V.prototype._$zP=function(){this._$3S=new Array,this._$aS=new Array},V.prototype._$F0=function(t){this._$g0=t._$8L(),this.visible=t._$8L(),this._$NL=t._$nP(),this._$3S=t._$nP(),this._$aS=t._$nP()},V.prototype.init=function(t){var e=new X(this);return e.setPartsOpacity(this.isVisible()?1:0),e},V.prototype._$6o=function(t){if(null==this._$3S)throw new Error("_$3S _$6 _$Wo@_$6o");this._$3S.push(t)},V.prototype._$3o=function(t){if(null==this._$aS)throw new Error("_$aS _$6 _$Wo@_$3o");this._$aS.push(t)},V.prototype._$Zo=function(t){this._$3S=t},V.prototype._$xo=function(t){this._$aS=t},V.prototype.isVisible=function(){return this.visible},V.prototype._$uL=function(){return this._$g0},V.prototype._$KP=function(t){this.visible=t},V.prototype._$ET=function(t){this._$g0=t},V.prototype.getBaseData=function(){return this._$3S},V.prototype.getDrawData=function(){return this._$aS},V.prototype._$p2=function(){return this._$NL},V.prototype._$ob=function(t){this._$NL=t},V.prototype.getPartsID=function(){return this._$NL},V.prototype._$MP=function(t){this._$NL=t},(X.prototype=new function(){}).getPartsOpacity=function(){return this._$VS},X.prototype.setPartsOpacity=function(t){this._$VS=t},W._$L7=function(){h._$27(),ft._$27(),C._$27(),u._$27()},W.prototype.toString=function(){return this.id},Q.prototype._$1s=function(){return this._$4S},Q.prototype._$zP=function(){this._$4S=new Array},Q.prototype._$F0=function(t){this._$4S=t._$nP()},Q.prototype._$Ks=function(t){this._$4S.push(t)},nt.tr=new ct,nt._$50=new ct,nt._$Ti=new Array(0,0),nt._$Pi=new Array(0,0),nt._$B=new Array(0,0),nt.prototype._$lP=function(t,e,i,n){this.viewport=new Array(t,e,i,n)},nt.prototype._$bL=function(){this.context.save();var t=this.viewport;null!=t&&(this.context.beginPath(),this.context._$Li(t[0],t[1],t[2],t[3]),this.context.clip())},nt.prototype._$ei=function(){this.context.restore()},nt.prototype.drawElements=function(t,e,i,n,r,o,s,a){try{r!=this._$Qo&&(this._$Qo=r,this.context.globalAlpha=r);for(var l=e.length,u=t.width,h=t.height,c=this.context,f=this._$xP,p=this._$uP,_=this._$6r,d=this._$3r,m=nt.tr,g=nt._$Ti,v=nt._$Pi,y=nt._$B,$=0;$<l;$+=3){c.save();var w=e[$],b=e[$+1],T=e[$+2],x=f+_*i[2*w],S=p+d*i[2*w+1],P=f+_*i[2*b],O=p+d*i[2*b+1],E=f+_*i[2*T],A=p+d*i[2*T+1];s&&(s._$PS(x,S,y),x=y[0],S=y[1],s._$PS(P,O,y),P=y[0],O=y[1],s._$PS(E,A,y),E=y[0],A=y[1]);var C=u*n[2*w],L=h-h*n[2*w+1],I=u*n[2*b],M=h-h*n[2*b+1],R=u*n[2*T],D=h-h*n[2*T+1],k=Math.atan2(M-L,I-C),N=Math.atan2(O-S,P-x),F=P-x,U=O-S,B=Math.sqrt(F*F+U*U),j=I-C,G=M-L,z=B/Math.sqrt(j*j+G*G);wt._$ni(R,D,C,L,I-C,M-L,-(M-L),I-C,g),wt._$ni(E,A,x,S,P-x,O-S,-(O-S),P-x,v);var q=(v[0]-g[0])/g[1],Y=Math.min(C,I,R),H=Math.max(C,I,R),V=Math.min(L,M,D),X=Math.max(L,M,D),W=Math.floor(Y),Q=Math.floor(V),J=Math.ceil(H),K=Math.ceil(X);if(m.identity(),m.translate(x,S),m.rotate(N),m.scale(1,v[1]/g[1]),m.shear(q,0),m.scale(z,z),m.rotate(-k),m.translate(-C,-L),m.setContext(c),o||(o=1.2),rt.IGNORE_EXPAND&&(o=0),rt.USE_CACHED_POLYGON_IMAGE){var Z=a._$e0;if(Z.gl_cacheImage=Z.gl_cacheImage||{},!Z.gl_cacheImage[$]){var tt=nt.createCanvas(J-W,K-Q);rt.DEBUG_DATA.LDGL_CANVAS_MB=rt.DEBUG_DATA.LDGL_CANVAS_MB||0,rt.DEBUG_DATA.LDGL_CANVAS_MB+=(J-W)*(K-Q)*4;var et=tt.getContext("2d");et.translate(-W,-Q),nt.clip(et,m,o,B,C,L,I,M,R,D,x,S,P,O,E,A),et.drawImage(t,0,0),Z.gl_cacheImage[$]={cacheCanvas:tt,cacheContext:et}}c.drawImage(Z.gl_cacheImage[$].cacheCanvas,W,Q)}else rt.IGNORE_CLIP||nt.clip(c,m,o,B,C,L,I,M,R,D,x,S,P,O,E,A),rt.USE_ADJUST_TRANSLATION&&(H=u,V=Y=0,X=h),c.drawImage(t,Y,V,H-Y,X-V,Y,V,H-Y,X-V);c.restore()}}catch(t){it._$Rb(t)}},nt.clip=function(t,e,i,n,r,o,s,a,l,u,h,c,f,p,_,d){.02<i?nt.expandClip(t,e,i,n,h,c,f,p,_,d):nt.clipWithTransform(t,null,r,o,s,a,l,u)},nt.expandClip=function(t,e,i,n,r,o,s,a,l,u){var h=s-r,c=a-o,f=l-r,p=u-o,_=0<h*p-c*f?i:-i,d=-c,m=h,g=l-s,v=u-a,y=-v,$=g,w=Math.sqrt(g*g+v*v),b=-p,T=f,x=Math.sqrt(f*f+p*p),S=r-_*d/n,P=o-_*m/n,O=s-_*d/n,E=a-_*m/n,A=s-_*y/w,C=a-_*$/w,L=l-_*y/w,I=u-_*$/w,M=r+_*b/x,R=o+_*T/x,D=l+_*b/x,k=u+_*T/x,N=nt._$50;return null!=e._$P2(N)&&(nt.clipWithTransform(t,N,S,P,O,E,A,C,L,I,D,k,M,R),!0)},nt.clipWithTransform=function(t,e,i,n,r,o,s,a){if(arguments.length<7)it._$li("err : @LDGL.clip()");else if(e instanceof ct){var l=nt._$B,u=e,h=arguments;if(t.beginPath(),u){u._$PS(h[2],h[3],l),t.moveTo(l[0],l[1]);for(var c=4;c<h.length;c+=2)u._$PS(h[c],h[c+1],l),t.lineTo(l[0],l[1])}else for(t.moveTo(h[2],h[3]),c=4;c<h.length;c+=2)t.lineTo(h[c],h[c+1]);t.clip()}else it._$li("err : a[0] is _$6 LDTransform @LDGL.clip()")},nt.createCanvas=function(t,e){var i=document.createElement("canvas");return i.setAttribute("width",t),i.setAttribute("height",e),i||it._$li("err : "+i),i},nt.dumpValues=function(){for(var t="",e=0;e<arguments.length;e++)t+="["+e+"]= "+arguments[e].toFixed(3)+" , ";console.log(t)},J.prototype._$F0=function(t){this._$TT=t._$_T(),this._$LT=t._$_T(),this._$FS=t._$_T(),this._$wL=t._$nP()},J.prototype.getMinValue=function(){return this._$TT},J.prototype.getMaxValue=function(){return this._$LT},J.prototype.getDefaultValue=function(){return this._$FS},J.prototype.getParamID=function(){return this._$wL},K.prototype._$yo=function(){return this._$AT&&!this._$JS},K.prototype._$hS=function(t){this._$AT=t},K.prototype._$GT=function(){return this._$e0},K.prototype._$l2=function(t){this._$IP=t},K.prototype.getPartsIndex=function(){return this._$IP},K.prototype._$x2=function(){return this._$JS},K.prototype._$Ib=function(t){this._$JS=t},K.prototype.getTotalScale=function(){return this.totalScale},K.prototype.setTotalScale_notForClient=function(t){this.totalScale=t},K.prototype.getInterpolatedOpacity=function(){return this._$7s},K.prototype.setInterpolatedOpacity=function(t){this._$7s=t},K.prototype.getTotalOpacity=function(t){return this.totalOpacity},K.prototype.setTotalOpacity=function(t){this.totalOpacity=t},rt._$2s="2.1.00_1",rt._$Kr=201001e3,rt._$sP=!0,rt._$so=!0,rt._$cb=!1,rt._$3T=!0,rt._$Ts=!0,rt._$fb=!0,rt._$ts=!0,rt.L2D_DEFORMER_EXTEND=!0,rt._$Wb=!1,rt._$yr=!1,rt._$Zs=!1,rt.L2D_NO_ERROR=0,rt._$i7=1e3,rt._$9s=1001,rt._$es=1100,rt._$r7=2e3,rt._$07=2001,rt._$b7=2002,rt._$H7=4e3,rt.L2D_COLOR_BLEND_MODE_MULT=0,rt.L2D_COLOR_BLEND_MODE_ADD=1,rt.L2D_COLOR_BLEND_MODE_INTERPOLATE=2,rt._$6b=!0,rt._$cT=0,rt.clippingMaskBufferSize=256,rt.glContext=new Array,rt.frameBuffers=new Array,rt.fTexture=new Array,rt.IGNORE_CLIP=!1,rt.IGNORE_EXPAND=!1,rt.EXPAND_W=2,rt.USE_ADJUST_TRANSLATION=!0,rt.USE_CANVAS_TRANSFORM=!0,rt.USE_CACHED_POLYGON_IMAGE=!1,rt.DEBUG_DATA={},rt.PROFILE_IOS_SPEED={PROFILE_NAME:"iOS Speed",USE_ADJUST_TRANSLATION:!0,USE_CACHED_POLYGON_IMAGE:!0,EXPAND_W:4},rt.PROFILE_IOS_DEFAULT=rt.PROFILE_IOS_QUALITY={PROFILE_NAME:"iOS HiQ",USE_ADJUST_TRANSLATION:!0,USE_CACHED_POLYGON_IMAGE:!1,EXPAND_W:2},rt.PROFILE_ANDROID={PROFILE_NAME:"Android",USE_ADJUST_TRANSLATION:!1,USE_CACHED_POLYGON_IMAGE:!1,EXPAND_W:2},rt.PROFILE_DESKTOP={PROFILE_NAME:"Desktop",USE_ADJUST_TRANSLATION:!1,USE_CACHED_POLYGON_IMAGE:!1,EXPAND_W:2},rt.initProfile=function(){yt.isIOS()?rt.setupProfile(rt.PROFILE_IOS_DEFAULT):yt.isAndroid()?rt.setupProfile(rt.PROFILE_ANDROID):rt.setupProfile(rt.PROFILE_DESKTOP)},rt.setupProfile=function(t,e){if("number"==typeof t)switch(t){case 9901:t=rt.PROFILE_IOS_SPEED;break;case 9902:t=rt.PROFILE_IOS_QUALITY;break;case 9903:t=rt.PROFILE_IOS_DEFAULT;break;case 9904:t=rt.PROFILE_ANDROID;break;case 9905:t=rt.PROFILE_DESKTOP;break;default:alert("profile _$6 _$Ui : "+t)}for(var i in arguments.length<2&&(e=!0),e&&console.log("profile : "+t.PROFILE_NAME),t)rt[i]=t[i],e&&console.log("  ["+i+"] = "+t[i])},rt.init=function(){rt._$6b&&(console.log("Live2D %s",rt._$2s),rt._$6b=!1,rt.initProfile())},rt.getVersionStr=function(){return rt._$2s},rt.getVersionNo=function(){return rt._$Kr},rt._$sT=function(t){rt._$cT=t},rt.getError=function(){var t=rt._$cT;return rt._$cT=0,t},rt.dispose=function(){rt.glContext=[],rt.frameBuffers=[],rt.fTexture=[]},rt.setGL=function(t,e){rt.glContext[e||0]=t},rt.getGL=function(t){return rt.glContext[t]},rt.setClippingMaskBufferSize=function(t){rt.clippingMaskBufferSize=t},rt.getClippingMaskBufferSize=function(){return rt.clippingMaskBufferSize},rt.deleteBuffer=function(t){rt.getGL(t).deleteFramebuffer(rt.frameBuffers[t].framebuffer),delete rt.frameBuffers[t],delete rt.glContext[t]},Z._$r2=function(t){return t<0?0:1<t?1:.5-.5*Math.cos(t*gt.PI_F)},tt._$fr=-1,tt.prototype.toString=function(){return this._$ib},et.prototype=new B,et._$42=0,et._$Os=30,et._$ms=0,et._$ns=1,et._$_s=2,et._$gT=new Array,et.prototype._$_S=function(t){this._$LP=t},et.prototype.getTextureNo=function(){return this._$LP},et.prototype._$ZL=function(){return this._$Qi},et.prototype._$H2=function(){return this._$JP},et.prototype.getNumPoints=function(){return this._$d0},et.prototype.getType=function(){return B._$wb},et.prototype._$B2=function(t,e,i){var n=e,r=null!=n._$hr?n._$hr:n._$Cr;switch(R._$do){default:case R._$Ms:throw new Error("_$L _$ro ");case R._$Qs:for(var o=this._$d0-1;0<=o;--o)r[o*R._$No+4]=i}},et.prototype._$zP=function(){this._$GS=new E,this._$GS._$zP()},et.prototype._$F0=function(t){B.prototype._$F0.call(this,t),this._$LP=t._$6L(),this._$d0=t._$6L(),this._$Yo=t._$6L();var e=t._$nP();this._$BP=new Int16Array(3*this._$Yo);for(var i=3*this._$Yo-1;0<=i;--i)this._$BP[i]=e[i];if(this._$Eo=t._$nP(),this._$Qi=t._$nP(),t.getFormatVersion()>=D._$s7){if(this._$JP=t._$6L(),0!=this._$JP){if(0!=(1&this._$JP)){var n=t._$6L();null==this._$5P&&(this._$5P=new Object),this._$5P._$Hb=parseInt(n)}0!=(this._$JP&et._$Os)?this._$6s=(this._$JP&et._$Os)>>1:this._$6s=et._$ms,0!=(32&this._$JP)&&(this.culling=!1)}}else this._$JP=0},et.prototype.init=function(t){var e=new ot(this),i=this._$d0*R._$No,n=this._$32();switch(null!=e._$Cr&&(e._$Cr=null),e._$Cr=new Float32Array(i),null!=e._$hr&&(e._$hr=null),e._$hr=n?new Float32Array(i):null,R._$do){default:case R._$Ms:if(R._$Ls)for(var r=this._$d0-1;0<=r;--r){var o=r<<1;this._$Qi[o+1]=1-this._$Qi[o+1]}break;case R._$Qs:for(r=this._$d0-1;0<=r;--r){o=r<<1;var s=r*R._$No,a=this._$Qi[o],l=this._$Qi[o+1];e._$Cr[s]=a,e._$Cr[s+1]=l,e._$Cr[s+4]=0,n&&(e._$hr[s]=a,e._$hr[s+1]=l,e._$hr[s+4]=0)}}return e},et.prototype._$Nr=function(t,e){var i=e;if(this!=i._$GT()&&console.log("### assert!! ### "),this._$GS._$Ur(t)&&(B.prototype._$Nr.call(this,t,i),!i._$IS[0])){var n=et._$gT;n[0]=!1,y._$Vr(t,this._$GS,n,this._$d0,this._$Eo,i._$Cr,R._$i2,R._$No)}},et.prototype._$2b=function(t,e){try{this!=e._$GT()&&console.log("### assert!! ### ");var i=!1;e._$IS[0]&&(i=!0);var n=e;if(!i&&(B.prototype._$2b.call(this,t),this._$32())){var r=this.getTargetBaseDataID();if(n._$8r==B._$ur&&(n._$8r=t.getBaseDataIndex(r)),n._$8r<0)rt._$so&&it._$li("_$L _$0P _$G :: %s",r);else{var o=t.getBaseData(n._$8r),s=t._$q2(n._$8r);null==o||s._$x2()?n._$AT=!1:(o._$nb(t,s,n._$Cr,n._$hr,this._$d0,R._$i2,R._$No),n._$AT=!0),n.baseOpacity=s.getTotalOpacity()}}}catch(t){throw t}},et.prototype.draw=function(t,e,i){if(this!=i._$GT()&&console.log("### assert!! ### "),!i._$IS[0]){var n=i,r=this._$LP;r<0&&(r=1);var o=this.getOpacity(e,n)*i._$VS*i.baseOpacity,s=null!=n._$hr?n._$hr:n._$Cr;t.setClipBufPre_clipContextForDraw(i.clipBufPre_clipContext),t._$WP(this.culling),t._$Uo(r,3*this._$Yo,this._$BP,s,this._$Qi,o,this._$6s,n)}},et.prototype.dump=function(){console.log("  _$yi( %d ) , _$d0( %d ) , _$Yo( %d ) \n",this._$LP,this._$d0,this._$Yo),console.log("  _$Oi _$di = { ");for(var t=0;t<this._$BP.length;t++)console.log("%5d ,",this._$BP[t]);for(console.log("\n  _$5i _$30"),t=0;t<this._$Eo.length;t++){console.log("\n    _$30[%d] = ",t);for(var e=this._$Eo[t],i=0;i<e.length;i++)console.log("%6.2f, ",e[i])}console.log("\n")},et.prototype._$72=function(t){return null==this._$5P?null:this._$5P[t]},et.prototype.getIndexArray=function(){return this._$BP},(ot.prototype=new vt).getTransformedPoints=function(){return null!=this._$hr?this._$hr:this._$Cr},at.prototype._$HT=function(t){this.x=t.x,this.y=t.y},at.prototype._$HT=function(t,e){this.x=t,this.y=e},lt.prototype=new c,lt.loadModel=function(t){var e=new lt;return c._$62(e,t),e},lt.loadModel=function(t,e){var i=new lt(e||0);return c._$62(i,t),i},lt._$to=function(){return new lt},lt._$er=function(t){var e=new _$5("../_$_r/_$t0/_$Ri/_$_P._$d");if(0==e.exists())throw new _$ls("_$t0 _$_ _$6 _$Ui :: "+e._$PL());for(var i=["../_$_r/_$t0/_$Ri/_$_P.512/_$CP._$1","../_$_r/_$t0/_$Ri/_$_P.512/_$vP._$1","../_$_r/_$t0/_$Ri/_$_P.512/_$EP._$1","../_$_r/_$t0/_$Ri/_$_P.512/_$pP._$1"],n=lt.loadModel(e._$3b()),r=0;r<i.length;r++){var o=new _$5(i[r]);if(0==o.exists())throw new _$ls("_$t0 _$_ _$6 _$Ui :: "+o._$PL());n.setTexture(r,_$nL._$_o(t,o._$3b()))}return n},lt.prototype.setGL=function(t){rt.setGL(t)},lt.prototype.setTransform=function(t){this.drawParamWebGL.setTransform(t)},lt.prototype.update=function(){this._$5S.update(),this._$5S.preDraw(this.drawParamWebGL)},lt.prototype.draw=function(){this._$5S.draw(this.drawParamWebGL)},lt.prototype._$K2=function(){this.drawParamWebGL._$K2()},lt.prototype.setTexture=function(t,e){null==this.drawParamWebGL&&it._$li("_$Yi for QT _$ki / _$XS() is _$6 _$ui!!"),this.drawParamWebGL.setTexture(t,e)},lt.prototype.setTexture=function(t,e){null==this.drawParamWebGL&&it._$li("_$Yi for QT _$ki / _$XS() is _$6 _$ui!!"),this.drawParamWebGL.setTexture(t,e)},lt.prototype._$Rs=function(){return this.drawParamWebGL._$Rs()},lt.prototype._$Ds=function(t){this.drawParamWebGL._$Ds(t)},lt.prototype.getDrawParam=function(){return this.drawParamWebGL},lt.prototype.setMatrix=function(t){this.drawParamWebGL.setMatrix(t)},lt.prototype.setPremultipliedAlpha=function(t){this.drawParamWebGL.setPremultipliedAlpha(t)},lt.prototype.isPremultipliedAlpha=function(){return this.drawParamWebGL.isPremultipliedAlpha()},lt.prototype.setAnisotropy=function(t){this.drawParamWebGL.setAnisotropy(t)},lt.prototype.getAnisotropy=function(){return this.drawParamWebGL.getAnisotropy()},ut.prototype._$tb=function(){return this.motions},ut.prototype.startMotion=function(t,e){for(var i=null,n=this.motions.length,r=0;r<n;++r)null!=(i=this.motions[r])&&(i._$qS(i._$w0.getFadeOut()),this._$eb&&it._$Ji("MotionQueueManager[size:%2d]->startMotion() / start _$K _$3 (m%d)\n",n,i._$sr));if(null==t)return-1;(i=new ht)._$w0=t,this.motions.push(i);var o=i._$sr;return this._$eb&&it._$Ji("MotionQueueManager[size:%2d]->startMotion() / new _$w0 (m%d)\n",n,o),o},ut.prototype.updateParam=function(t){try{for(var e=!1,i=0;i<this.motions.length;i++){var n=this.motions[i];if(null!=n){var r=n._$w0;null!=r?(r.updateParam(t,n),e=!0,n.isFinished()&&(this._$eb&&it._$Ji("MotionQueueManager[size:%2d]->updateParam() / _$T0 _$w0 (m%d)\n",this.motions.length-1,n._$sr),this.motions.splice(i,1),i--)):(this.motions=this.motions.splice(i,1),i--)}else this.motions.splice(i,1),i--}return e}catch(t){return it._$li(t),!0}},ut.prototype.isFinished=function(t){if(1<=arguments.length){for(var e=0;e<this.motions.length;e++)if(null!=(i=this.motions[e])&&i._$sr==t&&!i.isFinished())return!1;return!0}for(e=0;e<this.motions.length;e++){var i;if(null!=(i=this.motions[e]))if(null!=i._$w0){if(!i.isFinished())return!1}else this.motions.splice(e,1),e--;else this.motions.splice(e,1),e--}return!0},ut.prototype.stopAllMotions=function(){for(var t=0;t<this.motions.length;t++){var e=this.motions[t];null!=e&&e._$w0,this.motions.splice(t,1),t--}},ut.prototype._$Zr=function(t){this._$eb=t},ut.prototype._$e=function(){console.log("-- _$R --\n");for(var t=0;t<this.motions.length;t++){var e=this.motions[t]._$w0;console.log("MotionQueueEnt[%d] :: %s\n",this.motions.length,e.toString())}},ht._$Gs=0,ht.prototype.isFinished=function(){return this._$9L},ht.prototype._$qS=function(t){var e=Dt.getUserTimeMSec()+t;(this._$Do<0||e<this._$Do)&&(this._$Do=e)},ht.prototype._$Bs=function(){return this._$sr},ct.prototype.setContext=function(t){var e=this.m;t.transform(e[0],e[1],e[3],e[4],e[6],e[7])},ct.prototype.toString=function(){for(var t="LDTransform { ",e=0;e<9;e++)t+=this.m[e].toFixed(2)+" ,";return t+" }"},ct.prototype.identity=function(){var t=this.m;t[0]=t[4]=t[8]=1,t[1]=t[2]=t[3]=t[5]=t[6]=t[7]=0},ct.prototype._$PS=function(t,e,i){null==i&&(i=new Array(0,0));var n=this.m;return i[0]=n[0]*t+n[3]*e+n[6],i[1]=n[1]*t+n[4]*e+n[7],i},ct.prototype._$P2=function(t){t||(t=new ct);var e=this.m,i=e[0],n=e[1],r=e[2],o=e[3],s=e[4],a=e[5],l=e[6],u=e[7],h=e[8],c=i*s*h+n*a*l+r*o*u-i*a*u-r*s*l-n*o*h;if(0==c)return null;var f=1/c;return t.m[0]=f*(s*h-u*a),t.m[1]=f*(u*r-n*h),t.m[2]=f*(n*a-s*r),t.m[3]=f*(l*a-o*h),t.m[4]=f*(i*h-l*r),t.m[5]=f*(o*r-i*a),t.m[6]=f*(o*u-l*s),t.m[7]=f*(l*n-i*u),t.m[8]=f*(i*s-o*n),t},ct.prototype.transform=function(t,e,i){null==i&&(i=new Array(0,0));var n=this.m;return i[0]=n[0]*t+n[3]*e+n[6],i[1]=n[1]*t+n[4]*e+n[7],i},ct.prototype.translate=function(t,e){var i=this.m;i[6]=i[0]*t+i[3]*e+i[6],i[7]=i[1]*t+i[4]*e+i[7],i[8]=i[2]*t+i[5]*e+i[8]},ct.prototype.scale=function(t,e){var i=this.m;i[0]*=t,i[1]*=t,i[2]*=t,i[3]*=e,i[4]*=e,i[5]*=e},ct.prototype.shear=function(t,e){var i=this.m,n=i[0]+i[3]*e,r=i[1]+i[4]*e,o=i[2]+i[5]*e;i[3]=i[0]*t+i[3],i[4]=i[1]*t+i[4],i[5]=i[2]*t+i[5],i[0]=n,i[1]=r,i[2]=o},ct.prototype.rotate=function(t){var e=this.m,i=Math.cos(t),n=Math.sin(t),r=e[0]*i+e[3]*n,o=e[1]*i+e[4]*n,s=e[2]*i+e[5]*n;e[3]=-e[0]*n+e[3]*i,e[4]=-e[1]*n+e[4]*i,e[5]=-e[2]*n+e[5]*i,e[0]=r,e[1]=o,e[2]=s},ct.prototype.concatenate=function(t){var e=this.m,i=t.m,n=e[0]*i[0]+e[3]*i[1]+e[6]*i[2],r=e[1]*i[0]+e[4]*i[1]+e[7]*i[2],o=e[2]*i[0]+e[5]*i[1]+e[8]*i[2],s=e[0]*i[3]+e[3]*i[4]+e[6]*i[5],a=e[1]*i[3]+e[4]*i[4]+e[7]*i[5],l=e[2]*i[3]+e[5]*i[4]+e[8]*i[5],u=e[0]*i[6]+e[3]*i[7]+e[6]*i[8],h=e[1]*i[6]+e[4]*i[7]+e[7]*i[8],c=e[2]*i[6]+e[5]*i[7]+e[8]*i[8];m[0]=n,m[1]=r,m[2]=o,m[3]=s,m[4]=a,m[5]=l,m[6]=u,m[7]=h,m[8]=c},ft.prototype=new W,ft._$eT=null,ft._$tP=new Object,ft._$2o=function(){return null==ft._$eT&&(ft._$eT=ft.getID("DST_BASE")),ft._$eT},ft._$27=function(){ft._$tP.clear(),ft._$eT=null},ft.getID=function(t){var e=ft._$tP[t];return null==e&&(e=new ft(t),ft._$tP[t]=e),e},ft.prototype._$3s=function(){return new ft},pt.prototype=new b,pt._$9r=function(t){return new Float32Array(t)},pt._$vb=function(t){return new Int16Array(t)},pt._$cr=function(t,e){return null==t||t._$yL()<e.length?t=pt._$9r(2*e.length):t.clear(),t.put(e),t._$oT(0),t},pt._$mb=function(t,e){return null==t||t._$yL()<e.length?t=pt._$vb(2*e.length):t.clear(),t.put(e),t._$oT(0),t},pt._$Hs=function(){return this._$Gr},pt._$as=function(t){this._$Gr=t},pt.prototype.getGL=function(){return this.gl},pt.prototype.setGL=function(t){this.gl=t},pt.prototype.setTransform=function(t){this.transform=t},pt.prototype._$ZT=function(){var t=this.gl;this.firstDraw&&(this.initShader(),this.firstDraw=!1,this.anisotropyExt=t.getExtension("EXT_texture_filter_anisotropic")||t.getExtension("WEBKIT_EXT_texture_filter_anisotropic")||t.getExtension("MOZ_EXT_texture_filter_anisotropic"),this.anisotropyExt&&(this.maxAnisotropy=t.getParameter(this.anisotropyExt.MAX_TEXTURE_MAX_ANISOTROPY_EXT))),t.disable(t.SCISSOR_TEST),t.disable(t.STENCIL_TEST),t.disable(t.DEPTH_TEST),t.frontFace(t.CW),t.enable(t.BLEND),t.colorMask(1,1,1,1),t.bindBuffer(t.ARRAY_BUFFER,null),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,null)},pt.prototype._$Uo=function(t,e,i,n,r,o,s,a){if(!(o<.01&&null==this.clipBufPre_clipContextMask)){var l=this.gl;if(null==this.gl)throw new Error("gl is null");var u,h,c,f,p=1*this._$C0*o,_=1*this._$tT*o,d=1*this._$WL*o,m=this._$lT*o;if(null!=this.clipBufPre_clipContextMask){l.frontFace(l.CCW),l.useProgram(this.shaderProgram),this._$vS=_t(l,this._$vS,n),this._$no=dt(l,this._$no,i),l.enableVertexAttribArray(this.a_position_Loc),l.vertexAttribPointer(this.a_position_Loc,2,l.FLOAT,!1,0,0),this._$NT=_t(l,this._$NT,r),l.activeTexture(l.TEXTURE1),l.bindTexture(l.TEXTURE_2D,this.textures[t]),l.uniform1i(this.s_texture0_Loc,1),l.enableVertexAttribArray(this.a_texCoord_Loc),l.vertexAttribPointer(this.a_texCoord_Loc,2,l.FLOAT,!1,0,0),l.uniformMatrix4fv(this.u_matrix_Loc,!1,this.getClipBufPre_clipContextMask().matrixForMask);var g=this.getClipBufPre_clipContextMask().layoutChannelNo,v=this.getChannelFlagAsColor(g);l.uniform4f(this.u_channelFlag,v.r,v.g,v.b,v.a);var y=this.getClipBufPre_clipContextMask().layoutBounds;l.uniform4f(this.u_baseColor_Loc,2*y.x-1,2*y.y-1,2*y._$EL()-1,2*y._$5T()-1),l.uniform1i(this.u_maskFlag_Loc,!0)}else null!=this.getClipBufPre_clipContextDraw()?(l.useProgram(this.shaderProgramOff),this._$vS=_t(l,this._$vS,n),this._$no=dt(l,this._$no,i),l.enableVertexAttribArray(this.a_position_Loc_Off),l.vertexAttribPointer(this.a_position_Loc_Off,2,l.FLOAT,!1,0,0),this._$NT=_t(l,this._$NT,r),l.activeTexture(l.TEXTURE1),l.bindTexture(l.TEXTURE_2D,this.textures[t]),l.uniform1i(this.s_texture0_Loc_Off,1),l.enableVertexAttribArray(this.a_texCoord_Loc_Off),l.vertexAttribPointer(this.a_texCoord_Loc_Off,2,l.FLOAT,!1,0,0),l.uniformMatrix4fv(this.u_clipMatrix_Loc_Off,!1,this.getClipBufPre_clipContextDraw().matrixForDraw),l.uniformMatrix4fv(this.u_matrix_Loc_Off,!1,this.matrix4x4),l.activeTexture(l.TEXTURE2),l.bindTexture(l.TEXTURE_2D,rt.fTexture[this.glno]),l.uniform1i(this.s_texture1_Loc_Off,2),g=this.getClipBufPre_clipContextDraw().layoutChannelNo,v=this.getChannelFlagAsColor(g),l.uniform4f(this.u_channelFlag_Loc_Off,v.r,v.g,v.b,v.a),l.uniform4f(this.u_baseColor_Loc_Off,p,_,d,m)):(l.useProgram(this.shaderProgram),this._$vS=_t(l,this._$vS,n),this._$no=dt(l,this._$no,i),l.enableVertexAttribArray(this.a_position_Loc),l.vertexAttribPointer(this.a_position_Loc,2,l.FLOAT,!1,0,0),this._$NT=_t(l,this._$NT,r),l.activeTexture(l.TEXTURE1),l.bindTexture(l.TEXTURE_2D,this.textures[t]),l.uniform1i(this.s_texture0_Loc,1),l.enableVertexAttribArray(this.a_texCoord_Loc),l.vertexAttribPointer(this.a_texCoord_Loc,2,l.FLOAT,!1,0,0),l.uniformMatrix4fv(this.u_matrix_Loc,!1,this.matrix4x4),l.uniform4f(this.u_baseColor_Loc,p,_,d,m),l.uniform1i(this.u_maskFlag_Loc,!1));if(this.culling?this.gl.enable(l.CULL_FACE):this.gl.disable(l.CULL_FACE),this.gl.enable(l.BLEND),null!=this.clipBufPre_clipContextMask)u=l.ONE,h=l.ONE_MINUS_SRC_ALPHA,c=l.ONE,f=l.ONE_MINUS_SRC_ALPHA;else switch(s){case et._$ms:u=l.ONE,h=l.ONE_MINUS_SRC_ALPHA,c=l.ONE,f=l.ONE_MINUS_SRC_ALPHA;break;case et._$ns:u=l.ONE,h=l.ONE,c=l.ZERO,f=l.ONE;break;case et._$_s:u=l.DST_COLOR,h=l.ONE_MINUS_SRC_ALPHA,c=l.ZERO,f=l.ONE}l.blendEquationSeparate(l.FUNC_ADD,l.FUNC_ADD),l.blendFuncSeparate(u,h,c,f),this.anisotropyExt&&l.texParameteri(l.TEXTURE_2D,this.anisotropyExt.TEXTURE_MAX_ANISOTROPY_EXT,this.maxAnisotropy);var $=i.length;l.drawElements(l.TRIANGLES,$,l.UNSIGNED_SHORT,0),l.bindTexture(l.TEXTURE_2D,null)}},pt.prototype._$Rs=function(){throw new Error("_$Rs")},pt.prototype._$Ds=function(t){throw new Error("_$Ds")},pt.prototype._$K2=function(){for(var t=0;t<this.textures.length;t++)0!=this.textures[t]&&(this.gl._$K2(1,this.textures,t),this.textures[t]=null)},pt.prototype.setTexture=function(t,e){this.textures[t]=e},pt.prototype.initShader=function(){var t=this.gl;this.loadShaders2(),this.a_position_Loc=t.getAttribLocation(this.shaderProgram,"a_position"),this.a_texCoord_Loc=t.getAttribLocation(this.shaderProgram,"a_texCoord"),this.u_matrix_Loc=t.getUniformLocation(this.shaderProgram,"u_mvpMatrix"),this.s_texture0_Loc=t.getUniformLocation(this.shaderProgram,"s_texture0"),this.u_channelFlag=t.getUniformLocation(this.shaderProgram,"u_channelFlag"),this.u_baseColor_Loc=t.getUniformLocation(this.shaderProgram,"u_baseColor"),this.u_maskFlag_Loc=t.getUniformLocation(this.shaderProgram,"u_maskFlag"),this.a_position_Loc_Off=t.getAttribLocation(this.shaderProgramOff,"a_position"),this.a_texCoord_Loc_Off=t.getAttribLocation(this.shaderProgramOff,"a_texCoord"),this.u_matrix_Loc_Off=t.getUniformLocation(this.shaderProgramOff,"u_mvpMatrix"),this.u_clipMatrix_Loc_Off=t.getUniformLocation(this.shaderProgramOff,"u_ClipMatrix"),this.s_texture0_Loc_Off=t.getUniformLocation(this.shaderProgramOff,"s_texture0"),this.s_texture1_Loc_Off=t.getUniformLocation(this.shaderProgramOff,"s_texture1"),this.u_channelFlag_Loc_Off=t.getUniformLocation(this.shaderProgramOff,"u_channelFlag"),this.u_baseColor_Loc_Off=t.getUniformLocation(this.shaderProgramOff,"u_baseColor")},pt.prototype.disposeShader=function(){var t=this.gl;this.shaderProgram&&(t.deleteProgram(this.shaderProgram),this.shaderProgram=null),this.shaderProgramOff&&(t.deleteProgram(this.shaderProgramOff),this.shaderProgramOff=null)},pt.prototype.compileShader=function(t,e){var i=this.gl,n=e,r=i.createShader(t);if(null==r)return it._$Ji("_$L0 to create shader"),null;if(i.shaderSource(r,n),i.compileShader(r),i.getShaderParameter(r,i.COMPILE_STATUS))return r;var o=i.getShaderInfoLog(r);return it._$Ji("_$L0 to compile shader : "+o),i.deleteShader(r),null},pt.prototype.loadShaders2=function(){var t=this.gl;if(this.shaderProgram=t.createProgram(),!this.shaderProgram)return!1;if(this.shaderProgramOff=t.createProgram(),!this.shaderProgramOff)return!1;if(this.vertShader=this.compileShader(t.VERTEX_SHADER,"attribute vec4     a_position;attribute vec2     a_texCoord;varying vec2       v_texCoord;varying vec4       v_ClipPos;uniform mat4       u_mvpMatrix;void main(){    gl_Position = u_mvpMatrix * a_position;    v_ClipPos = u_mvpMatrix * a_position;    v_texCoord = a_texCoord;}"),!this.vertShader)return it._$Ji("Vertex shader compile _$li!"),!1;if(this.vertShaderOff=this.compileShader(t.VERTEX_SHADER,"attribute vec4     a_position;attribute vec2     a_texCoord;varying vec2       v_texCoord;varying vec4       v_ClipPos;uniform mat4       u_mvpMatrix;uniform mat4       u_ClipMatrix;void main(){    gl_Position = u_mvpMatrix * a_position;    v_ClipPos = u_ClipMatrix * a_position;    v_texCoord = a_texCoord ;}"),!this.vertShaderOff)return it._$Ji("OffVertex shader compile _$li!"),!1;if(this.fragShader=this.compileShader(t.FRAGMENT_SHADER,"precision mediump float;varying vec2       v_texCoord;varying vec4       v_ClipPos;uniform sampler2D  s_texture0;uniform vec4       u_channelFlag;uniform vec4       u_baseColor;uniform bool       u_maskFlag;void main(){    vec4 smpColor;     if(u_maskFlag){        float isInside =             step(u_baseColor.x, v_ClipPos.x/v_ClipPos.w)          * step(u_baseColor.y, v_ClipPos.y/v_ClipPos.w)          * step(v_ClipPos.x/v_ClipPos.w, u_baseColor.z)          * step(v_ClipPos.y/v_ClipPos.w, u_baseColor.w);        smpColor = u_channelFlag * texture2D(s_texture0 , v_texCoord).a * isInside;    }else{        smpColor = texture2D(s_texture0 , v_texCoord) * u_baseColor;    }    gl_FragColor = smpColor;}"),!this.fragShader)return it._$Ji("Fragment shader compile _$li!"),!1;if(this.fragShaderOff=this.compileShader(t.FRAGMENT_SHADER,"precision mediump float ;varying vec2       v_texCoord;varying vec4       v_ClipPos;uniform sampler2D  s_texture0;uniform sampler2D  s_texture1;uniform vec4       u_channelFlag;uniform vec4       u_baseColor ;void main(){    vec4 col_formask = texture2D(s_texture0, v_texCoord) * u_baseColor;    vec4 clipMask = texture2D(s_texture1, v_ClipPos.xy / v_ClipPos.w) * u_channelFlag;    float maskVal = clipMask.r + clipMask.g + clipMask.b + clipMask.a;    col_formask = col_formask * maskVal;    gl_FragColor = col_formask;}"),!this.fragShaderOff)return it._$Ji("OffFragment shader compile _$li!"),!1;if(t.attachShader(this.shaderProgram,this.vertShader),t.attachShader(this.shaderProgram,this.fragShader),t.attachShader(this.shaderProgramOff,this.vertShaderOff),t.attachShader(this.shaderProgramOff,this.fragShaderOff),t.linkProgram(this.shaderProgram),t.linkProgram(this.shaderProgramOff),t.getProgramParameter(this.shaderProgram,t.LINK_STATUS))return!0;var e=t.getProgramInfoLog(this.shaderProgram);return it._$Ji("_$L0 to link program: "+e),this.vertShader&&(t.deleteShader(this.vertShader),this.vertShader=0),this.fragShader&&(t.deleteShader(this.fragShader),this.fragShader=0),this.shaderProgram&&(t.deleteProgram(this.shaderProgram),this.shaderProgram=0),this.vertShaderOff&&(t.deleteShader(this.vertShaderOff),this.vertShaderOff=0),this.fragShaderOff&&(t.deleteShader(this.fragShaderOff),this.fragShaderOff=0),this.shaderProgramOff&&(t.deleteProgram(this.shaderProgramOff),this.shaderProgramOff=0),!1},pt.prototype.createFramebuffer=function(){var t=this.gl,e=rt.clippingMaskBufferSize,i=t.createFramebuffer();t.bindFramebuffer(t.FRAMEBUFFER,i);var n=t.createRenderbuffer();t.bindRenderbuffer(t.RENDERBUFFER,n),t.renderbufferStorage(t.RENDERBUFFER,t.RGBA4,e,e),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.RENDERBUFFER,n);var r=t.createTexture();return t.bindTexture(t.TEXTURE_2D,r),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,e,e,0,t.RGBA,t.UNSIGNED_BYTE,null),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,r,0),t.bindTexture(t.TEXTURE_2D,null),t.bindRenderbuffer(t.RENDERBUFFER,null),t.bindFramebuffer(t.FRAMEBUFFER,null),rt.fTexture[this.glno]=r,{framebuffer:i,renderbuffer:n,texture:rt.fTexture[this.glno]}},mt.prototype._$fP=function(){var t,e,i,n=this._$ST();if(0==(128&n))return 255&n;if(0==(128&(t=this._$ST())))return(127&n)<<7|127&t;if(0==(128&(e=this._$ST())))return(127&n)<<14|(127&t)<<7|255&e;if(0==(128&(i=this._$ST())))return(127&n)<<21|(127&t)<<14|(127&e)<<7|255&i;throw new tt("_$L _$0P  _")},mt.prototype.getFormatVersion=function(){return this._$S2},mt.prototype._$gr=function(t){this._$S2=t},mt.prototype._$3L=function(){return this._$fP()},mt.prototype._$mP=function(){return this._$zT(),this._$F+=8,this._$T.getFloat64(this._$F-8)},mt.prototype._$_T=function(){return this._$zT(),this._$F+=4,this._$T.getFloat32(this._$F-4)},mt.prototype._$6L=function(){return this._$zT(),this._$F+=4,this._$T.getInt32(this._$F-4)},mt.prototype._$ST=function(){return this._$zT(),this._$T.getInt8(this._$F++)},mt.prototype._$9T=function(){return this._$zT(),this._$F+=2,this._$T.getInt16(this._$F-2)},mt.prototype._$2T=function(){throw this._$zT(),this._$F+=8,new tt("_$L _$q read long")},mt.prototype._$po=function(){return this._$zT(),0!=this._$T.getInt8(this._$F++)};var bt=!0;mt.prototype._$bT=function(){this._$zT();var t=this._$3L(),e=null;if(bt)try{var i=new ArrayBuffer(2*t);e=new Uint16Array(i);for(var n=0;n<t;++n)e[n]=this._$T.getUint8(this._$F++);return String.fromCharCode.apply(null,e)}catch(t){bt=!1}try{var r=new Array;if(null==e)for(n=0;n<t;++n)r[n]=this._$T.getUint8(this._$F++);else for(n=0;n<t;++n)r[n]=e[n];return String.fromCharCode.apply(null,r)}catch(t){console.log("read utf8 / _$rT _$L0 !! : "+t)}},mt.prototype._$cS=function(){this._$zT();for(var t=this._$3L(),e=new Int32Array(t),i=0;i<t;i++)e[i]=this._$T.getInt32(this._$F),this._$F+=4;return e},mt.prototype._$Tb=function(){this._$zT();for(var t=this._$3L(),e=new Float32Array(t),i=0;i<t;i++)e[i]=this._$T.getFloat32(this._$F),this._$F+=4;return e},mt.prototype._$5b=function(){this._$zT();for(var t=this._$3L(),e=new Float64Array(t),i=0;i<t;i++)e[i]=this._$T.getFloat64(this._$F),this._$F+=8;return e},mt.prototype._$nP=function(){return this._$Jb(-1)},mt.prototype._$Jb=function(t){if(this._$zT(),t<0&&(t=this._$3L()),t==D._$7P){var e=this._$6L();if(0<=e&&e<this._$Ko.length)return this._$Ko[e];throw new tt("_$sL _$4i @_$m0")}var i=this._$4b(t);return this._$Ko.push(i),i},mt.prototype._$4b=function(t){if(0==t)return null;if(50==t){var e=this._$bT();return C.getID(e)}if(51==t)return e=this._$bT(),ft.getID(e);if(134==t)return e=this._$bT(),u.getID(e);if(60==t)return e=this._$bT(),h.getID(e);if(48<=t){var i=D._$9o(t);return null!=i?(i._$F0(this),i):null}switch(t){case 1:return this._$bT();case 10:return new s(this._$6L(),!0);case 11:return new v(this._$mP(),this._$mP(),this._$mP(),this._$mP());case 12:return new v(this._$_T(),this._$_T(),this._$_T(),this._$_T());case 13:return new $(this._$mP(),this._$mP());case 14:return new $(this._$_T(),this._$_T());case 15:for(var n=this._$3L(),r=new Array(n),o=0;o<n;o++)r[o]=this._$nP();return r;case 17:return new L(this._$mP(),this._$mP(),this._$mP(),this._$mP(),this._$mP(),this._$mP());case 21:return new a(this._$6L(),this._$6L(),this._$6L(),this._$6L());case 22:return new at(this._$6L(),this._$6L());case 23:throw new Error("_$L _$ro ");case 16:case 25:return this._$cS();case 26:return this._$5b();case 27:return this._$Tb();case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 18:case 19:case 20:case 24:case 28:throw new tt("_$6 _$q : _$nP() of 2-9 ,18,19,20,24,28 : "+t);default:throw new tt("_$6 _$q : _$nP() NO _$i : "+t)}},mt.prototype._$8L=function(){return 0==this._$hL?this._$v0=this._$ST():8==this._$hL&&(this._$v0=this._$ST(),this._$hL=0),1==(this._$v0>>7-this._$hL++&1)},mt.prototype._$zT=function(){0!=this._$hL&&(this._$hL=0)},gt._$2S=Math.PI/180,gt._$bS=Math.PI/180,gt._$wS=180/Math.PI,gt._$NS=180/Math.PI,gt.PI_F=Math.PI,gt._$kT=[0,.012368,.024734,.037097,.049454,.061803,.074143,.086471,.098786,.111087,.12337,.135634,.147877,.160098,.172295,.184465,.196606,.208718,.220798,.232844,.244854,.256827,.268761,.280654,.292503,.304308,.316066,.327776,.339436,.351044,.362598,.374097,.385538,.396921,.408243,.419502,.430697,.441826,.452888,.463881,.474802,.485651,.496425,.507124,.517745,.528287,.538748,.549126,.559421,.56963,.579752,.589785,.599728,.609579,.619337,.629,.638567,.648036,.657406,.666676,.675843,.684908,.693867,.70272,.711466,.720103,.72863,.737045,.745348,.753536,.76161,.769566,.777405,.785125,.792725,.800204,.807561,.814793,.821901,.828884,.835739,.842467,.849066,.855535,.861873,.868079,.874153,.880093,.885898,.891567,.897101,.902497,.907754,.912873,.917853,.922692,.92739,.931946,.936359,.940629,.944755,.948737,.952574,.956265,.959809,.963207,.966457,.96956,.972514,.97532,.977976,.980482,.982839,.985045,.987101,.989006,.990759,.992361,.993811,.995109,.996254,.997248,.998088,.998776,.999312,.999694,.999924,1],gt._$92=function(t,e){var i=Math.atan2(t[1],t[0]),n=Math.atan2(e[1],e[0]);return gt._$tS(i,n)},gt._$tS=function(t,e){for(var i=t-e;i<-Math.PI;)i+=2*Math.PI;for(;i>Math.PI;)i-=2*Math.PI;return i},gt._$9=function(t){return Math.sin(t)},gt.fcos=function(t){return Math.cos(t)},vt.prototype._$u2=function(){return this._$IS[0]},vt.prototype._$yo=function(){return this._$AT&&!this._$IS[0]},vt.prototype._$GT=function(){return this._$e0},yt._$W2=0,yt.SYSTEM_INFO=null,yt.USER_AGENT=navigator.userAgent,yt.isIPhone=function(){return yt.SYSTEM_INFO||yt.setup(),yt.SYSTEM_INFO._isIPhone},yt.isIOS=function(){return yt.SYSTEM_INFO||yt.setup(),yt.SYSTEM_INFO._isIPhone||yt.SYSTEM_INFO._isIPad},yt.isAndroid=function(){return yt.SYSTEM_INFO||yt.setup(),yt.SYSTEM_INFO._isAndroid},yt.getOSVersion=function(){return yt.SYSTEM_INFO||yt.setup(),yt.SYSTEM_INFO.version},yt.getOS=function(){return yt.SYSTEM_INFO||yt.setup(),yt.SYSTEM_INFO._isIPhone||yt.SYSTEM_INFO._isIPad?"iOS":yt.SYSTEM_INFO._isAndroid?"Android":"_$Q0 OS"},yt.setup=function(){function t(t,e){for(var i=t.substring(e).split(/[ _,;\.]/),n=0,r=0;r<=2&&!isNaN(i[r]);r++){var o=parseInt(i[r]);if(o<0||999<o){it._$li("err : "+o+" @UtHtml5.setup()"),n=0;break}n+=o*Math.pow(1e3,2-r)}return n}var e,i=yt.USER_AGENT,n=yt.SYSTEM_INFO={userAgent:i};if(0<=(e=i.indexOf("iPhone OS ")))n.os="iPhone",n._isIPhone=!0,n.version=t(i,e+"iPhone OS ".length);else if(0<=(e=i.indexOf("iPad"))){if((e=i.indexOf("CPU OS"))<0)return void it._$li(" err : "+i+" @UtHtml5.setup()");n.os="iPad",n._isIPad=!0,n.version=t(i,e+"CPU OS ".length)}else 0<=(e=i.indexOf("Android"))?(n.os="Android",n._isAndroid=!0,n.version=t(i,e+"Android ".length)):(n.os="-",n.version=-1)},window.UtSystem=Dt,window.UtDebug=it,window.LDTransform=ct,window.LDGL=nt,window.Live2D=rt,window.Live2DModelWebGL=lt,window.Live2DModelJS=G,window.Live2DMotion=z,window.MotionQueueManager=ut,window.PhysicsHair=o,window.AMotion=t,window.PartsDataID=u,window.DrawDataID=C,window.BaseDataID=ft,window.ParamID=h,rt.init(),$t=!1}()}).call(e,i(10))},function(t,e){t.exports={import:function(){throw new Error("System.import cannot be used indirectly")}}},function(t,e,i){t.exports=i(4)}])},function(t,e,i){"use strict";$(".site-master-avatar, .site-title").on("mouseout",function(){this.classList.remove("animated","tada")})},function(t,e,i){"use strict";function n(t){var e=t.clipboardData||window.clipboardData;if(e){t.preventDefault();var i="著作权归作者所有。<br>商业转载请联系作者获得授权，非商业转载请注明出处。<br>作者："+CONFIG.site.author+"<br>链接："+window.location.href+"<br>来源："+CONFIG.site.title+"<br><br>"+window.getSelection().toString(),n="著作权归作者所有。\n商业转载请联系作者获得授权，非商业转载请注明出处。\n作者："+CONFIG.site.author+"\n链接："+window.location.href+"\n来源："+CONFIG.site.title+"\n\n"+window.getSelection().toString();e.setData("text/html",i),e.setData("text/plain",n)}}for(var r=document.getElementsByClassName("post-body"),o=0;o<r.length;o++)r[o].addEventListener("copy",function(t){window.getSelection().toString()&&42<window.getSelection().toString().length&&(n(t),notie("商业转载请联系作者获得授权，非商业转载请注明出处，谢谢合作。",{type:"info",autoHide:!0}))})},function(t,e,i){"use strict";i(32);var n=i(33);n.configure({showSpinner:!1,easing:"ease-out",speed:1e3}),$(document).pjax("a:not(.fancybox)","#main",{scrollTo:$(".main").position().top-60,fragment:"#main",timeout:5e3}),$(document).on("pjax:start",function(){if(n.start(),$("html, body").animate({scrollTop:$(".main").position().top-60},500),window.dplayerInstances)for(var t=0;t<window.dplayerInstances.length;t++)window.dplayerInstances[t].destroy()}),$(document).on("pjax:end",function(){n.done(),i(3)(),i(4)(),i(5)(),i(2)(),CONFIG.fancybox&&NexT.utils.wrapImageWithFancyBox(),ga("set","location",window.location.href),ga("send","pageview")})},function(t,e,i){"use strict";var d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};!function(m){function t(t,e,i){return i=u(e,i),this.on("click.pjax",t,function(t){var e=i;e.container||((e=m.extend({},i)).container=m(this).attr("data-pjax")),n(t,e)})}function n(t,e,i){i=u(e,i);var n=t.currentTarget,r=m(n);if("A"!==n.tagName.toUpperCase())throw"$.fn.pjax or $.pjax.click requires an anchor element";if(!(1<t.which||t.metaKey||t.ctrlKey||t.shiftKey||t.altKey||location.protocol!==n.protocol||location.hostname!==n.hostname||-1<n.href.indexOf("#")&&l(n)==l(location)||t.isDefaultPrevented())){var o={url:n.href,container:r.attr("data-pjax"),target:n},s=m.extend({},o,i),a=m.Event("pjax:click");r.trigger(a,[s]),a.isDefaultPrevented()||(g(s),t.preventDefault(),r.trigger("pjax:clicked",[s]))}}function e(t,e,i){i=u(e,i);var n=t.currentTarget,r=m(n);if("FORM"!==n.tagName.toUpperCase())throw"$.pjax.submit requires a form element";var o={type:(r.attr("method")||"GET").toUpperCase(),url:r.attr("action"),container:r.attr("data-pjax"),target:n};if("GET"!==o.type&&void 0!==window.FormData)o.data=new FormData(n),o.processData=!1,o.contentType=!1;else{if(r.find(":file").length)return;o.data=r.serializeArray()}g(m.extend({},o,i)),t.preventDefault()}function g(f){function p(t,e,i){i||(i={}),i.relatedTarget=f.target;var n=m.Event(t,i);return d.trigger(n,e),!n.isDefaultPrevented()}f=m.extend(!0,{},m.ajaxSettings,g.defaults,f),m.isFunction(f.url)&&(f.url=f.url());var _=b(f.url).hash,t=m.type(f.container);if("string"!==t)throw"expected string value for 'container' option; got "+t;var n,d=f.context=m(f.container);if(!d.length)throw"the container selector '"+f.container+"' did not match anything";f.data||(f.data={}),m.isArray(f.data)?f.data.push({name:"_pjax",value:f.container}):f.data._pjax=f.container,f.beforeSend=function(t,e){if("GET"!==e.type&&(e.timeout=0),t.setRequestHeader("X-PJAX","true"),t.setRequestHeader("X-PJAX-Container",f.container),!p("pjax:beforeSend",[t,e]))return!1;0<e.timeout&&(n=setTimeout(function(){p("pjax:timeout",[t,f])&&t.abort("timeout")},e.timeout),e.timeout=0);var i=b(e.url);_&&(i.hash=_),f.requestUrl=h(i)},f.complete=function(t,e){n&&clearTimeout(n),p("pjax:complete",[t,e,f]),p("pjax:end",[t,f])},f.error=function(t,e,i){var n=T("",t,f),r=p("pjax:error",[t,e,i,f]);"GET"==f.type&&"abort"!==e&&r&&v(n.url)},f.success=function(t,e,i){var n=g.state,r="function"==typeof m.pjax.defaults.version?m.pjax.defaults.version():m.pjax.defaults.version,o=i.getResponseHeader("X-PJAX-Version"),s=T(t,i,f),a=b(s.url);if(_&&(a.hash=_,s.url=a.href),r&&o&&r!==o)v(s.url);else if(s.contents){if(g.state={id:f.id||$(),url:s.url,title:s.title,container:f.container,fragment:f.fragment,timeout:f.timeout},(f.push||f.replace)&&window.history.replaceState(g.state,s.title,s.url),m.contains(d,document.activeElement))try{document.activeElement.blur()}catch(t){}s.title&&(document.title=s.title),p("pjax:beforeReplace",[s.contents,f],{state:g.state,previousState:n}),d.html(s.contents);var l=d.find("input[autofocus], textarea[autofocus]").last()[0];l&&document.activeElement!==l&&l.focus(),function(t){if(t){var n=m("script[src]");t.each(function(){var t=this.src;if(!n.filter(function(){return this.src===t}).length){var e=document.createElement("script"),i=m(this).attr("type");i&&(e.type=i),e.src=m(this).attr("src"),document.head.appendChild(e)}})}}(s.scripts);var u=f.scrollTo;if(_){var h=decodeURIComponent(_.slice(1)),c=document.getElementById(h)||document.getElementsByName(h)[0];c&&(u=m(c).offset().top)}"number"==typeof u&&m(window).scrollTop(u),p("pjax:success",[t,e,i,f])}else v(s.url)},g.state||(g.state={id:$(),url:window.location.href,title:document.title,container:f.container,fragment:f.fragment,timeout:f.timeout},window.history.replaceState(g.state,document.title)),y(g.xhr),g.options=f;var e,i,r=g.xhr=m.ajax(f);return 0<r.readyState&&(f.push&&!f.replace&&(e=g.state.id,i=[f.container,w(d)],O[e]=i,A.push(e),x(E,0),x(A,g.defaults.maxCacheLength),window.history.pushState(null,"",f.requestUrl)),p("pjax:start",[r,f]),p("pjax:send",[r,f])),g.xhr}function i(t,e){var i={url:window.location.href,push:!1,replace:!0,scrollTo:!1};return g(m.extend(i,u(t,e)))}function v(t){window.history.replaceState(null,"",g.state.url),window.location.replace(t)}function r(t){S||y(g.xhr);var e,i,n,r,o,s,a=g.state,l=t.state;if(l&&l.container){if(S&&P==l.url)return;if(a){if(a.id===l.id)return;e=a.id<l.id?"forward":"back"}var u=O[l.id]||[],h=u[0]||l.container,c=m(h),f=u[1];if(c.length){a&&(i=e,n=a.id,r=[h,w(c)],O[n]=r,s="forward"===i?(o=A,E):(o=E,A),o.push(n),(n=s.pop())&&delete O[n],x(o,g.defaults.maxCacheLength));var p=m.Event("pjax:popstate",{state:l,direction:e});c.trigger(p);var _={id:l.id,url:l.url,container:h,push:!1,fragment:l.fragment,timeout:l.timeout,scrollTo:!1};if(f){c.trigger("pjax:start",[null,_]),(g.state=l).title&&(document.title=l.title);var d=m.Event("pjax:beforeReplace",{state:l,previousState:a});c.trigger(d,[f,_]),c.html(f),c.trigger("pjax:end",[null,_])}else g(_);c[0].offsetHeight}else v(location.href)}S=!1}function o(t){var e=m.isFunction(t.url)?t.url():t.url,i=t.type?t.type.toUpperCase():"GET",n=m("<form>",{method:"GET"===i?"GET":"POST",action:e,style:"display:none"});"GET"!==i&&"POST"!==i&&n.append(m("<input>",{type:"hidden",name:"_method",value:i.toLowerCase()}));var r=t.data;if("string"==typeof r)m.each(r.split("&"),function(t,e){var i=e.split("=");n.append(m("<input>",{type:"hidden",name:i[0],value:i[1]}))});else if(m.isArray(r))m.each(r,function(t,e){n.append(m("<input>",{type:"hidden",name:e.name,value:e.value}))});else if("object"===(void 0===r?"undefined":d(r))){var o;for(o in r)n.append(m("<input>",{type:"hidden",name:o,value:r[o]}))}m(document.body).append(n),n.submit()}function y(t){t&&t.readyState<4&&(t.onreadystatechange=m.noop,t.abort())}function $(){return(new Date).getTime()}function w(t){var e=t.clone();return e.find("script").each(function(){this.src||m._data(this,"globalEval",!1)}),e.contents()}function h(t){return t.search=t.search.replace(/([?&])(_pjax|_)=[^&]*/g,"").replace(/^&/,""),t.href.replace(/\?($|#)/,"$1")}function b(t){var e=document.createElement("a");return e.href=t,e}function l(t){return t.href.replace(/#.*/,"")}function u(t,e){return t&&e?((e=m.extend({},e)).container=t,e):m.isPlainObject(t)?t:{container:t}}function c(t,e){return t.filter(e).add(t.find(e))}function f(t){return m.parseHTML(t,document,!0)}function T(t,e,i){var n,r,o={},s=/<html/i.test(t),a=e.getResponseHeader("X-PJAX-URL");if(o.url=a?h(b(a)):i.requestUrl,s){r=m(f(t.match(/<body[^>]*>([\s\S.]*)<\/body>/i)[0]));var l=t.match(/<head[^>]*>([\s\S.]*)<\/head>/i);n=null!=l?m(f(l[0])):r}else n=r=m(f(t));if(0===r.length)return o;if(o.title=c(n,"title").last().text(),i.fragment){var u=r;"body"!==i.fragment&&(u=c(u,i.fragment).first()),u.length&&(o.contents="body"===i.fragment?u:u.contents(),o.title||(o.title=u.attr("title")||u.data("title")))}else s||(o.contents=r);return o.contents&&(o.contents=o.contents.not(function(){return m(this).is("title")}),o.contents.find("title").remove(),o.scripts=c(o.contents,"script[src]").remove(),o.contents=o.contents.not(o.scripts)),o.title&&(o.title=m.trim(o.title)),o}function x(t,e){for(;t.length>e;)delete O[t.shift()]}function s(){return m("meta").filter(function(){var t=m(this).attr("http-equiv");return t&&"X-PJAX-VERSION"===t.toUpperCase()}).attr("content")}function a(){m.fn.pjax=t,m.pjax=g,m.pjax.enable=m.noop,m.pjax.disable=p,m.pjax.click=n,m.pjax.submit=e,m.pjax.reload=i,m.pjax.defaults={timeout:650,push:!0,replace:!1,type:"GET",dataType:"html",scrollTo:0,maxCacheLength:20,version:s},m(window).on("popstate.pjax",r)}function p(){m.fn.pjax=function(){return this},m.pjax=o,m.pjax.enable=a,m.pjax.disable=m.noop,m.pjax.click=m.noop,m.pjax.submit=m.noop,m.pjax.reload=function(){window.location.reload()},m(window).off("popstate.pjax",r)}var S=!0,P=window.location.href,_=window.history.state;_&&_.container&&(g.state=_),"state"in window.history&&(S=!1);var O={},E=[],A=[];m.event.props&&m.inArray("state",m.event.props)<0?m.event.props.push("state"):"state"in m.Event.prototype||m.event.addProp("state"),m.support.pjax=window.history&&window.history.pushState&&window.history.replaceState&&!navigator.userAgent.match(/((iPod|iPhone|iPad).+\bOS\s+[1-4]\D|WebApps\/.+CFNetwork)/),m.support.pjax?a():p()}(jQuery)},function(t,e,i){"use strict";var n,r;"function"==typeof Symbol&&Symbol.iterator,void 0!==(r="function"==typeof(n=function(){function i(t,e,i){return t<e?e:i<t?i:t}function h(t){return 100*(-1+t)}function r(t,e){return 0<=("string"==typeof t?t:o(t)).indexOf(" "+e+" ")}function s(t,e){var i=o(t),n=i+e;r(i,e)||(t.className=n.substring(1))}function e(t,e){var i,n=o(t);r(t,e)&&(i=n.replace(" "+e+" "," "),t.className=i.substring(1,i.length-1))}function o(t){return(" "+(t.className||"")+" ").replace(/\s+/gi," ")}function a(t){t&&t.parentNode&&t.parentNode.removeChild(t)}var n,l,c={version:"0.2.0"},f=c.settings={minimum:.08,easing:"ease",positionUsing:"",speed:200,trickle:!0,trickleRate:.02,trickleSpeed:800,showSpinner:!0,barSelector:'[role="bar"]',spinnerSelector:'[role="spinner"]',parent:"body",template:'<div class="bar" role="bar"><div class="peg"></div></div><div class="spinner" role="spinner"><div class="spinner-icon"></div></div>'};c.configure=function(t){var e,i;for(e in t)void 0!==(i=t[e])&&t.hasOwnProperty(e)&&(f[e]=i);return this},c.status=null,c.set=function(o){var t=c.isStarted();o=i(o,f.minimum,1),c.status=1===o?null:o;var s=c.render(!t),a=s.querySelector(f.barSelector),l=f.speed,u=f.easing;return s.offsetWidth,p(function(t){var e,i,n,r;""===f.positionUsing&&(f.positionUsing=c.getPositioningCSS()),_(a,(e=o,i=l,n=u,(r="translate3d"===f.positionUsing?{transform:"translate3d("+h(e)+"%,0,0)"}:"translate"===f.positionUsing?{transform:"translate("+h(e)+"%,0)"}:{"margin-left":h(e)+"%"}).transition="all "+i+"ms "+n,r)),1===o?(_(s,{transition:"none",opacity:1}),s.offsetWidth,setTimeout(function(){_(s,{transition:"all "+l+"ms linear",opacity:0}),setTimeout(function(){c.remove(),t()},l)},l)):setTimeout(t,l)}),this},c.isStarted=function(){return"number"==typeof c.status},c.start=function(){return c.status||c.set(0),f.trickle&&function t(){setTimeout(function(){c.status&&(c.trickle(),t())},f.trickleSpeed)}(),this},c.done=function(t){return t||c.status?c.inc(.3+.5*Math.random()).set(1):this},c.inc=function(t){var e=c.status;return e?("number"!=typeof t&&(t=(1-e)*i(Math.random()*e,.1,.95)),e=i(e+t,0,.994),c.set(e)):c.start()},c.trickle=function(){return c.inc(Math.random()*f.trickleRate)},l=n=0,c.promise=function(t){return t&&"resolved"!==t.state()&&(0===l&&c.start(),n++,l++,t.always(function(){0==--l?(n=0,c.done()):c.set((n-l)/n)})),this},c.render=function(t){if(c.isRendered())return document.getElementById("nprogress");s(document.documentElement,"nprogress-busy");var e=document.createElement("div");e.id="nprogress",e.innerHTML=f.template;var i,n=e.querySelector(f.barSelector),r=t?"-100":h(c.status||0),o=document.querySelector(f.parent);return _(n,{transition:"all 0 linear",transform:"translate3d("+r+"%,0,0)"}),f.showSpinner||(i=e.querySelector(f.spinnerSelector))&&a(i),o!=document.body&&s(o,"nprogress-custom-parent"),o.appendChild(e),e},c.remove=function(){e(document.documentElement,"nprogress-busy"),e(document.querySelector(f.parent),"nprogress-custom-parent");var t=document.getElementById("nprogress");t&&a(t)},c.isRendered=function(){return!!document.getElementById("nprogress")},c.getPositioningCSS=function(){var t=document.body.style,e="WebkitTransform"in t?"Webkit":"MozTransform"in t?"Moz":"msTransform"in t?"ms":"OTransform"in t?"O":"";return e+"Perspective"in t?"translate3d":e+"Transform"in t?"translate":"margin"};var p=function(){function e(){var t=i.shift();t&&t(e)}var i=[];return function(t){i.push(t),1==i.length&&e()}}(),_=function(){function o(t,e,i){var n;n=(n=e).replace(/^-ms-/,"ms-").replace(/-([\da-z])/gi,function(t,e){return e.toUpperCase()}),e=r[n]||(r[n]=function(t){var e=document.body.style;if(t in e)return t;for(var i,n=s.length,r=t.charAt(0).toUpperCase()+t.slice(1);n--;)if((i=s[n]+r)in e)return i;return t}(n)),t.style[e]=i}var s=["Webkit","O","Moz","ms"],r={};return function(t,e){var i,n,r=arguments;if(2==r.length)for(i in e)void 0!==(n=e[i])&&e.hasOwnProperty(i)&&o(t,i,n);else o(t,r[1],r[2])}}();return c})?n.call(e,i,e,t):n)&&(t.exports=r)},function(t,e,i){"use strict";function r(t,e,i,n,r){var o,s="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",a=[],l="-"==(t+="").trim()[0],u=0;n||(n=s),r||(r=s),l&&(t=t.slice(1));for(var h=t.length;h--;)u+=n.indexOf(t[h])*Math.pow(e,t.length-h-1);for(;0!=u;a.unshift(r[o]))o=u%i,u=Math.floor(u/i);return u&&a.unshift(r[u]),(l?"-":"")+a.join("")}var o=function(){function n(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(t,e,i){return e&&n(t.prototype,e),i&&n(t,i),t}}(),n=function(){function n(t){var e=this;if(function(t,e){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this),this.addr=t,this.groups=new Set,this.on=!1,this.waiting=!1,this.onOnlineChange=null,this.pinger=setInterval(function(){e.opened&&e.ws.send("")},2e4),this.user=r(Date.now(),10,62)+"-"+r(Math.round(99999999*Math.random()),10,62),this.ws=null,window.localStorage){var i=localStorage.getItem("online_user");i?this.user=i:localStorage.setItem("online_user",this.user)}t&&(this.on=!0,this.connet())}return o(n,[{key:"enter",value:function(t){if("string"!=typeof t)throw"name is not a string:"+t;return this.groups.add(t),this.opened&&this.ws.send(JSON.stringify({_:"enter",g:t,u:this.user})),this}},{key:"leave",value:function(t){if("string"!=typeof t)throw"name is not a string:"+t;return this.opened&&this.groups.delete(t)&&this.ws.send(JSON.stringify({_:"leave",g:t})),this}},{key:"leaveAll",value:function(){if(this.opened){var t=!0,e=!1,i=void 0;try{for(var n,r=this.groups[Symbol.iterator]();!(t=(n=r.next()).done);t=!0){var o=n.value;this.leave(o)}}catch(t){e=!0,i=t}finally{try{!t&&r.return&&r.return()}finally{if(e)throw i}}}return this}},{key:"_report",value:function(t){this.onOnlineChange&&this.onOnlineChange(t)}},{key:"connet",value:function(t){var l=this;if(this.waiting=!1,t&&(this.addr=t),!1!==this.on&&!this.opened){var e=this.ws=new WebSocket(this.addr);return e.onmessage=function(t){if("connected"!==t.data){var e=JSON.parse(t.data);switch(e._){case"ol":e.c=parseInt(e.c,32),e.u=parseInt(e.u,32),l._report(e)}}else{var i=!0,n=!1,r=void 0;try{for(var o,s=l.groups[Symbol.iterator]();!(i=(o=s.next()).done);i=!0){var a=o.value;l.enter(a)}}catch(t){n=!0,r=t}finally{try{!i&&s.return&&s.return()}finally{if(n)throw r}}}},e.onclose=function(t){if(!l.waiting){var e=!0,i=!1,n=void 0;try{for(var r,o=l.groups[Symbol.iterator]();!(e=(r=o.next()).done);e=!0){var s=r.value;l._report({g:s,c:0,u:0})}}catch(t){i=!0,n=t}finally{try{!e&&o.return&&o.return()}finally{if(i)throw n}}l.waiting=!0,setTimeout(function(){l.connet()},5e3)}},e.onerror=function(t){e.onclose()},this}}},{key:"close",value:function(){this.on=!1,this.ws.close(),clearInterval(this.pinger)}},{key:"opened",get:function(){return this.ws&&1===this.ws.readyState}}]),n}();if(window.CONFIG.onlineAPI&&!NexT.utils.isMobile()){var s=new n(window.CONFIG.onlineAPI);s.enter(document.domain),s.onOnlineChange=function(t){document.getElementById("online-count").innerHTML=t.u}}},function(t,e,i){"use strict";$(".search-form").submit(function(t){t.preventDefault(),window.open("https://www.google.com/search?&q=site%3A"+window.location.host+"+"+encodeURIComponent($('.search-form input[name="keyword"]').val()))})}]);